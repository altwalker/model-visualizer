var ModelVisualizer=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=173)}({1:function(t,e,n){(function(t,r){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o="Expected a function",a="__lodash_placeholder__",u=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],c="[object Arguments]",s="[object Array]",l="[object Boolean]",f="[object Date]",h="[object Error]",d="[object Function]",p="[object GeneratorFunction]",v="[object Map]",g="[object Number]",_="[object Object]",m="[object RegExp]",y="[object Set]",b="[object String]",w="[object Symbol]",x="[object WeakMap]",E="[object ArrayBuffer]",M="[object DataView]",A="[object Float32Array]",k="[object Float64Array]",C="[object Int8Array]",N="[object Int16Array]",S="[object Int32Array]",j="[object Uint8Array]",I="[object Uint16Array]",O="[object Uint32Array]",T=/\b__p \+= '';/g,$=/\b(__p \+=) '' \+/g,P=/(__e\(.*?\)|\b__t\)) \+\n'';/g,D=/&(?:amp|lt|gt|quot|#39);/g,L=/[&<>"']/g,z=RegExp(D.source),V=RegExp(L.source),U=/<%-([\s\S]+?)%>/g,R=/<%([\s\S]+?)%>/g,B=/<%=([\s\S]+?)%>/g,F=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,q=/^\w*$/,Y=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,W=/[\\^$.*+?()[\]{}|]/g,H=RegExp(W.source),X=/^\s+/,G=/\s/,Z=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,J=/\{\n\/\* \[wrapped with (.+)\] \*/,K=/,? & /,Q=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,tt=/[()=,{}\[\]\/\s]/,et=/\\(\\)?/g,nt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,rt=/\w*$/,it=/^[-+]0x[0-9a-f]+$/i,ot=/^0b[01]+$/i,at=/^\[object .+?Constructor\]$/,ut=/^0o[0-7]+$/i,ct=/^(?:0|[1-9]\d*)$/,st=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,lt=/($^)/,ft=/['\n\r\u2028\u2029\\]/g,ht="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",dt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pt="[\\ud800-\\udfff]",vt="["+dt+"]",gt="["+ht+"]",_t="\\d+",mt="[\\u2700-\\u27bf]",yt="[a-z\\xdf-\\xf6\\xf8-\\xff]",bt="[^\\ud800-\\udfff"+dt+_t+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",wt="\\ud83c[\\udffb-\\udfff]",xt="[^\\ud800-\\udfff]",Et="(?:\\ud83c[\\udde6-\\uddff]){2}",Mt="[\\ud800-\\udbff][\\udc00-\\udfff]",At="[A-Z\\xc0-\\xd6\\xd8-\\xde]",kt="(?:"+yt+"|"+bt+")",Ct="(?:"+At+"|"+bt+")",Nt="(?:"+gt+"|"+wt+")"+"?",St="[\\ufe0e\\ufe0f]?"+Nt+("(?:\\u200d(?:"+[xt,Et,Mt].join("|")+")[\\ufe0e\\ufe0f]?"+Nt+")*"),jt="(?:"+[mt,Et,Mt].join("|")+")"+St,It="(?:"+[xt+gt+"?",gt,Et,Mt,pt].join("|")+")",Ot=RegExp("['’]","g"),Tt=RegExp(gt,"g"),$t=RegExp(wt+"(?="+wt+")|"+It+St,"g"),Pt=RegExp([At+"?"+yt+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[vt,At,"$"].join("|")+")",Ct+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[vt,At+kt,"$"].join("|")+")",At+"?"+kt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",At+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",_t,jt].join("|"),"g"),Dt=RegExp("[\\u200d\\ud800-\\udfff"+ht+"\\ufe0e\\ufe0f]"),Lt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,zt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Vt=-1,Ut={};Ut[A]=Ut[k]=Ut[C]=Ut[N]=Ut[S]=Ut[j]=Ut["[object Uint8ClampedArray]"]=Ut[I]=Ut[O]=!0,Ut[c]=Ut[s]=Ut[E]=Ut[l]=Ut[M]=Ut[f]=Ut[h]=Ut[d]=Ut[v]=Ut[g]=Ut[_]=Ut[m]=Ut[y]=Ut[b]=Ut[x]=!1;var Rt={};Rt[c]=Rt[s]=Rt[E]=Rt[M]=Rt[l]=Rt[f]=Rt[A]=Rt[k]=Rt[C]=Rt[N]=Rt[S]=Rt[v]=Rt[g]=Rt[_]=Rt[m]=Rt[y]=Rt[b]=Rt[w]=Rt[j]=Rt["[object Uint8ClampedArray]"]=Rt[I]=Rt[O]=!0,Rt[h]=Rt[d]=Rt[x]=!1;var Bt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ft=parseFloat,qt=parseInt,Yt="object"==typeof t&&t&&t.Object===Object&&t,Wt="object"==typeof self&&self&&self.Object===Object&&self,Ht=Yt||Wt||Function("return this")(),Xt=e&&!e.nodeType&&e,Gt=Xt&&"object"==typeof r&&r&&!r.nodeType&&r,Zt=Gt&&Gt.exports===Xt,Jt=Zt&&Yt.process,Kt=function(){try{var t=Gt&&Gt.require&&Gt.require("util").types;return t||Jt&&Jt.binding&&Jt.binding("util")}catch(t){}}(),Qt=Kt&&Kt.isArrayBuffer,te=Kt&&Kt.isDate,ee=Kt&&Kt.isMap,ne=Kt&&Kt.isRegExp,re=Kt&&Kt.isSet,ie=Kt&&Kt.isTypedArray;function oe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ae(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function ue(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function ce(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function se(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function le(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function fe(t,e){return!!(null==t?0:t.length)&&we(t,e,0)>-1}function he(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function de(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function pe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function ve(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function ge(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function _e(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var me=Ae("length");function ye(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function be(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function we(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):be(t,Ee,n)}function xe(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function Ee(t){return t!=t}function Me(t,e){var n=null==t?0:t.length;return n?Ne(t,e)/n:NaN}function Ae(t){return function(e){return null==e?void 0:e[t]}}function ke(t){return function(e){return null==t?void 0:t[e]}}function Ce(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Ne(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function Se(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function je(t){return t?t.slice(0,Xe(t)+1).replace(X,""):t}function Ie(t){return function(e){return t(e)}}function Oe(t,e){return de(e,(function(e){return t[e]}))}function Te(t,e){return t.has(e)}function $e(t,e){for(var n=-1,r=t.length;++n<r&&we(e,t[n],0)>-1;);return n}function Pe(t,e){for(var n=t.length;n--&&we(e,t[n],0)>-1;);return n}function De(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var Le=ke({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),ze=ke({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ve(t){return"\\"+Bt[t]}function Ue(t){return Dt.test(t)}function Re(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function Be(t,e){return function(n){return t(e(n))}}function Fe(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var u=t[n];u!==e&&u!==a||(t[n]=a,o[i++]=n)}return o}function qe(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function Ye(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function We(t){return Ue(t)?function(t){var e=$t.lastIndex=0;for(;$t.test(t);)++e;return e}(t):me(t)}function He(t){return Ue(t)?function(t){return t.match($t)||[]}(t):function(t){return t.split("")}(t)}function Xe(t){for(var e=t.length;e--&&G.test(t.charAt(e)););return e}var Ge=ke({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Ze=function t(e){var n,r=(e=null==e?Ht:Ze.defaults(Ht.Object(),e,Ze.pick(Ht,zt))).Array,i=e.Date,G=e.Error,ht=e.Function,dt=e.Math,pt=e.Object,vt=e.RegExp,gt=e.String,_t=e.TypeError,mt=r.prototype,yt=ht.prototype,bt=pt.prototype,wt=e["__core-js_shared__"],xt=yt.toString,Et=bt.hasOwnProperty,Mt=0,At=(n=/[^.]+$/.exec(wt&&wt.keys&&wt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",kt=bt.toString,Ct=xt.call(pt),Nt=Ht._,St=vt("^"+xt.call(Et).replace(W,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),jt=Zt?e.Buffer:void 0,It=e.Symbol,$t=e.Uint8Array,Dt=jt?jt.allocUnsafe:void 0,Bt=Be(pt.getPrototypeOf,pt),Yt=pt.create,Wt=bt.propertyIsEnumerable,Xt=mt.splice,Gt=It?It.isConcatSpreadable:void 0,Jt=It?It.iterator:void 0,Kt=It?It.toStringTag:void 0,me=function(){try{var t=to(pt,"defineProperty");return t({},"",{}),t}catch(t){}}(),ke=e.clearTimeout!==Ht.clearTimeout&&e.clearTimeout,Je=i&&i.now!==Ht.Date.now&&i.now,Ke=e.setTimeout!==Ht.setTimeout&&e.setTimeout,Qe=dt.ceil,tn=dt.floor,en=pt.getOwnPropertySymbols,nn=jt?jt.isBuffer:void 0,rn=e.isFinite,on=mt.join,an=Be(pt.keys,pt),un=dt.max,cn=dt.min,sn=i.now,ln=e.parseInt,fn=dt.random,hn=mt.reverse,dn=to(e,"DataView"),pn=to(e,"Map"),vn=to(e,"Promise"),gn=to(e,"Set"),_n=to(e,"WeakMap"),mn=to(pt,"create"),yn=_n&&new _n,bn={},wn=No(dn),xn=No(pn),En=No(vn),Mn=No(gn),An=No(_n),kn=It?It.prototype:void 0,Cn=kn?kn.valueOf:void 0,Nn=kn?kn.toString:void 0;function Sn(t){if(Ya(t)&&!$a(t)&&!(t instanceof Tn)){if(t instanceof On)return t;if(Et.call(t,"__wrapped__"))return So(t)}return new On(t)}var jn=function(){function t(){}return function(e){if(!qa(e))return{};if(Yt)return Yt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function In(){}function On(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function Tn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function $n(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Pn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Dn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ln(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Dn;++e<n;)this.add(t[e])}function zn(t){var e=this.__data__=new Pn(t);this.size=e.size}function Vn(t,e){var n=$a(t),r=!n&&Ta(t),i=!n&&!r&&za(t),o=!n&&!r&&!i&&Qa(t),a=n||r||i||o,u=a?Se(t.length,gt):[],c=u.length;for(var s in t)!e&&!Et.call(t,s)||a&&("length"==s||i&&("offset"==s||"parent"==s)||o&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||uo(s,c))||u.push(s);return u}function Un(t){var e=t.length;return e?t[Lr(0,e-1)]:void 0}function Rn(t,e){return Ao(mi(t),Zn(e,0,t.length))}function Bn(t){return Ao(mi(t))}function Fn(t,e,n){(void 0!==n&&!ja(t[e],n)||void 0===n&&!(e in t))&&Xn(t,e,n)}function qn(t,e,n){var r=t[e];Et.call(t,e)&&ja(r,n)&&(void 0!==n||e in t)||Xn(t,e,n)}function Yn(t,e){for(var n=t.length;n--;)if(ja(t[n][0],e))return n;return-1}function Wn(t,e,n,r){return er(t,(function(t,i,o){e(r,t,n(t),o)})),r}function Hn(t,e){return t&&yi(e,wu(e),t)}function Xn(t,e,n){"__proto__"==e&&me?me(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Gn(t,e){for(var n=-1,i=e.length,o=r(i),a=null==t;++n<i;)o[n]=a?void 0:gu(t,e[n]);return o}function Zn(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function Jn(t,e,n,r,i,o){var a,u=1&e,s=2&e,h=4&e;if(n&&(a=i?n(t,r,i,o):n(t)),void 0!==a)return a;if(!qa(t))return t;var x=$a(t);if(x){if(a=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&Et.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!u)return mi(t,a)}else{var T=ro(t),$=T==d||T==p;if(za(t))return hi(t,u);if(T==_||T==c||$&&!i){if(a=s||$?{}:oo(t),!u)return s?function(t,e){return yi(t,no(t),e)}(t,function(t,e){return t&&yi(e,xu(e),t)}(a,t)):function(t,e){return yi(t,eo(t),e)}(t,Hn(a,t))}else{if(!Rt[T])return i?t:{};a=function(t,e,n){var r=t.constructor;switch(e){case E:return di(t);case l:case f:return new r(+t);case M:return function(t,e){var n=e?di(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case A:case k:case C:case N:case S:case j:case"[object Uint8ClampedArray]":case I:case O:return pi(t,n);case v:return new r;case g:case b:return new r(t);case m:return function(t){var e=new t.constructor(t.source,rt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case y:return new r;case w:return i=t,Cn?pt(Cn.call(i)):{}}var i}(t,T,u)}}o||(o=new zn);var P=o.get(t);if(P)return P;o.set(t,a),Za(t)?t.forEach((function(r){a.add(Jn(r,e,n,r,t,o))})):Wa(t)&&t.forEach((function(r,i){a.set(i,Jn(r,e,n,i,t,o))}));var D=x?void 0:(h?s?Hi:Wi:s?xu:wu)(t);return ue(D||t,(function(r,i){D&&(r=t[i=r]),qn(a,i,Jn(r,e,n,i,t,o))})),a}function Kn(t,e,n){var r=n.length;if(null==t)return!r;for(t=pt(t);r--;){var i=n[r],o=e[i],a=t[i];if(void 0===a&&!(i in t)||!o(a))return!1}return!0}function Qn(t,e,n){if("function"!=typeof t)throw new _t(o);return wo((function(){t.apply(void 0,n)}),e)}function tr(t,e,n,r){var i=-1,o=fe,a=!0,u=t.length,c=[],s=e.length;if(!u)return c;n&&(e=de(e,Ie(n))),r?(o=he,a=!1):e.length>=200&&(o=Te,a=!1,e=new Ln(e));t:for(;++i<u;){var l=t[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f==f){for(var h=s;h--;)if(e[h]===f)continue t;c.push(l)}else o(e,f,r)||c.push(l)}return c}Sn.templateSettings={escape:U,evaluate:R,interpolate:B,variable:"",imports:{_:Sn}},Sn.prototype=In.prototype,Sn.prototype.constructor=Sn,On.prototype=jn(In.prototype),On.prototype.constructor=On,Tn.prototype=jn(In.prototype),Tn.prototype.constructor=Tn,$n.prototype.clear=function(){this.__data__=mn?mn(null):{},this.size=0},$n.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},$n.prototype.get=function(t){var e=this.__data__;if(mn){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Et.call(e,t)?e[t]:void 0},$n.prototype.has=function(t){var e=this.__data__;return mn?void 0!==e[t]:Et.call(e,t)},$n.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=mn&&void 0===e?"__lodash_hash_undefined__":e,this},Pn.prototype.clear=function(){this.__data__=[],this.size=0},Pn.prototype.delete=function(t){var e=this.__data__,n=Yn(e,t);return!(n<0)&&(n==e.length-1?e.pop():Xt.call(e,n,1),--this.size,!0)},Pn.prototype.get=function(t){var e=this.__data__,n=Yn(e,t);return n<0?void 0:e[n][1]},Pn.prototype.has=function(t){return Yn(this.__data__,t)>-1},Pn.prototype.set=function(t,e){var n=this.__data__,r=Yn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Dn.prototype.clear=function(){this.size=0,this.__data__={hash:new $n,map:new(pn||Pn),string:new $n}},Dn.prototype.delete=function(t){var e=Ki(this,t).delete(t);return this.size-=e?1:0,e},Dn.prototype.get=function(t){return Ki(this,t).get(t)},Dn.prototype.has=function(t){return Ki(this,t).has(t)},Dn.prototype.set=function(t,e){var n=Ki(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Ln.prototype.add=Ln.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Ln.prototype.has=function(t){return this.__data__.has(t)},zn.prototype.clear=function(){this.__data__=new Pn,this.size=0},zn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},zn.prototype.get=function(t){return this.__data__.get(t)},zn.prototype.has=function(t){return this.__data__.has(t)},zn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Pn){var r=n.__data__;if(!pn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Dn(r)}return n.set(t,e),this.size=n.size,this};var er=xi(sr),nr=xi(lr,!0);function rr(t,e){var n=!0;return er(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function ir(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(void 0===u?a==a&&!Ka(a):n(a,u)))var u=a,c=o}return c}function or(t,e){var n=[];return er(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function ar(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=ao),i||(i=[]);++o<a;){var u=t[o];e>0&&n(u)?e>1?ar(u,e-1,n,r,i):pe(i,u):r||(i[i.length]=u)}return i}var ur=Ei(),cr=Ei(!0);function sr(t,e){return t&&ur(t,e,wu)}function lr(t,e){return t&&cr(t,e,wu)}function fr(t,e){return le(e,(function(e){return Ra(t[e])}))}function hr(t,e){for(var n=0,r=(e=ci(e,t)).length;null!=t&&n<r;)t=t[Co(e[n++])];return n&&n==r?t:void 0}function dr(t,e,n){var r=e(t);return $a(t)?r:pe(r,n(t))}function pr(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Kt&&Kt in pt(t)?function(t){var e=Et.call(t,Kt),n=t[Kt];try{t[Kt]=void 0;var r=!0}catch(t){}var i=kt.call(t);r&&(e?t[Kt]=n:delete t[Kt]);return i}(t):function(t){return kt.call(t)}(t)}function vr(t,e){return t>e}function gr(t,e){return null!=t&&Et.call(t,e)}function _r(t,e){return null!=t&&e in pt(t)}function mr(t,e,n){for(var i=n?he:fe,o=t[0].length,a=t.length,u=a,c=r(a),s=1/0,l=[];u--;){var f=t[u];u&&e&&(f=de(f,Ie(e))),s=cn(f.length,s),c[u]=!n&&(e||o>=120&&f.length>=120)?new Ln(u&&f):void 0}f=t[0];var h=-1,d=c[0];t:for(;++h<o&&l.length<s;){var p=f[h],v=e?e(p):p;if(p=n||0!==p?p:0,!(d?Te(d,v):i(l,v,n))){for(u=a;--u;){var g=c[u];if(!(g?Te(g,v):i(t[u],v,n)))continue t}d&&d.push(v),l.push(p)}}return l}function yr(t,e,n){var r=null==(t=_o(t,e=ci(e,t)))?t:t[Co(Uo(e))];return null==r?void 0:oe(r,t,n)}function br(t){return Ya(t)&&pr(t)==c}function wr(t,e,n,r,i){return t===e||(null==t||null==e||!Ya(t)&&!Ya(e)?t!=t&&e!=e:function(t,e,n,r,i,o){var a=$a(t),u=$a(e),d=a?s:ro(t),p=u?s:ro(e),x=(d=d==c?_:d)==_,A=(p=p==c?_:p)==_,k=d==p;if(k&&za(t)){if(!za(e))return!1;a=!0,x=!1}if(k&&!x)return o||(o=new zn),a||Qa(t)?qi(t,e,n,r,i,o):function(t,e,n,r,i,o,a){switch(n){case M:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case E:return!(t.byteLength!=e.byteLength||!o(new $t(t),new $t(e)));case l:case f:case g:return ja(+t,+e);case h:return t.name==e.name&&t.message==e.message;case m:case b:return t==e+"";case v:var u=Re;case y:var c=1&r;if(u||(u=qe),t.size!=e.size&&!c)return!1;var s=a.get(t);if(s)return s==e;r|=2,a.set(t,e);var d=qi(u(t),u(e),r,i,o,a);return a.delete(t),d;case w:if(Cn)return Cn.call(t)==Cn.call(e)}return!1}(t,e,d,n,r,i,o);if(!(1&n)){var C=x&&Et.call(t,"__wrapped__"),N=A&&Et.call(e,"__wrapped__");if(C||N){var S=C?t.value():t,j=N?e.value():e;return o||(o=new zn),i(S,j,n,r,o)}}if(!k)return!1;return o||(o=new zn),function(t,e,n,r,i,o){var a=1&n,u=Wi(t),c=u.length,s=Wi(e).length;if(c!=s&&!a)return!1;var l=c;for(;l--;){var f=u[l];if(!(a?f in e:Et.call(e,f)))return!1}var h=o.get(t),d=o.get(e);if(h&&d)return h==e&&d==t;var p=!0;o.set(t,e),o.set(e,t);var v=a;for(;++l<c;){f=u[l];var g=t[f],_=e[f];if(r)var m=a?r(_,g,f,e,t,o):r(g,_,f,t,e,o);if(!(void 0===m?g===_||i(g,_,n,r,o):m)){p=!1;break}v||(v="constructor"==f)}if(p&&!v){var y=t.constructor,b=e.constructor;y==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(p=!1)}return o.delete(t),o.delete(e),p}(t,e,n,r,i,o)}(t,e,n,r,wr,i))}function xr(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=pt(t);i--;){var u=n[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<o;){var c=(u=n[i])[0],s=t[c],l=u[1];if(a&&u[2]){if(void 0===s&&!(c in t))return!1}else{var f=new zn;if(r)var h=r(s,l,c,t,e,f);if(!(void 0===h?wr(l,s,3,r,f):h))return!1}}return!0}function Er(t){return!(!qa(t)||(e=t,At&&At in e))&&(Ra(t)?St:at).test(No(t));var e}function Mr(t){return"function"==typeof t?t:null==t?Hu:"object"==typeof t?$a(t)?jr(t[0],t[1]):Sr(t):nc(t)}function Ar(t){if(!ho(t))return an(t);var e=[];for(var n in pt(t))Et.call(t,n)&&"constructor"!=n&&e.push(n);return e}function kr(t){if(!qa(t))return function(t){var e=[];if(null!=t)for(var n in pt(t))e.push(n);return e}(t);var e=ho(t),n=[];for(var r in t)("constructor"!=r||!e&&Et.call(t,r))&&n.push(r);return n}function Cr(t,e){return t<e}function Nr(t,e){var n=-1,i=Da(t)?r(t.length):[];return er(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function Sr(t){var e=Qi(t);return 1==e.length&&e[0][2]?vo(e[0][0],e[0][1]):function(n){return n===t||xr(n,t,e)}}function jr(t,e){return so(t)&&po(e)?vo(Co(t),e):function(n){var r=gu(n,t);return void 0===r&&r===e?_u(n,t):wr(e,r,3)}}function Ir(t,e,n,r,i){t!==e&&ur(e,(function(o,a){if(i||(i=new zn),qa(o))!function(t,e,n,r,i,o,a){var u=yo(t,n),c=yo(e,n),s=a.get(c);if(s)return void Fn(t,n,s);var l=o?o(u,c,n+"",t,e,a):void 0,f=void 0===l;if(f){var h=$a(c),d=!h&&za(c),p=!h&&!d&&Qa(c);l=c,h||d||p?$a(u)?l=u:La(u)?l=mi(u):d?(f=!1,l=hi(c,!0)):p?(f=!1,l=pi(c,!0)):l=[]:Xa(c)||Ta(c)?(l=u,Ta(u)?l=uu(u):qa(u)&&!Ra(u)||(l=oo(c))):f=!1}f&&(a.set(c,l),i(l,c,r,o,a),a.delete(c));Fn(t,n,l)}(t,e,a,n,Ir,r,i);else{var u=r?r(yo(t,a),o,a+"",t,e,i):void 0;void 0===u&&(u=o),Fn(t,a,u)}}),xu)}function Or(t,e){var n=t.length;if(n)return uo(e+=e<0?n:0,n)?t[e]:void 0}function Tr(t,e,n){e=e.length?de(e,(function(t){return $a(t)?function(e){return hr(e,1===t.length?t[0]:t)}:t})):[Hu];var r=-1;return e=de(e,Ie(Ji())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(Nr(t,(function(t,n,i){return{criteria:de(e,(function(e){return e(t)})),index:++r,value:t}})),(function(t,e){return function(t,e,n){var r=-1,i=t.criteria,o=e.criteria,a=i.length,u=n.length;for(;++r<a;){var c=vi(i[r],o[r]);if(c){if(r>=u)return c;var s=n[r];return c*("desc"==s?-1:1)}}return t.index-e.index}(t,e,n)}))}function $r(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],u=hr(t,a);n(u,a)&&Br(o,ci(a,t),u)}return o}function Pr(t,e,n,r){var i=r?xe:we,o=-1,a=e.length,u=t;for(t===e&&(e=mi(e)),n&&(u=de(t,Ie(n)));++o<a;)for(var c=0,s=e[o],l=n?n(s):s;(c=i(u,l,c,r))>-1;)u!==t&&Xt.call(u,c,1),Xt.call(t,c,1);return t}function Dr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;uo(i)?Xt.call(t,i,1):ti(t,i)}}return t}function Lr(t,e){return t+tn(fn()*(e-t+1))}function zr(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=tn(e/2))&&(t+=t)}while(e);return n}function Vr(t,e){return xo(go(t,e,Hu),t+"")}function Ur(t){return Un(ju(t))}function Rr(t,e){var n=ju(t);return Ao(n,Zn(e,0,n.length))}function Br(t,e,n,r){if(!qa(t))return t;for(var i=-1,o=(e=ci(e,t)).length,a=o-1,u=t;null!=u&&++i<o;){var c=Co(e[i]),s=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(i!=a){var l=u[c];void 0===(s=r?r(l,c,u):void 0)&&(s=qa(l)?l:uo(e[i+1])?[]:{})}qn(u,c,s),u=u[c]}return t}var Fr=yn?function(t,e){return yn.set(t,e),t}:Hu,qr=me?function(t,e){return me(t,"toString",{configurable:!0,enumerable:!1,value:qu(e),writable:!0})}:Hu;function Yr(t){return Ao(ju(t))}function Wr(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=r(o);++i<o;)a[i]=t[i+e];return a}function Hr(t,e){var n;return er(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function Xr(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Ka(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return Gr(t,e,Hu,n)}function Gr(t,e,n,r){var i=0,o=null==t?0:t.length;if(0===o)return 0;for(var a=(e=n(e))!=e,u=null===e,c=Ka(e),s=void 0===e;i<o;){var l=tn((i+o)/2),f=n(t[l]),h=void 0!==f,d=null===f,p=f==f,v=Ka(f);if(a)var g=r||p;else g=s?p&&(r||h):u?p&&h&&(r||!d):c?p&&h&&!d&&(r||!v):!d&&!v&&(r?f<=e:f<e);g?i=l+1:o=l}return cn(o,4294967294)}function Zr(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],u=e?e(a):a;if(!n||!ja(u,c)){var c=u;o[i++]=0===a?0:a}}return o}function Jr(t){return"number"==typeof t?t:Ka(t)?NaN:+t}function Kr(t){if("string"==typeof t)return t;if($a(t))return de(t,Kr)+"";if(Ka(t))return Nn?Nn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Qr(t,e,n){var r=-1,i=fe,o=t.length,a=!0,u=[],c=u;if(n)a=!1,i=he;else if(o>=200){var s=e?null:zi(t);if(s)return qe(s);a=!1,i=Te,c=new Ln}else c=e?[]:u;t:for(;++r<o;){var l=t[r],f=e?e(l):l;if(l=n||0!==l?l:0,a&&f==f){for(var h=c.length;h--;)if(c[h]===f)continue t;e&&c.push(f),u.push(l)}else i(c,f,n)||(c!==u&&c.push(f),u.push(l))}return u}function ti(t,e){return null==(t=_o(t,e=ci(e,t)))||delete t[Co(Uo(e))]}function ei(t,e,n,r){return Br(t,e,n(hr(t,e)),r)}function ni(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Wr(t,r?0:o,r?o+1:i):Wr(t,r?o+1:0,r?i:o)}function ri(t,e){var n=t;return n instanceof Tn&&(n=n.value()),ve(e,(function(t,e){return e.func.apply(e.thisArg,pe([t],e.args))}),n)}function ii(t,e,n){var i=t.length;if(i<2)return i?Qr(t[0]):[];for(var o=-1,a=r(i);++o<i;)for(var u=t[o],c=-1;++c<i;)c!=o&&(a[o]=tr(a[o]||u,t[c],e,n));return Qr(ar(a,1),e,n)}function oi(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var u=r<o?e[r]:void 0;n(a,t[r],u)}return a}function ai(t){return La(t)?t:[]}function ui(t){return"function"==typeof t?t:Hu}function ci(t,e){return $a(t)?t:so(t,e)?[t]:ko(cu(t))}var si=Vr;function li(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:Wr(t,e,n)}var fi=ke||function(t){return Ht.clearTimeout(t)};function hi(t,e){if(e)return t.slice();var n=t.length,r=Dt?Dt(n):new t.constructor(n);return t.copy(r),r}function di(t){var e=new t.constructor(t.byteLength);return new $t(e).set(new $t(t)),e}function pi(t,e){var n=e?di(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function vi(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t==t,o=Ka(t),a=void 0!==e,u=null===e,c=e==e,s=Ka(e);if(!u&&!s&&!o&&t>e||o&&a&&c&&!u&&!s||r&&a&&c||!n&&c||!i)return 1;if(!r&&!o&&!s&&t<e||s&&n&&i&&!r&&!o||u&&n&&i||!a&&i||!c)return-1}return 0}function gi(t,e,n,i){for(var o=-1,a=t.length,u=n.length,c=-1,s=e.length,l=un(a-u,0),f=r(s+l),h=!i;++c<s;)f[c]=e[c];for(;++o<u;)(h||o<a)&&(f[n[o]]=t[o]);for(;l--;)f[c++]=t[o++];return f}function _i(t,e,n,i){for(var o=-1,a=t.length,u=-1,c=n.length,s=-1,l=e.length,f=un(a-c,0),h=r(f+l),d=!i;++o<f;)h[o]=t[o];for(var p=o;++s<l;)h[p+s]=e[s];for(;++u<c;)(d||o<a)&&(h[p+n[u]]=t[o++]);return h}function mi(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function yi(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var u=e[o],c=r?r(n[u],t[u],u,n,t):void 0;void 0===c&&(c=t[u]),i?Xn(n,u,c):qn(n,u,c)}return n}function bi(t,e){return function(n,r){var i=$a(n)?ae:Wn,o=e?e():{};return i(n,t,Ji(r,2),o)}}function wi(t){return Vr((function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,a&&co(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=pt(e);++r<i;){var u=n[r];u&&t(e,u,r,o)}return e}))}function xi(t,e){return function(n,r){if(null==n)return n;if(!Da(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=pt(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Ei(t){return function(e,n,r){for(var i=-1,o=pt(e),a=r(e),u=a.length;u--;){var c=a[t?u:++i];if(!1===n(o[c],c,o))break}return e}}function Mi(t){return function(e){var n=Ue(e=cu(e))?He(e):void 0,r=n?n[0]:e.charAt(0),i=n?li(n,1).join(""):e.slice(1);return r[t]()+i}}function Ai(t){return function(e){return ve(Ru(Tu(e).replace(Ot,"")),t,"")}}function ki(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=jn(t.prototype),r=t.apply(n,e);return qa(r)?r:n}}function Ci(t){return function(e,n,r){var i=pt(e);if(!Da(e)){var o=Ji(n,3);e=wu(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}function Ni(t){return Yi((function(e){var n=e.length,r=n,i=On.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new _t(o);if(i&&!u&&"wrapper"==Gi(a))var u=new On([],!0)}for(r=u?r:n;++r<n;){var c=Gi(a=e[r]),s="wrapper"==c?Xi(a):void 0;u=s&&lo(s[0])&&424==s[1]&&!s[4].length&&1==s[9]?u[Gi(s[0])].apply(u,s[3]):1==a.length&&lo(a)?u[c]():u.thru(a)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&$a(r))return u.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function Si(t,e,n,i,o,a,u,c,s,l){var f=128&e,h=1&e,d=2&e,p=24&e,v=512&e,g=d?void 0:ki(t);return function _(){for(var m=arguments.length,y=r(m),b=m;b--;)y[b]=arguments[b];if(p)var w=Zi(_),x=De(y,w);if(i&&(y=gi(y,i,o,p)),a&&(y=_i(y,a,u,p)),m-=x,p&&m<l){var E=Fe(y,w);return Di(t,e,Si,_.placeholder,n,y,E,c,s,l-m)}var M=h?n:this,A=d?M[t]:t;return m=y.length,c?y=mo(y,c):v&&m>1&&y.reverse(),f&&s<m&&(y.length=s),this&&this!==Ht&&this instanceof _&&(A=g||ki(A)),A.apply(M,y)}}function ji(t,e){return function(n,r){return function(t,e,n,r){return sr(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function Ii(t,e){return function(n,r){var i;if(void 0===n&&void 0===r)return e;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Kr(n),r=Kr(r)):(n=Jr(n),r=Jr(r)),i=t(n,r)}return i}}function Oi(t){return Yi((function(e){return e=de(e,Ie(Ji())),Vr((function(n){var r=this;return t(e,(function(t){return oe(t,r,n)}))}))}))}function Ti(t,e){var n=(e=void 0===e?" ":Kr(e)).length;if(n<2)return n?zr(e,t):e;var r=zr(e,Qe(t/We(e)));return Ue(e)?li(He(r),0,t).join(""):r.slice(0,t)}function $i(t){return function(e,n,i){return i&&"number"!=typeof i&&co(e,n,i)&&(n=i=void 0),e=ru(e),void 0===n?(n=e,e=0):n=ru(n),function(t,e,n,i){for(var o=-1,a=un(Qe((e-t)/(n||1)),0),u=r(a);a--;)u[i?a:++o]=t,t+=n;return u}(e,n,i=void 0===i?e<n?1:-1:ru(i),t)}}function Pi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=au(e),n=au(n)),t(e,n)}}function Di(t,e,n,r,i,o,a,u,c,s){var l=8&e;e|=l?32:64,4&(e&=~(l?64:32))||(e&=-4);var f=[t,e,i,l?o:void 0,l?a:void 0,l?void 0:o,l?void 0:a,u,c,s],h=n.apply(void 0,f);return lo(t)&&bo(h,f),h.placeholder=r,Eo(h,t,e)}function Li(t){var e=dt[t];return function(t,n){if(t=au(t),(n=null==n?0:cn(iu(n),292))&&rn(t)){var r=(cu(t)+"e").split("e");return+((r=(cu(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var zi=gn&&1/qe(new gn([,-0]))[1]==1/0?function(t){return new gn(t)}:Ku;function Vi(t){return function(e){var n=ro(e);return n==v?Re(e):n==y?Ye(e):function(t,e){return de(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Ui(t,e,n,i,u,c,s,l){var f=2&e;if(!f&&"function"!=typeof t)throw new _t(o);var h=i?i.length:0;if(h||(e&=-97,i=u=void 0),s=void 0===s?s:un(iu(s),0),l=void 0===l?l:iu(l),h-=u?u.length:0,64&e){var d=i,p=u;i=u=void 0}var v=f?void 0:Xi(t),g=[t,e,n,i,u,d,p,c,s,l];if(v&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,u=128==r&&8==n||128==r&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!u)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var c=e[3];if(c){var s=t[3];t[3]=s?gi(s,c,e[4]):c,t[4]=s?Fe(t[3],a):e[4]}(c=e[5])&&(s=t[5],t[5]=s?_i(s,c,e[6]):c,t[6]=s?Fe(t[5],a):e[6]);(c=e[7])&&(t[7]=c);128&r&&(t[8]=null==t[8]?e[8]:cn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(g,v),t=g[0],e=g[1],n=g[2],i=g[3],u=g[4],!(l=g[9]=void 0===g[9]?f?0:t.length:un(g[9]-h,0))&&24&e&&(e&=-25),e&&1!=e)_=8==e||16==e?function(t,e,n){var i=ki(t);return function o(){for(var a=arguments.length,u=r(a),c=a,s=Zi(o);c--;)u[c]=arguments[c];var l=a<3&&u[0]!==s&&u[a-1]!==s?[]:Fe(u,s);if((a-=l.length)<n)return Di(t,e,Si,o.placeholder,void 0,u,l,void 0,void 0,n-a);var f=this&&this!==Ht&&this instanceof o?i:t;return oe(f,this,u)}}(t,e,l):32!=e&&33!=e||u.length?Si.apply(void 0,g):function(t,e,n,i){var o=1&e,a=ki(t);return function e(){for(var u=-1,c=arguments.length,s=-1,l=i.length,f=r(l+c),h=this&&this!==Ht&&this instanceof e?a:t;++s<l;)f[s]=i[s];for(;c--;)f[s++]=arguments[++u];return oe(h,o?n:this,f)}}(t,e,n,i);else var _=function(t,e,n){var r=1&e,i=ki(t);return function e(){var o=this&&this!==Ht&&this instanceof e?i:t;return o.apply(r?n:this,arguments)}}(t,e,n);return Eo((v?Fr:bo)(_,g),t,e)}function Ri(t,e,n,r){return void 0===t||ja(t,bt[n])&&!Et.call(r,n)?e:t}function Bi(t,e,n,r,i,o){return qa(t)&&qa(e)&&(o.set(e,t),Ir(t,e,void 0,Bi,o),o.delete(e)),t}function Fi(t){return Xa(t)?void 0:t}function qi(t,e,n,r,i,o){var a=1&n,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var s=o.get(t),l=o.get(e);if(s&&l)return s==e&&l==t;var f=-1,h=!0,d=2&n?new Ln:void 0;for(o.set(t,e),o.set(e,t);++f<u;){var p=t[f],v=e[f];if(r)var g=a?r(v,p,f,e,t,o):r(p,v,f,t,e,o);if(void 0!==g){if(g)continue;h=!1;break}if(d){if(!_e(e,(function(t,e){if(!Te(d,e)&&(p===t||i(p,t,n,r,o)))return d.push(e)}))){h=!1;break}}else if(p!==v&&!i(p,v,n,r,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function Yi(t){return xo(go(t,void 0,Po),t+"")}function Wi(t){return dr(t,wu,eo)}function Hi(t){return dr(t,xu,no)}var Xi=yn?function(t){return yn.get(t)}:Ku;function Gi(t){for(var e=t.name+"",n=bn[e],r=Et.call(bn,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Zi(t){return(Et.call(Sn,"placeholder")?Sn:t).placeholder}function Ji(){var t=Sn.iteratee||Xu;return t=t===Xu?Mr:t,arguments.length?t(arguments[0],arguments[1]):t}function Ki(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Qi(t){for(var e=wu(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,po(i)]}return e}function to(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Er(n)?n:void 0}var eo=en?function(t){return null==t?[]:(t=pt(t),le(en(t),(function(e){return Wt.call(t,e)})))}:oc,no=en?function(t){for(var e=[];t;)pe(e,eo(t)),t=Bt(t);return e}:oc,ro=pr;function io(t,e,n){for(var r=-1,i=(e=ci(e,t)).length,o=!1;++r<i;){var a=Co(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Fa(i)&&uo(a,i)&&($a(t)||Ta(t))}function oo(t){return"function"!=typeof t.constructor||ho(t)?{}:jn(Bt(t))}function ao(t){return $a(t)||Ta(t)||!!(Gt&&t&&t[Gt])}function uo(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&ct.test(t))&&t>-1&&t%1==0&&t<e}function co(t,e,n){if(!qa(n))return!1;var r=typeof e;return!!("number"==r?Da(n)&&uo(e,n.length):"string"==r&&e in n)&&ja(n[e],t)}function so(t,e){if($a(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ka(t))||(q.test(t)||!F.test(t)||null!=e&&t in pt(e))}function lo(t){var e=Gi(t),n=Sn[e];if("function"!=typeof n||!(e in Tn.prototype))return!1;if(t===n)return!0;var r=Xi(n);return!!r&&t===r[0]}(dn&&ro(new dn(new ArrayBuffer(1)))!=M||pn&&ro(new pn)!=v||vn&&"[object Promise]"!=ro(vn.resolve())||gn&&ro(new gn)!=y||_n&&ro(new _n)!=x)&&(ro=function(t){var e=pr(t),n=e==_?t.constructor:void 0,r=n?No(n):"";if(r)switch(r){case wn:return M;case xn:return v;case En:return"[object Promise]";case Mn:return y;case An:return x}return e});var fo=wt?Ra:ac;function ho(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||bt)}function po(t){return t==t&&!qa(t)}function vo(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in pt(n)))}}function go(t,e,n){return e=un(void 0===e?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=un(i.length-e,0),u=r(a);++o<a;)u[o]=i[e+o];o=-1;for(var c=r(e+1);++o<e;)c[o]=i[o];return c[e]=n(u),oe(t,this,c)}}function _o(t,e){return e.length<2?t:hr(t,Wr(e,0,-1))}function mo(t,e){for(var n=t.length,r=cn(e.length,n),i=mi(t);r--;){var o=e[r];t[r]=uo(o,n)?i[o]:void 0}return t}function yo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var bo=Mo(Fr),wo=Ke||function(t,e){return Ht.setTimeout(t,e)},xo=Mo(qr);function Eo(t,e,n){var r=e+"";return xo(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Z,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return ue(u,(function(n){var r="_."+n[0];e&n[1]&&!fe(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(J);return e?e[1].split(K):[]}(r),n)))}function Mo(t){var e=0,n=0;return function(){var r=sn(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Ao(t,e){var n=-1,r=t.length,i=r-1;for(e=void 0===e?r:e;++n<e;){var o=Lr(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var ko=function(t){var e=Ma(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Y,(function(t,n,r,i){e.push(r?i.replace(et,"$1"):n||t)})),e}));function Co(t){if("string"==typeof t||Ka(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function No(t){if(null!=t){try{return xt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function So(t){if(t instanceof Tn)return t.clone();var e=new On(t.__wrapped__,t.__chain__);return e.__actions__=mi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var jo=Vr((function(t,e){return La(t)?tr(t,ar(e,1,La,!0)):[]})),Io=Vr((function(t,e){var n=Uo(e);return La(n)&&(n=void 0),La(t)?tr(t,ar(e,1,La,!0),Ji(n,2)):[]})),Oo=Vr((function(t,e){var n=Uo(e);return La(n)&&(n=void 0),La(t)?tr(t,ar(e,1,La,!0),void 0,n):[]}));function To(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:iu(n);return i<0&&(i=un(r+i,0)),be(t,Ji(e,3),i)}function $o(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=iu(n),i=n<0?un(r+i,0):cn(i,r-1)),be(t,Ji(e,3),i,!0)}function Po(t){return(null==t?0:t.length)?ar(t,1):[]}function Do(t){return t&&t.length?t[0]:void 0}var Lo=Vr((function(t){var e=de(t,ai);return e.length&&e[0]===t[0]?mr(e):[]})),zo=Vr((function(t){var e=Uo(t),n=de(t,ai);return e===Uo(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?mr(n,Ji(e,2)):[]})),Vo=Vr((function(t){var e=Uo(t),n=de(t,ai);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?mr(n,void 0,e):[]}));function Uo(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Ro=Vr(Bo);function Bo(t,e){return t&&t.length&&e&&e.length?Pr(t,e):t}var Fo=Yi((function(t,e){var n=null==t?0:t.length,r=Gn(t,e);return Dr(t,de(e,(function(t){return uo(t,n)?+t:t})).sort(vi)),r}));function qo(t){return null==t?t:hn.call(t)}var Yo=Vr((function(t){return Qr(ar(t,1,La,!0))})),Wo=Vr((function(t){var e=Uo(t);return La(e)&&(e=void 0),Qr(ar(t,1,La,!0),Ji(e,2))})),Ho=Vr((function(t){var e=Uo(t);return e="function"==typeof e?e:void 0,Qr(ar(t,1,La,!0),void 0,e)}));function Xo(t){if(!t||!t.length)return[];var e=0;return t=le(t,(function(t){if(La(t))return e=un(t.length,e),!0})),Se(e,(function(e){return de(t,Ae(e))}))}function Go(t,e){if(!t||!t.length)return[];var n=Xo(t);return null==e?n:de(n,(function(t){return oe(e,void 0,t)}))}var Zo=Vr((function(t,e){return La(t)?tr(t,e):[]})),Jo=Vr((function(t){return ii(le(t,La))})),Ko=Vr((function(t){var e=Uo(t);return La(e)&&(e=void 0),ii(le(t,La),Ji(e,2))})),Qo=Vr((function(t){var e=Uo(t);return e="function"==typeof e?e:void 0,ii(le(t,La),void 0,e)})),ta=Vr(Xo);var ea=Vr((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,Go(t,n)}));function na(t){var e=Sn(t);return e.__chain__=!0,e}function ra(t,e){return e(t)}var ia=Yi((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return Gn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Tn&&uo(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:ra,args:[i],thisArg:void 0}),new On(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(i)}));var oa=bi((function(t,e,n){Et.call(t,n)?++t[n]:Xn(t,n,1)}));var aa=Ci(To),ua=Ci($o);function ca(t,e){return($a(t)?ue:er)(t,Ji(e,3))}function sa(t,e){return($a(t)?ce:nr)(t,Ji(e,3))}var la=bi((function(t,e,n){Et.call(t,n)?t[n].push(e):Xn(t,n,[e])}));var fa=Vr((function(t,e,n){var i=-1,o="function"==typeof e,a=Da(t)?r(t.length):[];return er(t,(function(t){a[++i]=o?oe(e,t,n):yr(t,e,n)})),a})),ha=bi((function(t,e,n){Xn(t,n,e)}));function da(t,e){return($a(t)?de:Nr)(t,Ji(e,3))}var pa=bi((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var va=Vr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&co(t,e[0],e[1])?e=[]:n>2&&co(e[0],e[1],e[2])&&(e=[e[0]]),Tr(t,ar(e,1),[])})),ga=Je||function(){return Ht.Date.now()};function _a(t,e,n){return e=n?void 0:e,Ui(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function ma(t,e){var n;if("function"!=typeof e)throw new _t(o);return t=iu(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var ya=Vr((function(t,e,n){var r=1;if(n.length){var i=Fe(n,Zi(ya));r|=32}return Ui(t,r,e,n,i)})),ba=Vr((function(t,e,n){var r=3;if(n.length){var i=Fe(n,Zi(ba));r|=32}return Ui(e,r,t,n,i)}));function wa(t,e,n){var r,i,a,u,c,s,l=0,f=!1,h=!1,d=!0;if("function"!=typeof t)throw new _t(o);function p(e){var n=r,o=i;return r=i=void 0,l=e,u=t.apply(o,n)}function v(t){return l=t,c=wo(_,e),f?p(t):u}function g(t){var n=t-s;return void 0===s||n>=e||n<0||h&&t-l>=a}function _(){var t=ga();if(g(t))return m(t);c=wo(_,function(t){var n=e-(t-s);return h?cn(n,a-(t-l)):n}(t))}function m(t){return c=void 0,d&&r?p(t):(r=i=void 0,u)}function y(){var t=ga(),n=g(t);if(r=arguments,i=this,s=t,n){if(void 0===c)return v(s);if(h)return fi(c),c=wo(_,e),p(s)}return void 0===c&&(c=wo(_,e)),u}return e=au(e)||0,qa(n)&&(f=!!n.leading,a=(h="maxWait"in n)?un(au(n.maxWait)||0,e):a,d="trailing"in n?!!n.trailing:d),y.cancel=function(){void 0!==c&&fi(c),l=0,r=s=i=c=void 0},y.flush=function(){return void 0===c?u:m(ga())},y}var xa=Vr((function(t,e){return Qn(t,1,e)})),Ea=Vr((function(t,e,n){return Qn(t,au(e)||0,n)}));function Ma(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new _t(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ma.Cache||Dn),n}function Aa(t){if("function"!=typeof t)throw new _t(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ma.Cache=Dn;var ka=si((function(t,e){var n=(e=1==e.length&&$a(e[0])?de(e[0],Ie(Ji())):de(ar(e,1),Ie(Ji()))).length;return Vr((function(r){for(var i=-1,o=cn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return oe(t,this,r)}))})),Ca=Vr((function(t,e){return Ui(t,32,void 0,e,Fe(e,Zi(Ca)))})),Na=Vr((function(t,e){return Ui(t,64,void 0,e,Fe(e,Zi(Na)))})),Sa=Yi((function(t,e){return Ui(t,256,void 0,void 0,void 0,e)}));function ja(t,e){return t===e||t!=t&&e!=e}var Ia=Pi(vr),Oa=Pi((function(t,e){return t>=e})),Ta=br(function(){return arguments}())?br:function(t){return Ya(t)&&Et.call(t,"callee")&&!Wt.call(t,"callee")},$a=r.isArray,Pa=Qt?Ie(Qt):function(t){return Ya(t)&&pr(t)==E};function Da(t){return null!=t&&Fa(t.length)&&!Ra(t)}function La(t){return Ya(t)&&Da(t)}var za=nn||ac,Va=te?Ie(te):function(t){return Ya(t)&&pr(t)==f};function Ua(t){if(!Ya(t))return!1;var e=pr(t);return e==h||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Xa(t)}function Ra(t){if(!qa(t))return!1;var e=pr(t);return e==d||e==p||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Ba(t){return"number"==typeof t&&t==iu(t)}function Fa(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function qa(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Ya(t){return null!=t&&"object"==typeof t}var Wa=ee?Ie(ee):function(t){return Ya(t)&&ro(t)==v};function Ha(t){return"number"==typeof t||Ya(t)&&pr(t)==g}function Xa(t){if(!Ya(t)||pr(t)!=_)return!1;var e=Bt(t);if(null===e)return!0;var n=Et.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&xt.call(n)==Ct}var Ga=ne?Ie(ne):function(t){return Ya(t)&&pr(t)==m};var Za=re?Ie(re):function(t){return Ya(t)&&ro(t)==y};function Ja(t){return"string"==typeof t||!$a(t)&&Ya(t)&&pr(t)==b}function Ka(t){return"symbol"==typeof t||Ya(t)&&pr(t)==w}var Qa=ie?Ie(ie):function(t){return Ya(t)&&Fa(t.length)&&!!Ut[pr(t)]};var tu=Pi(Cr),eu=Pi((function(t,e){return t<=e}));function nu(t){if(!t)return[];if(Da(t))return Ja(t)?He(t):mi(t);if(Jt&&t[Jt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Jt]());var e=ro(t);return(e==v?Re:e==y?qe:ju)(t)}function ru(t){return t?(t=au(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function iu(t){var e=ru(t),n=e%1;return e==e?n?e-n:e:0}function ou(t){return t?Zn(iu(t),0,4294967295):0}function au(t){if("number"==typeof t)return t;if(Ka(t))return NaN;if(qa(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=qa(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=je(t);var n=ot.test(t);return n||ut.test(t)?qt(t.slice(2),n?2:8):it.test(t)?NaN:+t}function uu(t){return yi(t,xu(t))}function cu(t){return null==t?"":Kr(t)}var su=wi((function(t,e){if(ho(e)||Da(e))yi(e,wu(e),t);else for(var n in e)Et.call(e,n)&&qn(t,n,e[n])})),lu=wi((function(t,e){yi(e,xu(e),t)})),fu=wi((function(t,e,n,r){yi(e,xu(e),t,r)})),hu=wi((function(t,e,n,r){yi(e,wu(e),t,r)})),du=Yi(Gn);var pu=Vr((function(t,e){t=pt(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&co(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=xu(o),u=-1,c=a.length;++u<c;){var s=a[u],l=t[s];(void 0===l||ja(l,bt[s])&&!Et.call(t,s))&&(t[s]=o[s])}return t})),vu=Vr((function(t){return t.push(void 0,Bi),oe(Mu,void 0,t)}));function gu(t,e,n){var r=null==t?void 0:hr(t,e);return void 0===r?n:r}function _u(t,e){return null!=t&&io(t,e,_r)}var mu=ji((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=kt.call(e)),t[e]=n}),qu(Hu)),yu=ji((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=kt.call(e)),Et.call(t,e)?t[e].push(n):t[e]=[n]}),Ji),bu=Vr(yr);function wu(t){return Da(t)?Vn(t):Ar(t)}function xu(t){return Da(t)?Vn(t,!0):kr(t)}var Eu=wi((function(t,e,n){Ir(t,e,n)})),Mu=wi((function(t,e,n,r){Ir(t,e,n,r)})),Au=Yi((function(t,e){var n={};if(null==t)return n;var r=!1;e=de(e,(function(e){return e=ci(e,t),r||(r=e.length>1),e})),yi(t,Hi(t),n),r&&(n=Jn(n,7,Fi));for(var i=e.length;i--;)ti(n,e[i]);return n}));var ku=Yi((function(t,e){return null==t?{}:function(t,e){return $r(t,e,(function(e,n){return _u(t,n)}))}(t,e)}));function Cu(t,e){if(null==t)return{};var n=de(Hi(t),(function(t){return[t]}));return e=Ji(e),$r(t,n,(function(t,n){return e(t,n[0])}))}var Nu=Vi(wu),Su=Vi(xu);function ju(t){return null==t?[]:Oe(t,wu(t))}var Iu=Ai((function(t,e,n){return e=e.toLowerCase(),t+(n?Ou(e):e)}));function Ou(t){return Uu(cu(t).toLowerCase())}function Tu(t){return(t=cu(t))&&t.replace(st,Le).replace(Tt,"")}var $u=Ai((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Pu=Ai((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Du=Mi("toLowerCase");var Lu=Ai((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var zu=Ai((function(t,e,n){return t+(n?" ":"")+Uu(e)}));var Vu=Ai((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Uu=Mi("toUpperCase");function Ru(t,e,n){return t=cu(t),void 0===(e=n?void 0:e)?function(t){return Lt.test(t)}(t)?function(t){return t.match(Pt)||[]}(t):function(t){return t.match(Q)||[]}(t):t.match(e)||[]}var Bu=Vr((function(t,e){try{return oe(t,void 0,e)}catch(t){return Ua(t)?t:new G(t)}})),Fu=Yi((function(t,e){return ue(e,(function(e){e=Co(e),Xn(t,e,ya(t[e],t))})),t}));function qu(t){return function(){return t}}var Yu=Ni(),Wu=Ni(!0);function Hu(t){return t}function Xu(t){return Mr("function"==typeof t?t:Jn(t,1))}var Gu=Vr((function(t,e){return function(n){return yr(n,t,e)}})),Zu=Vr((function(t,e){return function(n){return yr(t,n,e)}}));function Ju(t,e,n){var r=wu(e),i=fr(e,r);null!=n||qa(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=fr(e,wu(e)));var o=!(qa(n)&&"chain"in n&&!n.chain),a=Ra(t);return ue(i,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=mi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,pe([this.value()],arguments))})})),t}function Ku(){}var Qu=Oi(de),tc=Oi(se),ec=Oi(_e);function nc(t){return so(t)?Ae(Co(t)):function(t){return function(e){return hr(e,t)}}(t)}var rc=$i(),ic=$i(!0);function oc(){return[]}function ac(){return!1}var uc=Ii((function(t,e){return t+e}),0),cc=Li("ceil"),sc=Ii((function(t,e){return t/e}),1),lc=Li("floor");var fc,hc=Ii((function(t,e){return t*e}),1),dc=Li("round"),pc=Ii((function(t,e){return t-e}),0);return Sn.after=function(t,e){if("function"!=typeof e)throw new _t(o);return t=iu(t),function(){if(--t<1)return e.apply(this,arguments)}},Sn.ary=_a,Sn.assign=su,Sn.assignIn=lu,Sn.assignInWith=fu,Sn.assignWith=hu,Sn.at=du,Sn.before=ma,Sn.bind=ya,Sn.bindAll=Fu,Sn.bindKey=ba,Sn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return $a(t)?t:[t]},Sn.chain=na,Sn.chunk=function(t,e,n){e=(n?co(t,e,n):void 0===e)?1:un(iu(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var o=0,a=0,u=r(Qe(i/e));o<i;)u[a++]=Wr(t,o,o+=e);return u},Sn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},Sn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return pe($a(n)?mi(n):[n],ar(e,1))},Sn.cond=function(t){var e=null==t?0:t.length,n=Ji();return t=e?de(t,(function(t){if("function"!=typeof t[1])throw new _t(o);return[n(t[0]),t[1]]})):[],Vr((function(n){for(var r=-1;++r<e;){var i=t[r];if(oe(i[0],this,n))return oe(i[1],this,n)}}))},Sn.conforms=function(t){return function(t){var e=wu(t);return function(n){return Kn(n,t,e)}}(Jn(t,1))},Sn.constant=qu,Sn.countBy=oa,Sn.create=function(t,e){var n=jn(t);return null==e?n:Hn(n,e)},Sn.curry=function t(e,n,r){var i=Ui(e,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},Sn.curryRight=function t(e,n,r){var i=Ui(e,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},Sn.debounce=wa,Sn.defaults=pu,Sn.defaultsDeep=vu,Sn.defer=xa,Sn.delay=Ea,Sn.difference=jo,Sn.differenceBy=Io,Sn.differenceWith=Oo,Sn.drop=function(t,e,n){var r=null==t?0:t.length;return r?Wr(t,(e=n||void 0===e?1:iu(e))<0?0:e,r):[]},Sn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Wr(t,0,(e=r-(e=n||void 0===e?1:iu(e)))<0?0:e):[]},Sn.dropRightWhile=function(t,e){return t&&t.length?ni(t,Ji(e,3),!0,!0):[]},Sn.dropWhile=function(t,e){return t&&t.length?ni(t,Ji(e,3),!0):[]},Sn.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&co(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=iu(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:iu(r))<0&&(r+=i),r=n>r?0:ou(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Sn.filter=function(t,e){return($a(t)?le:or)(t,Ji(e,3))},Sn.flatMap=function(t,e){return ar(da(t,e),1)},Sn.flatMapDeep=function(t,e){return ar(da(t,e),1/0)},Sn.flatMapDepth=function(t,e,n){return n=void 0===n?1:iu(n),ar(da(t,e),n)},Sn.flatten=Po,Sn.flattenDeep=function(t){return(null==t?0:t.length)?ar(t,1/0):[]},Sn.flattenDepth=function(t,e){return(null==t?0:t.length)?ar(t,e=void 0===e?1:iu(e)):[]},Sn.flip=function(t){return Ui(t,512)},Sn.flow=Yu,Sn.flowRight=Wu,Sn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Sn.functions=function(t){return null==t?[]:fr(t,wu(t))},Sn.functionsIn=function(t){return null==t?[]:fr(t,xu(t))},Sn.groupBy=la,Sn.initial=function(t){return(null==t?0:t.length)?Wr(t,0,-1):[]},Sn.intersection=Lo,Sn.intersectionBy=zo,Sn.intersectionWith=Vo,Sn.invert=mu,Sn.invertBy=yu,Sn.invokeMap=fa,Sn.iteratee=Xu,Sn.keyBy=ha,Sn.keys=wu,Sn.keysIn=xu,Sn.map=da,Sn.mapKeys=function(t,e){var n={};return e=Ji(e,3),sr(t,(function(t,r,i){Xn(n,e(t,r,i),t)})),n},Sn.mapValues=function(t,e){var n={};return e=Ji(e,3),sr(t,(function(t,r,i){Xn(n,r,e(t,r,i))})),n},Sn.matches=function(t){return Sr(Jn(t,1))},Sn.matchesProperty=function(t,e){return jr(t,Jn(e,1))},Sn.memoize=Ma,Sn.merge=Eu,Sn.mergeWith=Mu,Sn.method=Gu,Sn.methodOf=Zu,Sn.mixin=Ju,Sn.negate=Aa,Sn.nthArg=function(t){return t=iu(t),Vr((function(e){return Or(e,t)}))},Sn.omit=Au,Sn.omitBy=function(t,e){return Cu(t,Aa(Ji(e)))},Sn.once=function(t){return ma(2,t)},Sn.orderBy=function(t,e,n,r){return null==t?[]:($a(e)||(e=null==e?[]:[e]),$a(n=r?void 0:n)||(n=null==n?[]:[n]),Tr(t,e,n))},Sn.over=Qu,Sn.overArgs=ka,Sn.overEvery=tc,Sn.overSome=ec,Sn.partial=Ca,Sn.partialRight=Na,Sn.partition=pa,Sn.pick=ku,Sn.pickBy=Cu,Sn.property=nc,Sn.propertyOf=function(t){return function(e){return null==t?void 0:hr(t,e)}},Sn.pull=Ro,Sn.pullAll=Bo,Sn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Pr(t,e,Ji(n,2)):t},Sn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Pr(t,e,void 0,n):t},Sn.pullAt=Fo,Sn.range=rc,Sn.rangeRight=ic,Sn.rearg=Sa,Sn.reject=function(t,e){return($a(t)?le:or)(t,Aa(Ji(e,3)))},Sn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Ji(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Dr(t,i),n},Sn.rest=function(t,e){if("function"!=typeof t)throw new _t(o);return Vr(t,e=void 0===e?e:iu(e))},Sn.reverse=qo,Sn.sampleSize=function(t,e,n){return e=(n?co(t,e,n):void 0===e)?1:iu(e),($a(t)?Rn:Rr)(t,e)},Sn.set=function(t,e,n){return null==t?t:Br(t,e,n)},Sn.setWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:Br(t,e,n,r)},Sn.shuffle=function(t){return($a(t)?Bn:Yr)(t)},Sn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&co(t,e,n)?(e=0,n=r):(e=null==e?0:iu(e),n=void 0===n?r:iu(n)),Wr(t,e,n)):[]},Sn.sortBy=va,Sn.sortedUniq=function(t){return t&&t.length?Zr(t):[]},Sn.sortedUniqBy=function(t,e){return t&&t.length?Zr(t,Ji(e,2)):[]},Sn.split=function(t,e,n){return n&&"number"!=typeof n&&co(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=cu(t))&&("string"==typeof e||null!=e&&!Ga(e))&&!(e=Kr(e))&&Ue(t)?li(He(t),0,n):t.split(e,n):[]},Sn.spread=function(t,e){if("function"!=typeof t)throw new _t(o);return e=null==e?0:un(iu(e),0),Vr((function(n){var r=n[e],i=li(n,0,e);return r&&pe(i,r),oe(t,this,i)}))},Sn.tail=function(t){var e=null==t?0:t.length;return e?Wr(t,1,e):[]},Sn.take=function(t,e,n){return t&&t.length?Wr(t,0,(e=n||void 0===e?1:iu(e))<0?0:e):[]},Sn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Wr(t,(e=r-(e=n||void 0===e?1:iu(e)))<0?0:e,r):[]},Sn.takeRightWhile=function(t,e){return t&&t.length?ni(t,Ji(e,3),!1,!0):[]},Sn.takeWhile=function(t,e){return t&&t.length?ni(t,Ji(e,3)):[]},Sn.tap=function(t,e){return e(t),t},Sn.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new _t(o);return qa(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),wa(t,e,{leading:r,maxWait:e,trailing:i})},Sn.thru=ra,Sn.toArray=nu,Sn.toPairs=Nu,Sn.toPairsIn=Su,Sn.toPath=function(t){return $a(t)?de(t,Co):Ka(t)?[t]:mi(ko(cu(t)))},Sn.toPlainObject=uu,Sn.transform=function(t,e,n){var r=$a(t),i=r||za(t)||Qa(t);if(e=Ji(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:qa(t)&&Ra(o)?jn(Bt(t)):{}}return(i?ue:sr)(t,(function(t,r,i){return e(n,t,r,i)})),n},Sn.unary=function(t){return _a(t,1)},Sn.union=Yo,Sn.unionBy=Wo,Sn.unionWith=Ho,Sn.uniq=function(t){return t&&t.length?Qr(t):[]},Sn.uniqBy=function(t,e){return t&&t.length?Qr(t,Ji(e,2)):[]},Sn.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Qr(t,void 0,e):[]},Sn.unset=function(t,e){return null==t||ti(t,e)},Sn.unzip=Xo,Sn.unzipWith=Go,Sn.update=function(t,e,n){return null==t?t:ei(t,e,ui(n))},Sn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:ei(t,e,ui(n),r)},Sn.values=ju,Sn.valuesIn=function(t){return null==t?[]:Oe(t,xu(t))},Sn.without=Zo,Sn.words=Ru,Sn.wrap=function(t,e){return Ca(ui(e),t)},Sn.xor=Jo,Sn.xorBy=Ko,Sn.xorWith=Qo,Sn.zip=ta,Sn.zipObject=function(t,e){return oi(t||[],e||[],qn)},Sn.zipObjectDeep=function(t,e){return oi(t||[],e||[],Br)},Sn.zipWith=ea,Sn.entries=Nu,Sn.entriesIn=Su,Sn.extend=lu,Sn.extendWith=fu,Ju(Sn,Sn),Sn.add=uc,Sn.attempt=Bu,Sn.camelCase=Iu,Sn.capitalize=Ou,Sn.ceil=cc,Sn.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=au(n))==n?n:0),void 0!==e&&(e=(e=au(e))==e?e:0),Zn(au(t),e,n)},Sn.clone=function(t){return Jn(t,4)},Sn.cloneDeep=function(t){return Jn(t,5)},Sn.cloneDeepWith=function(t,e){return Jn(t,5,e="function"==typeof e?e:void 0)},Sn.cloneWith=function(t,e){return Jn(t,4,e="function"==typeof e?e:void 0)},Sn.conformsTo=function(t,e){return null==e||Kn(t,e,wu(e))},Sn.deburr=Tu,Sn.defaultTo=function(t,e){return null==t||t!=t?e:t},Sn.divide=sc,Sn.endsWith=function(t,e,n){t=cu(t),e=Kr(e);var r=t.length,i=n=void 0===n?r:Zn(iu(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},Sn.eq=ja,Sn.escape=function(t){return(t=cu(t))&&V.test(t)?t.replace(L,ze):t},Sn.escapeRegExp=function(t){return(t=cu(t))&&H.test(t)?t.replace(W,"\\$&"):t},Sn.every=function(t,e,n){var r=$a(t)?se:rr;return n&&co(t,e,n)&&(e=void 0),r(t,Ji(e,3))},Sn.find=aa,Sn.findIndex=To,Sn.findKey=function(t,e){return ye(t,Ji(e,3),sr)},Sn.findLast=ua,Sn.findLastIndex=$o,Sn.findLastKey=function(t,e){return ye(t,Ji(e,3),lr)},Sn.floor=lc,Sn.forEach=ca,Sn.forEachRight=sa,Sn.forIn=function(t,e){return null==t?t:ur(t,Ji(e,3),xu)},Sn.forInRight=function(t,e){return null==t?t:cr(t,Ji(e,3),xu)},Sn.forOwn=function(t,e){return t&&sr(t,Ji(e,3))},Sn.forOwnRight=function(t,e){return t&&lr(t,Ji(e,3))},Sn.get=gu,Sn.gt=Ia,Sn.gte=Oa,Sn.has=function(t,e){return null!=t&&io(t,e,gr)},Sn.hasIn=_u,Sn.head=Do,Sn.identity=Hu,Sn.includes=function(t,e,n,r){t=Da(t)?t:ju(t),n=n&&!r?iu(n):0;var i=t.length;return n<0&&(n=un(i+n,0)),Ja(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&we(t,e,n)>-1},Sn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:iu(n);return i<0&&(i=un(r+i,0)),we(t,e,i)},Sn.inRange=function(t,e,n){return e=ru(e),void 0===n?(n=e,e=0):n=ru(n),function(t,e,n){return t>=cn(e,n)&&t<un(e,n)}(t=au(t),e,n)},Sn.invoke=bu,Sn.isArguments=Ta,Sn.isArray=$a,Sn.isArrayBuffer=Pa,Sn.isArrayLike=Da,Sn.isArrayLikeObject=La,Sn.isBoolean=function(t){return!0===t||!1===t||Ya(t)&&pr(t)==l},Sn.isBuffer=za,Sn.isDate=Va,Sn.isElement=function(t){return Ya(t)&&1===t.nodeType&&!Xa(t)},Sn.isEmpty=function(t){if(null==t)return!0;if(Da(t)&&($a(t)||"string"==typeof t||"function"==typeof t.splice||za(t)||Qa(t)||Ta(t)))return!t.length;var e=ro(t);if(e==v||e==y)return!t.size;if(ho(t))return!Ar(t).length;for(var n in t)if(Et.call(t,n))return!1;return!0},Sn.isEqual=function(t,e){return wr(t,e)},Sn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===r?wr(t,e,void 0,n):!!r},Sn.isError=Ua,Sn.isFinite=function(t){return"number"==typeof t&&rn(t)},Sn.isFunction=Ra,Sn.isInteger=Ba,Sn.isLength=Fa,Sn.isMap=Wa,Sn.isMatch=function(t,e){return t===e||xr(t,e,Qi(e))},Sn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,xr(t,e,Qi(e),n)},Sn.isNaN=function(t){return Ha(t)&&t!=+t},Sn.isNative=function(t){if(fo(t))throw new G("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Er(t)},Sn.isNil=function(t){return null==t},Sn.isNull=function(t){return null===t},Sn.isNumber=Ha,Sn.isObject=qa,Sn.isObjectLike=Ya,Sn.isPlainObject=Xa,Sn.isRegExp=Ga,Sn.isSafeInteger=function(t){return Ba(t)&&t>=-9007199254740991&&t<=9007199254740991},Sn.isSet=Za,Sn.isString=Ja,Sn.isSymbol=Ka,Sn.isTypedArray=Qa,Sn.isUndefined=function(t){return void 0===t},Sn.isWeakMap=function(t){return Ya(t)&&ro(t)==x},Sn.isWeakSet=function(t){return Ya(t)&&"[object WeakSet]"==pr(t)},Sn.join=function(t,e){return null==t?"":on.call(t,e)},Sn.kebabCase=$u,Sn.last=Uo,Sn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=iu(n))<0?un(r+i,0):cn(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):be(t,Ee,i,!0)},Sn.lowerCase=Pu,Sn.lowerFirst=Du,Sn.lt=tu,Sn.lte=eu,Sn.max=function(t){return t&&t.length?ir(t,Hu,vr):void 0},Sn.maxBy=function(t,e){return t&&t.length?ir(t,Ji(e,2),vr):void 0},Sn.mean=function(t){return Me(t,Hu)},Sn.meanBy=function(t,e){return Me(t,Ji(e,2))},Sn.min=function(t){return t&&t.length?ir(t,Hu,Cr):void 0},Sn.minBy=function(t,e){return t&&t.length?ir(t,Ji(e,2),Cr):void 0},Sn.stubArray=oc,Sn.stubFalse=ac,Sn.stubObject=function(){return{}},Sn.stubString=function(){return""},Sn.stubTrue=function(){return!0},Sn.multiply=hc,Sn.nth=function(t,e){return t&&t.length?Or(t,iu(e)):void 0},Sn.noConflict=function(){return Ht._===this&&(Ht._=Nt),this},Sn.noop=Ku,Sn.now=ga,Sn.pad=function(t,e,n){t=cu(t);var r=(e=iu(e))?We(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Ti(tn(i),n)+t+Ti(Qe(i),n)},Sn.padEnd=function(t,e,n){t=cu(t);var r=(e=iu(e))?We(t):0;return e&&r<e?t+Ti(e-r,n):t},Sn.padStart=function(t,e,n){t=cu(t);var r=(e=iu(e))?We(t):0;return e&&r<e?Ti(e-r,n)+t:t},Sn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),ln(cu(t).replace(X,""),e||0)},Sn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&co(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=ru(t),void 0===e?(e=t,t=0):e=ru(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=fn();return cn(t+i*(e-t+Ft("1e-"+((i+"").length-1))),e)}return Lr(t,e)},Sn.reduce=function(t,e,n){var r=$a(t)?ve:Ce,i=arguments.length<3;return r(t,Ji(e,4),n,i,er)},Sn.reduceRight=function(t,e,n){var r=$a(t)?ge:Ce,i=arguments.length<3;return r(t,Ji(e,4),n,i,nr)},Sn.repeat=function(t,e,n){return e=(n?co(t,e,n):void 0===e)?1:iu(e),zr(cu(t),e)},Sn.replace=function(){var t=arguments,e=cu(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Sn.result=function(t,e,n){var r=-1,i=(e=ci(e,t)).length;for(i||(i=1,t=void 0);++r<i;){var o=null==t?void 0:t[Co(e[r])];void 0===o&&(r=i,o=n),t=Ra(o)?o.call(t):o}return t},Sn.round=dc,Sn.runInContext=t,Sn.sample=function(t){return($a(t)?Un:Ur)(t)},Sn.size=function(t){if(null==t)return 0;if(Da(t))return Ja(t)?We(t):t.length;var e=ro(t);return e==v||e==y?t.size:Ar(t).length},Sn.snakeCase=Lu,Sn.some=function(t,e,n){var r=$a(t)?_e:Hr;return n&&co(t,e,n)&&(e=void 0),r(t,Ji(e,3))},Sn.sortedIndex=function(t,e){return Xr(t,e)},Sn.sortedIndexBy=function(t,e,n){return Gr(t,e,Ji(n,2))},Sn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Xr(t,e);if(r<n&&ja(t[r],e))return r}return-1},Sn.sortedLastIndex=function(t,e){return Xr(t,e,!0)},Sn.sortedLastIndexBy=function(t,e,n){return Gr(t,e,Ji(n,2),!0)},Sn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=Xr(t,e,!0)-1;if(ja(t[n],e))return n}return-1},Sn.startCase=zu,Sn.startsWith=function(t,e,n){return t=cu(t),n=null==n?0:Zn(iu(n),0,t.length),e=Kr(e),t.slice(n,n+e.length)==e},Sn.subtract=pc,Sn.sum=function(t){return t&&t.length?Ne(t,Hu):0},Sn.sumBy=function(t,e){return t&&t.length?Ne(t,Ji(e,2)):0},Sn.template=function(t,e,n){var r=Sn.templateSettings;n&&co(t,e,n)&&(e=void 0),t=cu(t),e=fu({},e,r,Ri);var i,o,a=fu({},e.imports,r.imports,Ri),u=wu(a),c=Oe(a,u),s=0,l=e.interpolate||lt,f="__p += '",h=vt((e.escape||lt).source+"|"+l.source+"|"+(l===B?nt:lt).source+"|"+(e.evaluate||lt).source+"|$","g"),d="//# sourceURL="+(Et.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Vt+"]")+"\n";t.replace(h,(function(e,n,r,a,u,c){return r||(r=a),f+=t.slice(s,c).replace(ft,Ve),n&&(i=!0,f+="' +\n__e("+n+") +\n'"),u&&(o=!0,f+="';\n"+u+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),s=c+e.length,e})),f+="';\n";var p=Et.call(e,"variable")&&e.variable;if(p){if(tt.test(p))throw new G("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(o?f.replace(T,""):f).replace($,"$1").replace(P,"$1;"),f="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=Bu((function(){return ht(u,d+"return "+f).apply(void 0,c)}));if(v.source=f,Ua(v))throw v;return v},Sn.times=function(t,e){if((t=iu(t))<1||t>9007199254740991)return[];var n=4294967295,r=cn(t,4294967295);t-=4294967295;for(var i=Se(r,e=Ji(e));++n<t;)e(n);return i},Sn.toFinite=ru,Sn.toInteger=iu,Sn.toLength=ou,Sn.toLower=function(t){return cu(t).toLowerCase()},Sn.toNumber=au,Sn.toSafeInteger=function(t){return t?Zn(iu(t),-9007199254740991,9007199254740991):0===t?t:0},Sn.toString=cu,Sn.toUpper=function(t){return cu(t).toUpperCase()},Sn.trim=function(t,e,n){if((t=cu(t))&&(n||void 0===e))return je(t);if(!t||!(e=Kr(e)))return t;var r=He(t),i=He(e);return li(r,$e(r,i),Pe(r,i)+1).join("")},Sn.trimEnd=function(t,e,n){if((t=cu(t))&&(n||void 0===e))return t.slice(0,Xe(t)+1);if(!t||!(e=Kr(e)))return t;var r=He(t);return li(r,0,Pe(r,He(e))+1).join("")},Sn.trimStart=function(t,e,n){if((t=cu(t))&&(n||void 0===e))return t.replace(X,"");if(!t||!(e=Kr(e)))return t;var r=He(t);return li(r,$e(r,He(e))).join("")},Sn.truncate=function(t,e){var n=30,r="...";if(qa(e)){var i="separator"in e?e.separator:i;n="length"in e?iu(e.length):n,r="omission"in e?Kr(e.omission):r}var o=(t=cu(t)).length;if(Ue(t)){var a=He(t);o=a.length}if(n>=o)return t;var u=n-We(r);if(u<1)return r;var c=a?li(a,0,u).join(""):t.slice(0,u);if(void 0===i)return c+r;if(a&&(u+=c.length-u),Ga(i)){if(t.slice(u).search(i)){var s,l=c;for(i.global||(i=vt(i.source,cu(rt.exec(i))+"g")),i.lastIndex=0;s=i.exec(l);)var f=s.index;c=c.slice(0,void 0===f?u:f)}}else if(t.indexOf(Kr(i),u)!=u){var h=c.lastIndexOf(i);h>-1&&(c=c.slice(0,h))}return c+r},Sn.unescape=function(t){return(t=cu(t))&&z.test(t)?t.replace(D,Ge):t},Sn.uniqueId=function(t){var e=++Mt;return cu(t)+e},Sn.upperCase=Vu,Sn.upperFirst=Uu,Sn.each=ca,Sn.eachRight=sa,Sn.first=Do,Ju(Sn,(fc={},sr(Sn,(function(t,e){Et.call(Sn.prototype,e)||(fc[e]=t)})),fc),{chain:!1}),Sn.VERSION="4.17.21",ue(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Sn[t].placeholder=Sn})),ue(["drop","take"],(function(t,e){Tn.prototype[t]=function(n){n=void 0===n?1:un(iu(n),0);var r=this.__filtered__&&!e?new Tn(this):this.clone();return r.__filtered__?r.__takeCount__=cn(n,r.__takeCount__):r.__views__.push({size:cn(n,4294967295),type:t+(r.__dir__<0?"Right":"")}),r},Tn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),ue(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Tn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Ji(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),ue(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Tn.prototype[t]=function(){return this[n](1).value()[0]}})),ue(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Tn.prototype[t]=function(){return this.__filtered__?new Tn(this):this[n](1)}})),Tn.prototype.compact=function(){return this.filter(Hu)},Tn.prototype.find=function(t){return this.filter(t).head()},Tn.prototype.findLast=function(t){return this.reverse().find(t)},Tn.prototype.invokeMap=Vr((function(t,e){return"function"==typeof t?new Tn(this):this.map((function(n){return yr(n,t,e)}))})),Tn.prototype.reject=function(t){return this.filter(Aa(Ji(t)))},Tn.prototype.slice=function(t,e){t=iu(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Tn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=iu(e))<0?n.dropRight(-e):n.take(e-t)),n)},Tn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Tn.prototype.toArray=function(){return this.take(4294967295)},sr(Tn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=Sn[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);i&&(Sn.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,u=e instanceof Tn,c=a[0],s=u||$a(e),l=function(t){var e=i.apply(Sn,pe([t],a));return r&&f?e[0]:e};s&&n&&"function"==typeof c&&1!=c.length&&(u=s=!1);var f=this.__chain__,h=!!this.__actions__.length,d=o&&!f,p=u&&!h;if(!o&&s){e=p?e:new Tn(this);var v=t.apply(e,a);return v.__actions__.push({func:ra,args:[l],thisArg:void 0}),new On(v,f)}return d&&p?t.apply(this,a):(v=this.thru(l),d?r?v.value()[0]:v.value():v)})})),ue(["pop","push","shift","sort","splice","unshift"],(function(t){var e=mt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Sn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply($a(i)?i:[],t)}return this[n]((function(n){return e.apply($a(n)?n:[],t)}))}})),sr(Tn.prototype,(function(t,e){var n=Sn[e];if(n){var r=n.name+"";Et.call(bn,r)||(bn[r]=[]),bn[r].push({name:e,func:n})}})),bn[Si(void 0,2).name]=[{name:"wrapper",func:void 0}],Tn.prototype.clone=function(){var t=new Tn(this.__wrapped__);return t.__actions__=mi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=mi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=mi(this.__views__),t},Tn.prototype.reverse=function(){if(this.__filtered__){var t=new Tn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Tn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=$a(t),r=e<0,i=n?t.length:0,o=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=cn(e,t+a);break;case"takeRight":t=un(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,u=o.end,c=u-a,s=r?u:a-1,l=this.__iteratees__,f=l.length,h=0,d=cn(c,this.__takeCount__);if(!n||!r&&i==c&&d==c)return ri(t,this.__actions__);var p=[];t:for(;c--&&h<d;){for(var v=-1,g=t[s+=e];++v<f;){var _=l[v],m=_.iteratee,y=_.type,b=m(g);if(2==y)g=b;else if(!b){if(1==y)continue t;break t}}p[h++]=g}return p},Sn.prototype.at=ia,Sn.prototype.chain=function(){return na(this)},Sn.prototype.commit=function(){return new On(this.value(),this.__chain__)},Sn.prototype.next=function(){void 0===this.__values__&&(this.__values__=nu(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},Sn.prototype.plant=function(t){for(var e,n=this;n instanceof In;){var r=So(n);r.__index__=0,r.__values__=void 0,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},Sn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Tn){var e=t;return this.__actions__.length&&(e=new Tn(this)),(e=e.reverse()).__actions__.push({func:ra,args:[qo],thisArg:void 0}),new On(e,this.__chain__)}return this.thru(qo)},Sn.prototype.toJSON=Sn.prototype.valueOf=Sn.prototype.value=function(){return ri(this.__wrapped__,this.__actions__)},Sn.prototype.first=Sn.prototype.head,Jt&&(Sn.prototype[Jt]=function(){return this}),Sn}();Ht._=Ze,void 0===(i=function(){return Ze}.call(e,n,e,r))||(r.exports=i)}).call(this)}).call(this,n(65),n(174)(t))},14:function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(this,n(65))},15:function(t,e,n){"use strict";(function(t){var r=n(2),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i?r.a.Buffer:void 0,u=a?a.allocUnsafe:void 0;e.a=function(t,e){if(e)return t.slice();var n=t.length,r=u?u(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(23)(t))},173:function(t,e,n){t.exports=n(176)},174:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},175:function(t,e,n){},176:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return DE}));var r={};n.r(r),n.d(r,"Graph",(function(){return ov})),n.d(r,"version",(function(){return lv}));var i=n(66),o=n.n(i),a=function(){var t=this,e=t._self._c;return e("div",{ref:"container",staticClass:"mv mv-editmode"},[e("div",{staticClass:"mv-editor"},[e("div",{staticClass:"mv-edit-project"},[e("h2",[t._v("Editor")]),t._v(" "),e("label",{attrs:{for:"currentModel"}},[t._v("Select model")]),t._v(" "),t.editableModels?e("select",{directives:[{name:"model",rawName:"v-model",value:t.editableModelIndex,expression:"editableModelIndex"}],attrs:{id:"currentModel"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.editableModelIndex=e.target.multiple?n:n[0]}}},t._l(t.editableModels.models,(function(n,r){return e("option",{key:r,domProps:{value:r}},[t._v(t._s(n.name))])})),0):t._e(),t._v(" "),e("button",{staticClass:"mv-button mv-button-new-model",on:{click:t.createModel}},[t._v("New model")])]),t._v(" "),t.editModelMeta&&t.editableModelIndex>=0?e("ModelForm",{attrs:{modelNames:t.allModelNames,vertices:t.vertices,edges:t.edges},on:{delete:t.showDeleteModelPopUp},model:{value:t.editableModels.models[t.editableModelIndex],callback:function(e){t.$set(t.editableModels.models,t.editableModelIndex,e)},expression:"editableModels.models[editableModelIndex]"}}):t._e(),t._v(" "),t.editableEdgeIndex>=0?e("EdgeForm",{attrs:{vertices:t.vertices,newEdge:t.newEdge},on:{delete:function(e){return t.removeEdge(t.edges[t.editableEdgeIndex].id)}},model:{value:t.edges[t.editableEdgeIndex],callback:function(e){t.$set(t.edges,t.editableEdgeIndex,e)},expression:"edges[editableEdgeIndex]"}}):t._e(),t._v(" "),t.editableVertexIndex>=0?e("VertexForm",{attrs:{newVertex:t.newVertex},on:{delete:function(e){return t.removeVertex(t.vertices[t.editableVertexIndex].id)}},model:{value:t.vertices[t.editableVertexIndex],callback:function(e){t.$set(t.vertices,t.editableVertexIndex,e)},expression:"vertices[editableVertexIndex]"}}):t._e()],1),t._v(" "),t.displayDeleteModelPopUp?e("div",{staticClass:"mv-overlay"},[e("div",{staticClass:"mv-pop-up"},[e("p",[t._v("Are you sure you want to delete the model?")]),t._v(" "),e("button",{staticClass:"mv-button mv-button-delete-model",on:{click:function(e){return t.removeModel(t.editableModelIndex)}}},[t._v("Delete Model")]),t._v(" "),e("button",{staticClass:"mv-button mv-button-cancel",on:{click:t.hideDeleteModelPopUp}},[t._v("Cancel")])])]):t._e(),t._v(" "),e("svg",{staticClass:"mv-visualizer"},[e("g",{attrs:{id:"graph"}}),t._v(" "),e("g",{attrs:{id:"interaction"}},[e("defs",[e("marker",{attrs:{id:"arrowhead",viewBox:"0 0 10 10",refX:"9",refY:"5",markerUnits:"strokeWidth",markerWidth:"8",markerHeight:"6",orient:"auto"}},[e("path",{staticStyle:{"stroke-width":"1","stroke-dasharray":"1, 0"},attrs:{d:"M 0 0 L 10 5 L 0 10 z"}})])]),t._v(" "),e("path",{staticClass:"path dynamicPath hidden",staticStyle:{"marker-end":'url("#arrowhead")'},attrs:{"pointer-events":"none"}})])]),t._v(" "),e("div",{staticClass:"mv-tooltip"})])};a._withStripped=!0;var u=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mv-edit-edge"},[e("h2",[t._v("Edit Edge")]),t._v(" "),e("div",{staticClass:"mv-edge-id"},[e("label",{attrs:{for:"mv-edge-id-input"}},[t._v("Id")]),t._v(" "),e("input",{attrs:{placeholder:"Edge id",id:"mv-edge-id-input",type:"text",disabled:""},domProps:{value:t.local.id}})]),t._v(" "),e("div",{staticClass:"mv-edge-name"},[e("label",{attrs:{for:"mv-edge-name-input"}},[t._v("Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.local.name,expression:"local.name"}],ref:"name",class:{"mv-input-error":t.nameError},attrs:{placeholder:"Name",id:"mv-edge-name-input",type:"text"},domProps:{value:t.local.name},on:{input:[function(e){e.target.composing||t.$set(t.local,"name",e.target.value)},function(e){t.validateName(e.target.value)&&t.update("name",e.target.value)}]}}),t._v(" "),t.nameError?e("span",{staticClass:"mv-error"},[t._v(t._s(t.nameError))]):t._e()]),t._v(" "),e("div",{staticClass:"mv-edge-description"},[e("label",{attrs:{for:"mv-edge-description-input"}},[t._v("Description")]),t._v(" "),e("textarea",{attrs:{id:"mv-edge-description-input",placeholder:"Description (optional)"},domProps:{value:t.local.properties&&t.local.properties.description},on:{input:function(e){return t.update("properties.description",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"mv-edge-source-vertex"},[e("label",{attrs:{for:"mv-edge-source-vertex-input"}},[t._v("Source vertex")]),t._v(" "),e("select",{attrs:{placeholder:"Source vertex id",id:"mv-edge-source-vertex-input",type:"text"},domProps:{value:t.local.sourceVertexId},on:{input:function(e){return t.update("sourceVertexId",e.target.value)}}},[e("option"),t._v(" "),t._l(t.vertices,(function(n){return e("option",{key:n.id,domProps:{value:n.id}},[t._v(t._s(n.id)+" - "+t._s(n.name))])}))],2)]),t._v(" "),e("div",{staticClass:"mv-edge-target-vertex"},[e("label",{attrs:{for:"mv-edge-target-vertex-input"}},[t._v("Target vertex")]),t._v(" "),e("select",{attrs:{placeholder:"Target vertex id",id:"mv-edge-target-vertex-input",type:"text"},domProps:{value:t.local.targetVertexId},on:{input:function(e){return t.update("targetVertexId",e.target.value)}}},t._l(t.vertices,(function(n){return e("option",{key:n.id,domProps:{value:n.id}},[t._v(t._s(n.id)+" - "+t._s(n.name))])})),0)]),t._v(" "),e("div",{staticClass:"mv-edge-guard"},[e("label",{attrs:{for:"mv-edge-guard-input"}},[t._v("Guard")]),t._v(" "),e("div",{staticClass:"mv-help-tooltip"},[e("InfoIcon"),t._v(" "),e("span",{staticClass:"mv-help-tooltip-text"},[t._v("\n        A JavaScript conditional expression that blocks the edge until the condition is met.\n      ")])],1),t._v(" "),e("input",{attrs:{id:"mv-edge-guard-input",type:"text",placeholder:"Guard (optional)"},domProps:{value:t.local.guard},on:{input:function(e){return t.update("guard",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"mv-edge-weight"},[e("WeightForm",{attrs:{value:t.local.weight},on:{input:function(e){return t.update("weight",e)}}})],1),t._v(" "),e("div",{staticClass:"mv-edge-dependency"},[e("DependencyForm",{attrs:{value:t.local.dependency},on:{input:function(e){return t.update("dependency",e)}}})],1),t._v(" "),e("div",{staticClass:"mv-edge-actions"},[e("ActionsForm",{attrs:{value:t.local.actions,tooltipMessage:this.actionsTooltipMessage},on:{input:function(e){return t.updateActions(e)}}})],1),t._v(" "),e("div",[e("button",{staticClass:"mv-button mv-button-delete-edge",on:{click:function(e){return t.$emit("delete")}}},[t._v("Delete Edge")])])])};u._withStripped=!0;var c=n(1);class s extends Error{constructor(t){super(t),this.name="ModelVisualizerError"}}class l extends s{constructor(t){super(t),this.name="ValidationError"}}class f extends s{constructor(t){super(t),this.name="PlottingError"}}const h={name:"Default Models",models:[{name:"FirstModel",generator:"random(edge_coverage(100) && vertex_coverage(100))",startElementId:"v0",vertices:[{id:"v0",name:"vertex_zero",properties:{x:100,y:200}},{id:"v1",name:"vertex_one"},{id:"v2",name:"vertex_two",sharedState:"link"}],edges:[{id:"e0",name:"edge_A",sourceVertexId:"v0",targetVertexId:"v1",properties:{x:100,y:200}}]},{name:"SecondModel",generator:"random(edge_coverage(100) && vertex_coverage(100))",vertices:[{id:"v3",name:"vertex_three",sharedState:"link"},{id:"v4",name:"vertex_four"},{id:"v5",name:"vertex_five"}],edges:[{id:"e1",name:"edge_B",sourceVertexId:"v3",targetVertexId:"v4"},{id:"e2",name:"edge_C",sourceVertexId:"v4",targetVertexId:"v5"},{id:"e3",name:"edge_D",sourceVertexId:"v5",targetVertexId:"v3"}]}]},d=["as","for","and","yield","global","break","return","else","class","except","from","while","none","not","await","true","elif","pass","or","def","del","import","false","continue","assert","is","lambda","nonlocal","async","finally","if","in","try","with","raise","abstract","add","alias","as","ascending","async","await","base","bool","break","by","byte","case","catch","char","checked","class","const","continue","decimal","default","delegate","descending","do","double","dynamic","else","enum","equals","event","explicit","extrem","false","finally","fixed","float","for","foreach","from","get","global","goto","group","if","implicit","in","int","interface","internal","into","is","join","let","lock","long","nameof","namespace","new","null","object","on","operator","orderby","out","override","params","partial","private","protected","public","readonly","ref","remove","return","sbyte","sealed","select","set","short","static","struct","switch","this","throw","true","try","typeof","uint","ulong","unchecked","value","var","virtual","void","volatile","when","where","while","yield"];function p(t){return!!d.includes(t.toLowerCase())}function v(t){let e;try{e=new RegExp("^[\\p{L}\\p{Nl}ᢅᢆ℘℮゛゜A-Za-z_][\\p{L}\\p{Nl}\\p{Mn}\\p{Mc}\\p{Nd}\\p{Pc}ᢅᢆ℘℮゛゜··፩፩፪፫፬፭፮፯፰፱᧚0-9A-Za-z_]*$","u")}catch(t){e=/^[_a-zA-Z]\\w*$/}return!!e.test(t)}function g(t){return 0===t||!(!t||t<0||t>1)}function _(t){return 0===t||!(!t||t<0)}function m(t,e){if(e=e||"Element",!v(t))throw new l(`${e} name '${t}' is not a valid identifier. Valid characters for identifiers are uppercase/lowercase letters, underscore _, and digits except for the first charater.`);if(p(t))throw new l(`${e} name '${t}' is a reserved keyword.`);return!0}function y(t){if(!t.name)throw new l(`Vertex '${t.id}' does't have a name. Each vertex must have a name.`);if(m(t.name,"Vertex"),t.sharedState&&(e=t.sharedState,!Object(c.isString)(e)))throw new l(`Vertex '${t.id}' does't have a valid sharedState. Shared states must be strings.`);var e}function b(t){const e=t.models;if(!e)throw new f("Models should not be empty.");const n={},r={};let i=!1;const o=[];if(e.forEach(t=>{const e={};(t.vertices||[]).forEach(t=>{if(!t.id)throw new f("Each vertex must have a unique id.");if(n[t.id]||r[t.id])throw new f(`Duplicate id '${t.id}'. Edges and vertices should have unique ids.`);n[t.id]=!0,e[t.id]=!0});(t.edges||[]).forEach(i=>{if(!i.id)throw new f("Each edge must have a unique id.");if(r[i.id]||n[i.id])throw new f(`Duplicate id '${i.id}'. Edges and vertices should have unique ids.`);if(i.sourceVertexId&&!e[i.sourceVertexId])throw new f(`Edge '${i.id}' has as sourceVertexId '${i.sourceVertexId}' which does not exist in model '${t.name}'.`);if(!e[i.targetVertexId])throw new f(`Edge '${i.id}' has as targetVertexId '${i.targetVertexId}' which does not exist in model '${t.name}'.`);r[i.id]=!0})}),e.forEach(t=>{!function(t){if(!t.name)throw new l("Each model must have a unique name.");if(m(t.name,"Model"),!t.generator)throw new l(`Model '${t.name}' doesn't have a generator. Each model must have a generator.`);if(!t.vertices)throw new l(`Model '${t.name}' doesn't have a list of vertices. Each model must have a list of vertices.`);if(!t.edges)throw new l(`Model '${t.name}' doesn't have a list of edges. Each model must have a list of edges.`)}(t),o.push(t.name);let e=!1,a=!1;if(t.vertices.forEach(t=>{y(t),t.sharedState&&(a=!0)}),t.edges.forEach(t=>{!function(t){if(t.name&&m(t.name,"Edge"),!t.targetVertexId)throw new l(`Edge '${t.id}' does't have a targetVertexId. Edge must have a targetVertexId.`);if(t.weight&&!g(t.weight))throw new l(`Edge '${t.id}' has an invalid weight of: ${t.weight}. The weight must be a value between 0 and 1.`);if(t.dependency&&!_(t.dependency))throw new l(`Edge '${t.id}' has an invalid dependency of: ${t.dependency}. The dependency must be a positive number.`)}(t)}),t.startElementId&&!n[t.startElementId]&&!r[t.startElementId])throw new l(`Starting element '${t.startElementId}' was not found.`);if(t.startElementId&&(e=!0,i=!0),!e&&!a)throw new l(`Model '${t.name}' has neither a starting element nor a shared state.`)}),function(t){t.forEach((e,n)=>{if(t.indexOf(e)===n&&t.lastIndexOf(e)!==n)throw new l(`Model name '${e}' appears at least two time. Model names should be unique.`)})}(o),!i)throw new l("At least one model must have an startElementId.")}var w=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mv-actions"},[e("label",{attrs:{for:"mv-actions-input"}},[t._v("Actions")]),t._v(" "),e("div",{staticClass:"mv-help-tooltip"},[e("InfoIcon"),t._v(" "),e("span",{staticClass:"mv-help-tooltip-text"},[t._v(t._s(t.tooltipMessage))])],1),t._v(" "),e("textarea",{class:{"mv-input-error":t.error},attrs:{rows:Math.max(3,t.numberOfActions),id:"mv-actions-input",spellcheck:"false",placeholder:"Actions (optional)"},domProps:{value:t.actions},on:{input:function(e){return t.updateActions(e.target.value)}}}),t._v(" "),t.error?e("span",{staticClass:"mv-error"},[t._v(t._s(t.error))]):t._e()])};w._withStripped=!0;var x=function(){var t=this._self._c;return t("svg",{staticClass:"mv-help-icon",attrs:{fill:"currentColor",viewBox:"0 0 20 20",width:"22",height:"22"}},[t("path",{attrs:{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"}})])};x._withStripped=!0;function E(t,e,n,r,i,o,a,u){var c,s="function"==typeof t?t.options:t;if(e&&(s.render=e,s.staticRenderFns=n,s._compiled=!0),r&&(s.functional=!0),o&&(s._scopeId="data-v-"+o),a?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},s._ssrRegister=c):i&&(c=u?function(){i.call(this,(s.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(s.functional){s._injectStyles=c;var l=s.render;s.render=function(t,e){return c.call(e),l(t,e)}}else{var f=s.beforeCreate;s.beforeCreate=f?[].concat(f,c):[c]}return{exports:t,options:s}}var M=E({},x,[],!1,null,null,null).exports,A=E({components:{InfoIcon:M},props:{value:Array,tooltipMessage:String},data(){return{actions:this.stringifyActions(this.value),numberOfActions:this.value?this.value.length:0,error:""}},watch:{value:function(t,e){e!==t&&this.reset()}},methods:{reset(){this.actions=this.stringifyActions(this.value),this.error=""},parseActions:t=>t?t.split("\n"):[],stringifyActions:t=>t?t.reduce((e,n,r)=>e+n+(r<t.length-1?"\n":""),""):"",updateActions(t){this.actions=t;const e=this.parseActions(t);this.validateActions(e)&&e!==this.value&&this.$emit("input",e)},validateActions(t){if(!t||0===t.length)return this.error="",!0;for(let e=0;e<t.length;e++){const n=t[e];if(!n)return this.error="* action should not be empty",!1;if(!n.trim().endsWith(";"))return this.error="* each actions should end with ';'",!1}return this.error="",!0}}},w,[],!1,null,null,null).exports,k=function(){var t=this,e=t._self._c;return e("div",[e("label",{attrs:{for:"mv-edge-weight-input"}},[t._v("Weight")]),t._v(" "),e("div",{staticClass:"mv-help-tooltip"},[e("InfoIcon"),t._v(" "),e("span",{staticClass:"mv-help-tooltip-text"},[t._v("\n      A number between 0 and 1 used by the weighted_random generator. It represents the probability of an edge getting chosen.\n    ")])],1),t._v(" "),e("input",{class:{"mv-input-error":t.error},attrs:{id:"mv-edge-weight-input",type:"text",placeholder:"Weight (optional)"},domProps:{value:t.weight},on:{input:function(e){return t.updateWeight(e.target.value)}}}),t._v(" "),t.error?e("span",{staticClass:"mv-error"},[t._v(t._s(t.error))]):t._e()])};k._withStripped=!0;var C=E({components:{InfoIcon:M},props:{value:Number},data(){return{weight:this.value||"",error:""}},watch:{value:function(t){t!==Number(this.weight)&&this.reset()}},methods:{reset(){this.weight=this.value||"",this.error=""},validateWeight(t){return t?(t=Number(t),isNaN(t)?(this.error="* weight must be a number",!1):g(t)?(this.error="",!0):(this.error="* weight should be between 0 and 1",!1)):(this.error="",!0)},updateWeight(t){this.weight=t,this.validateWeight(t)&&this.$emit("input",Number(t))}}},k,[],!1,null,null,null).exports,N=function(){var t=this,e=t._self._c;return e("div",[e("label",{attrs:{for:"mv-edge-dependency-input"}},[t._v("Dependency")]),t._v(" "),e("div",{staticClass:"mv-help-tooltip"},[e("InfoIcon"),t._v(" "),e("span",{staticClass:"mv-help-tooltip-text"},[t._v("\n      An integer used by the dependency_edge_coverage stop condition to finish the path when all the edges with dependency higher or equal to the threshold are reached.\n    ")])],1),t._v(" "),e("input",{class:{"mv-input-error":t.error},attrs:{id:"mv-edge-dependency-input",type:"text",placeholder:"Dependency (optional)"},domProps:{value:t.dependency},on:{input:function(e){return t.updateDependency(e.target.value)}}}),t._v(" "),t.error?e("span",{staticClass:"mv-error"},[t._v(t._s(t.error))]):t._e()])};N._withStripped=!0;var S=E({components:{InfoIcon:M},props:{value:Number},data(){return{dependency:this.value||"",error:""}},watch:{value:function(t){t!==Number(this.dependency)&&this.reset()}},methods:{reset(){this.dependency=this.value||"",this.error=""},validateDependency(t){return t?(t=Number(t),isNaN(t)?(this.error="* dependency must be a number",!1):_(t)?(this.error="",!0):(this.error="* dependency cannot be negative",!1)):(this.error="",!0)},updateDependency(t){this.dependency=t,this.validateDependency(t)&&this.$emit("input",Number(t))}}},N,[],!1,null,null,null),j=E({components:{ActionsForm:A,WeightForm:C,DependencyForm:S.exports,InfoIcon:M},props:{value:Object,vertices:{type:Array,required:!0},newEdge:Boolean},data(){return{nameError:"",weight:this.value.weight||"",weightError:"",dependency:this.value.dependency||"",dependencyError:"",actionsTooltipMessage:"JavaScript code that is executed every time an edge is reached."}},mounted(){this.newEdge&&this.focusNameInput()},computed:{local(){return Object(c.cloneDeep)(this.value)}},watch:{newEdge:function(t){t&&this.focusNameInput()}},methods:{focusNameInput(){const t=this.$refs.name;setTimeout((function(){t.focus()}),20)},validateName(t){return t?p(t)?(this.nameError="* name should not be a reserved keyword",!1):v(t)?(this.nameError="",!0):(this.nameError="* name should be a valid identifier",!1):(this.nameError="",!0)},update(t,e){e||0===e?this.$emit("input",Object(c.tap)(Object(c.cloneDeep)(this.local),n=>Object(c.set)(n,t,e))):this.$emit("input",Object(c.tap)(Object(c.cloneDeep)(this.local),n=>Object(c.unset)(n,t,e)))},updateActions(t){this.$emit("input",Object(c.tap)(Object(c.cloneDeep)(this.local),e=>e.actions=t))}}},u,[],!1,null,null,null).exports,I=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mv-edit-vertex"},[e("h2",[t._v("Edit Vertex")]),t._v(" "),e("div",{staticClass:"mv-vertex-id"},[e("label",{attrs:{for:"mv-vertex-id-input"}},[t._v("Id")]),t._v(" "),e("input",{attrs:{placeholder:"Id",id:"mv-vertex-id-input",type:"text",disabled:""},domProps:{value:t.local.id}})]),t._v(" "),e("div",{staticClass:"mv-vertex-name"},[e("label",{attrs:{for:"mv-vertex-name-input"}},[t._v("Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.local.name,expression:"local.name"}],ref:"name",class:{"mv-input-error":t.nameError},attrs:{placeholder:"Name",id:"mv-vertex-name-input",type:"text"},domProps:{value:t.local.name},on:{input:[function(e){e.target.composing||t.$set(t.local,"name",e.target.value)},function(e){t.validateName(e.target.value)&&t.update("name",e.target.value)}]}}),t._v(" "),t.nameError?e("span",{staticClass:"mv-error"},[t._v(t._s(t.nameError))]):t._e()]),t._v(" "),e("div",{staticClass:"mv-vertex-description"},[e("label",{attrs:{for:"mv-vertex-description-input"}},[t._v("Description")]),t._v(" "),e("textarea",{attrs:{id:"mv-vertex-description-input",placeholder:"Description (optional)"},domProps:{value:t.local.properties&&t.local.properties.description},on:{input:function(e){return t.update("properties.description",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"mv-vertex-shared-state"},[e("label",{attrs:{for:"mv-vertex-shared-state-input"}},[t._v("Shared state")]),t._v(" "),e("div",{staticClass:"mv-help-tooltip"},[e("InfoIcon"),t._v(" "),e("span",{staticClass:"mv-help-tooltip-text"},[t._v("\n        A common shared state value added to vertexes to link them together, allowing the path to jump from one to another.\n      ")])],1),t._v(" "),e("input",{attrs:{placeholder:"Shared state (optional)",id:"mv-vertex-shared-state-input",type:"text"},domProps:{value:t.local.sharedState},on:{input:function(e){return t.update("sharedState",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"mv-vertex-blocked"},[e("label",{attrs:{for:"mv-vertex-blocked-input"}},[t._v("Blocked")]),t._v(" "),e("div",{staticClass:"mv-help-tooltip"},[e("InfoIcon"),t._v(" "),e("span",{staticClass:"mv-help-tooltip-text"},[t._v("\n        A property which filters out the vertex from the path.\n      ")])],1),t._v(" "),e("input",{attrs:{placeholder:"Blocked",id:"mv-vertex-blocked-input",type:"checkbox"},domProps:{checked:t.local.properties&&t.local.properties.blocked},on:{input:function(e){return t.update("properties.blocked",e.target.checked)}}})]),t._v(" "),e("div",{staticClass:"mv-vertex-color"},[e("label",{attrs:{for:"mv-vertex-color-input"}},[t._v("Color")]),t._v(" "),e("input",{attrs:{id:"mv-vertex-color-input",type:"color"},domProps:{value:t.local.properties&&t.local.properties.color},on:{input:function(e){return t.update("properties.color",e.target.value)}}})]),t._v(" "),e("div",[e("button",{staticClass:"mv-button mv-button-delete-vertex",on:{click:function(e){return t.$emit("delete")}}},[t._v("Delete Vertex")])])])};I._withStripped=!0;var O=E({components:{InfoIcon:M},props:{value:Object,newVertex:Boolean},data:()=>({nameError:""}),mounted(){this.newVertex&&this.focusNameInput()},computed:{local(){return Object(c.cloneDeep)(this.value)}},methods:{focusNameInput(){const t=this.$refs.name;setTimeout((function(){t.focus()}),20)},update(t,e){this.$emit("input",Object(c.tap)(Object(c.cloneDeep)(this.local),n=>Object(c.set)(n,t,e)))},validateName(t){return t?p(t)?(this.nameError="* name should not be a reserved keyword",!1):v(t)?(this.nameError="",!0):(this.nameError="* name should be a valid identifier",!1):(this.nameError="* name is required",!1)}}},I,[],!1,null,null,null).exports,T=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mv-edit-model"},[e("h2",[t._v("Edit Model")]),t._v(" "),e("div",{staticClass:"mv-model-name"},[e("label",{attrs:{for:"mv-model-name-input"}},[t._v("Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.local.name,expression:"local.name"}],class:{"mv-input-error":t.nameError},attrs:{placeholder:"Name",id:"mv-model-name-input",type:"text"},domProps:{value:t.local.name},on:{input:[function(e){e.target.composing||t.$set(t.local,"name",e.target.value)},function(e){t.validateName(e.target.value)&&t.update("name",e.target.value)}]}}),t._v(" "),t.nameError?e("span",{staticClass:"mv-error"},[t._v(t._s(t.nameError))]):t._e()]),t._v(" "),e("div",{staticClass:"mv-model-start-element"},[e("label",{attrs:{for:"mv-model-start-element-input"}},[t._v("Start element")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.local.startElementId,expression:"local.startElementId"}],attrs:{placeholder:"",id:"mv-model-start-element-input",type:"text"},on:{input:function(e){return t.update("startElementId",e.target.value)},change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.local,"startElementId",e.target.multiple?n:n[0])}}},[e("option"),t._v(" "),t._l(t.elements,(function(n){return e("option",{key:n.id,domProps:{value:n.id}},[t._v(t._s(n.id)+" - "+t._s(n.name))])}))],2)]),t._v(" "),e("div",{staticClass:"mv-model-generator"},[e("label",{attrs:{for:"mv-model-generator-input"}},[t._v("Generator")]),t._v(" "),e("div",{staticClass:"mv-help-tooltip"},[e("InfoIcon"),t._v(" "),e("span",{staticClass:"mv-help-tooltip-text"},[t._v("\n        Decides how to walk through the graph and when to stop.\n      ")])],1),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.local.generator,expression:"local.generator"}],class:{"mv-input-error":t.generatorError},attrs:{placeholder:"generator(stop_condition)",id:"mv-model-generator-input",type:"text"},domProps:{value:t.local.generator},on:{input:[function(e){e.target.composing||t.$set(t.local,"generator",e.target.value)},function(e){t.validateGenerator(e.target.value)&&t.update("generator",e.target.value)}]}}),t._v(" "),t.generatorError?e("span",{staticClass:"mv-error"},[t._v(t._s(t.generatorError))]):t._e()]),t._v(" "),e("div",{staticClass:"mv-model-actions"},[e("ActionsForm",{attrs:{value:t.local.actions,tooltipMessage:this.actionsTooltipMessage},on:{input:function(e){return t.updateActions(e)}}})],1),t._v(" "),e("div",[e("button",{staticClass:"mv-button mv-button-delete-model",on:{click:function(e){return t.$emit("delete")}}},[t._v("Delete Model")])])])};T._withStripped=!0;var $=E({components:{ActionsForm:A,InfoIcon:M},props:{value:Object,modelNames:{type:Array,required:!0},vertices:{type:Array,required:!0},edges:{type:Array,required:!0}},data:()=>({nameError:"",generatorError:"",actionsTooltipMessage:"Javascript code executed once before any edge or vertex is executed."}),computed:{local(){return Object(c.cloneDeep)(this.value)},elements:function(){return[...this.vertices,...this.edges]}},methods:{update(t,e){this.$emit("input",{...this.local,[t]:e})},updateActions(t){this.$emit("input",Object(c.tap)(Object(c.cloneDeep)(this.local),e=>e.actions=t))},validateName(t){return t?p(t)?(this.nameError="* name should not be a reserved keyword",!1):v(t)?this.value.name!==t&&this.modelNames.includes(t)?(this.nameError="* model names should be unique",!1):(this.nameError="",!0):(this.nameError="* name should be a valid identifier",!1):(this.nameError="* name is required",!1)},validateGenerator(t){return t?(this.generatorError="",!0):(this.generatorError="* generator is required",!1)}}},T,[],!1,null,null,null).exports;class P{constructor(t){this.states=[Object(c.cloneDeep)(t)],this.currentStateIndex=0}push(t){return t=Object(c.cloneDeep)(t),JSON.stringify(this.current())===JSON.stringify(t)||(this.states=this.states.slice(0,this.currentStateIndex+1),this.states.push(t),this.currentStateIndex++),this}undo(){return this.currentStateIndex>0&&this.currentStateIndex--,this}redo(){return this.currentStateIndex<this.states.length-1&&this.currentStateIndex++,this}current(){return Object(c.cloneDeep)(this.states[this.currentStateIndex])}}var D={value:function(){}};function L(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new z(r)}function z(t){this._=t}function V(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function U(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function R(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=D,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}z.prototype=L.prototype={constructor:z,on:function(t,e){var n,r=this._,i=V(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=R(r[n],t.name,e);else if(null==e)for(n in r)r[n]=R(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=U(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new z(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var B=L;function F(){}var q=function(t){return null==t?F:function(){return this.querySelector(t)}};function Y(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function W(){return[]}function H(t){return function(e){return e.matches(t)}}var X=Array.prototype.find;function G(){return this.firstElementChild}var Z=Array.prototype.filter;function J(){return Array.from(this.children)}var K=function(t){return new Array(t.length)};function Q(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Q.prototype={constructor:Q,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var tt=function(t){return function(){return t}};function et(t,e,n,r,i,o){for(var a,u=0,c=e.length,s=o.length;u<s;++u)(a=e[u])?(a.__data__=o[u],r[u]=a):n[u]=new Q(t,o[u]);for(;u<c;++u)(a=e[u])&&(i[u]=a)}function nt(t,e,n,r,i,o,a){var u,c,s,l=new Map,f=e.length,h=o.length,d=new Array(f);for(u=0;u<f;++u)(c=e[u])&&(d[u]=s=a.call(c,c.__data__,u,e)+"",l.has(s)?i[u]=c:l.set(s,c));for(u=0;u<h;++u)s=a.call(t,o[u],u,o)+"",(c=l.get(s))?(r[u]=c,c.__data__=o[u],l.delete(s)):n[u]=new Q(t,o[u]);for(u=0;u<f;++u)(c=e[u])&&l.get(d[u])===c&&(i[u]=c)}function rt(t){return t.__data__}function it(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function ot(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var at="http://www.w3.org/1999/xhtml",ut={svg:"http://www.w3.org/2000/svg",xhtml:at,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ct=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),ut.hasOwnProperty(e)?{space:ut[e],local:t}:t};function st(t){return function(){this.removeAttribute(t)}}function lt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ft(t,e){return function(){this.setAttribute(t,e)}}function ht(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function dt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function pt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var vt=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function gt(t){return function(){this.style.removeProperty(t)}}function _t(t,e,n){return function(){this.style.setProperty(t,e,n)}}function mt(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function yt(t,e){return t.style.getPropertyValue(e)||vt(t).getComputedStyle(t,null).getPropertyValue(e)}function bt(t){return function(){delete this[t]}}function wt(t,e){return function(){this[t]=e}}function xt(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Et(t){return t.trim().split(/^|\s+/)}function Mt(t){return t.classList||new At(t)}function At(t){this._node=t,this._names=Et(t.getAttribute("class")||"")}function kt(t,e){for(var n=Mt(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Ct(t,e){for(var n=Mt(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Nt(t){return function(){kt(this,t)}}function St(t){return function(){Ct(this,t)}}function jt(t,e){return function(){(e.apply(this,arguments)?kt:Ct)(this,t)}}At.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function It(){this.textContent=""}function Ot(t){return function(){this.textContent=t}}function Tt(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function $t(){this.innerHTML=""}function Pt(t){return function(){this.innerHTML=t}}function Dt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Lt(){this.nextSibling&&this.parentNode.appendChild(this)}function zt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Vt(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===at&&e.documentElement.namespaceURI===at?e.createElement(t):e.createElementNS(n,t)}}function Ut(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var Rt=function(t){var e=ct(t);return(e.local?Ut:Vt)(e)};function Bt(){return null}function Ft(){var t=this.parentNode;t&&t.removeChild(this)}function qt(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Yt(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Wt(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Ht(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function Xt(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var a=0,u=i.length;a<u;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function Gt(t,e,n){var r=vt(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Zt(t,e){return function(){return Gt(this,t,e)}}function Jt(t,e){return function(){return Gt(this,t,e.apply(this,arguments))}}var Kt=[null];function Qt(t,e){this._groups=t,this._parents=e}function te(){return new Qt([[document.documentElement]],Kt)}Qt.prototype=te.prototype={constructor:Qt,select:function(t){"function"!=typeof t&&(t=q(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,u=e[i],c=u.length,s=r[i]=new Array(c),l=0;l<c;++l)(o=u[l])&&(a=t.call(o,o.__data__,l,u))&&("__data__"in o&&(a.__data__=o.__data__),s[l]=a);return new Qt(r,this._parents)},selectAll:function(t){var e;"function"==typeof t?t=function(t){return function(){return Y(t.apply(this,arguments))}}(t):t=null==(e=t)?W:function(){return this.querySelectorAll(e)};for(var n=this._groups,r=n.length,i=[],o=[],a=0;a<r;++a)for(var u,c=n[a],s=c.length,l=0;l<s;++l)(u=c[l])&&(i.push(t.call(u,u.__data__,l,c)),o.push(u));return new Qt(i,o)},selectChild:function(t){return this.select(null==t?G:function(t){return function(){return X.call(this.children,t)}}("function"==typeof t?t:H(t)))},selectChildren:function(t){return this.selectAll(null==t?J:function(t){return function(){return Z.call(this.children,t)}}("function"==typeof t?t:H(t)))},filter:function(t){var e;"function"!=typeof t&&(e=t,t=function(){return this.matches(e)});for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o)for(var a,u=n[o],c=u.length,s=i[o]=[],l=0;l<c;++l)(a=u[l])&&t.call(a,a.__data__,l,u)&&s.push(a);return new Qt(i,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,rt);var n=e?nt:et,r=this._parents,i=this._groups;"function"!=typeof t&&(t=tt(t));for(var o=i.length,a=new Array(o),u=new Array(o),c=new Array(o),s=0;s<o;++s){var l=r[s],f=i[s],h=f.length,d=it(t.call(l,l&&l.__data__,s,r)),p=d.length,v=u[s]=new Array(p),g=a[s]=new Array(p),_=c[s]=new Array(h);n(l,f,v,g,_,d,e);for(var m,y,b=0,w=0;b<p;++b)if(m=v[b]){for(b>=w&&(w=b+1);!(y=g[w])&&++w<p;);m._next=y||null}}return(a=new Qt(a,r))._enter=u,a._exit=c,a},enter:function(){return new Qt(this._enter||this._groups.map(K),this._parents)},exit:function(){return new Qt(this._exit||this._groups.map(K),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),u=new Array(i),c=0;c<a;++c)for(var s,l=n[c],f=r[c],h=l.length,d=u[c]=new Array(h),p=0;p<h;++p)(s=l[p]||f[p])&&(d[p]=s);for(;c<i;++c)u[c]=n[c];return new Qt(u,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=ot);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,u=n[o],c=u.length,s=i[o]=new Array(c),l=0;l<c;++l)(a=u[l])&&(s[l]=a);s.sort(e)}return new Qt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=ct(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?lt:st:"function"==typeof e?n.local?pt:dt:n.local?ht:ft)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?gt:"function"==typeof e?mt:_t)(t,e,null==n?"":n)):yt(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?bt:"function"==typeof e?xt:wt)(t,e)):this.node()[t]},classed:function(t,e){var n=Et(t+"");if(arguments.length<2){for(var r=Mt(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?jt:e?Nt:St)(n,e))},text:function(t){return arguments.length?this.each(null==t?It:("function"==typeof t?Tt:Ot)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?$t:("function"==typeof t?Dt:Pt)(t)):this.node().innerHTML},raise:function(){return this.each(Lt)},lower:function(){return this.each(zt)},append:function(t){var e="function"==typeof t?t:Rt(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Rt(t),r=null==e?Bt:"function"==typeof e?e:q(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Ft)},clone:function(t){return this.select(t?Yt:qt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=Wt(t+""),a=o.length;if(!(arguments.length<2)){for(u=e?Xt:Ht,r=0;r<a;++r)this.each(u(o[r],e,n));return this}var u=this.node().__on;if(u)for(var c,s=0,l=u.length;s<l;++s)for(r=0,c=u[s];r<a;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?Jt:Zt)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};var ee=function(t){return"string"==typeof t?new Qt([[document.querySelector(t)]],[document.documentElement]):new Qt([[t]],Kt)};const ne={capture:!0,passive:!1};var re=function(t){t.preventDefault(),t.stopImmediatePropagation()},ie=function(t){var e=t.document.documentElement,n=ee(t).on("dragstart.drag",re,ne);"onselectstart"in e?n.on("selectstart.drag",re,ne):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")};function oe(t,e){var n=t.document.documentElement,r=ee(t).on("dragstart.drag",null);e&&(r.on("click.drag",re,ne),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var ae=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function ue(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ce(){}var se="\\s*([+-]?\\d+)\\s*",le="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",fe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",he=/^#([0-9a-f]{3,8})$/,de=new RegExp("^rgb\\("+[se,se,se]+"\\)$"),pe=new RegExp("^rgb\\("+[fe,fe,fe]+"\\)$"),ve=new RegExp("^rgba\\("+[se,se,se,le]+"\\)$"),ge=new RegExp("^rgba\\("+[fe,fe,fe,le]+"\\)$"),_e=new RegExp("^hsl\\("+[le,fe,fe]+"\\)$"),me=new RegExp("^hsla\\("+[le,fe,fe,le]+"\\)$"),ye={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function be(){return this.rgb().formatHex()}function we(){return this.rgb().formatRgb()}function xe(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=he.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Ee(e):3===n?new Ce(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Me(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Me(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=de.exec(t))?new Ce(e[1],e[2],e[3],1):(e=pe.exec(t))?new Ce(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=ve.exec(t))?Me(e[1],e[2],e[3],e[4]):(e=ge.exec(t))?Me(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=_e.exec(t))?Ie(e[1],e[2]/100,e[3]/100,1):(e=me.exec(t))?Ie(e[1],e[2]/100,e[3]/100,e[4]):ye.hasOwnProperty(t)?Ee(ye[t]):"transparent"===t?new Ce(NaN,NaN,NaN,0):null}function Ee(t){return new Ce(t>>16&255,t>>8&255,255&t,1)}function Me(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ce(t,e,n,r)}function Ae(t){return t instanceof ce||(t=xe(t)),t?new Ce((t=t.rgb()).r,t.g,t.b,t.opacity):new Ce}function ke(t,e,n,r){return 1===arguments.length?Ae(t):new Ce(t,e,n,null==r?1:r)}function Ce(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Ne(){return"#"+je(this.r)+je(this.g)+je(this.b)}function Se(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function je(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Ie(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Te(t,e,n,r)}function Oe(t){if(t instanceof Te)return new Te(t.h,t.s,t.l,t.opacity);if(t instanceof ce||(t=xe(t)),!t)return new Te;if(t instanceof Te)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,c=(o+i)/2;return u?(a=e===o?(n-r)/u+6*(n<r):n===o?(r-e)/u+2:(e-n)/u+4,u/=c<.5?o+i:2-o-i,a*=60):u=c>0&&c<1?0:a,new Te(a,u,c,t.opacity)}function Te(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function $e(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Pe(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}ae(ce,xe,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:be,formatHex:be,formatHsl:function(){return Oe(this).formatHsl()},formatRgb:we,toString:we}),ae(Ce,ke,ue(ce,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ce(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ce(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ne,formatHex:Ne,formatRgb:Se,toString:Se})),ae(Te,(function(t,e,n,r){return 1===arguments.length?Oe(t):new Te(t,e,n,null==r?1:r)}),ue(ce,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Te(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Te(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ce($e(t>=240?t-240:t+120,i,r),$e(t,i,r),$e(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var De=function(t){return function(){return t}};function Le(t,e){return function(n){return t+n*e}}function ze(t){return 1==(t=+t)?Ve:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):De(isNaN(e)?n:e)}}function Ve(t,e){var n=e-t;return n?Le(t,n):De(isNaN(t)?e:t)}var Ue=function t(e){var n=ze(e);function r(t,e){var r=n((t=ke(t)).r,(e=ke(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Ve(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Re(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),u=new Array(i);for(n=0;n<i;++n)r=ke(e[n]),o[n]=r.r||0,a[n]=r.g||0,u[n]=r.b||0;return o=t(o),a=t(a),u=t(u),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=u(t),r+""}}}var Be=Re((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,u=r<e-1?t[r+2]:2*o-i;return Pe((n-r/e)*e,a,i,o,u)}})),Fe=(Re((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],u=t[(r+2)%e];return Pe((n-r/e)*e,i,o,a,u)}})),function(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}});function qe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ye(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Ke(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}var We=function(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}},He=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},Xe=function(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Ke(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},Ge=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ze=new RegExp(Ge.source,"g");var Je=function(t,e){var n,r,i,o=Ge.lastIndex=Ze.lastIndex=0,a=-1,u=[],c=[];for(t+="",e+="";(n=Ge.exec(t))&&(r=Ze.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(n=n[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,c.push({i:a,x:He(n,r)})),o=Ze.lastIndex;return o<e.length&&(i=e.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?c[0]?function(t){return function(e){return t(e)+""}}(c[0].x):function(t){return function(){return t}}(e):(e=c.length,function(t){for(var n,r=0;r<e;++r)u[(n=c[r]).i]=n.x(t);return u.join("")})},Ke=function(t,e){var n,r=typeof e;return null==e||"boolean"===r?De(e):("number"===r?He:"string"===r?(n=xe(e))?(e=n,Ue):Je:e instanceof xe?Ue:e instanceof Date?We:qe(e)?Fe:Array.isArray(e)?Ye:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Xe:He)(t,e)};function Qe(){}var tn=function(t){return null==t?Qe:function(){return this.querySelector(t)}};function en(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function nn(){return[]}var rn=function(t){return null==t?nn:function(){return this.querySelectorAll(t)}};var on=function(t){return function(){return this.matches(t)}};function an(t){return function(e){return e.matches(t)}}var un=Array.prototype.find;function cn(){return this.firstElementChild}var sn=Array.prototype.filter;function ln(){return Array.from(this.children)}var fn=function(t){return new Array(t.length)};function hn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}hn.prototype={constructor:hn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var dn=function(t){return function(){return t}};function pn(t,e,n,r,i,o){for(var a,u=0,c=e.length,s=o.length;u<s;++u)(a=e[u])?(a.__data__=o[u],r[u]=a):n[u]=new hn(t,o[u]);for(;u<c;++u)(a=e[u])&&(i[u]=a)}function vn(t,e,n,r,i,o,a){var u,c,s,l=new Map,f=e.length,h=o.length,d=new Array(f);for(u=0;u<f;++u)(c=e[u])&&(d[u]=s=a.call(c,c.__data__,u,e)+"",l.has(s)?i[u]=c:l.set(s,c));for(u=0;u<h;++u)s=a.call(t,o[u],u,o)+"",(c=l.get(s))?(r[u]=c,c.__data__=o[u],l.delete(s)):n[u]=new hn(t,o[u]);for(u=0;u<f;++u)(c=e[u])&&l.get(d[u])===c&&(i[u]=c)}function gn(t){return t.__data__}function _n(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function mn(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var yn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},bn=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),yn.hasOwnProperty(e)?{space:yn[e],local:t}:t};function wn(t){return function(){this.removeAttribute(t)}}function xn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function En(t,e){return function(){this.setAttribute(t,e)}}function Mn(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function An(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function kn(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var Cn=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function Nn(t){return function(){this.style.removeProperty(t)}}function Sn(t,e,n){return function(){this.style.setProperty(t,e,n)}}function jn(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function In(t,e){return t.style.getPropertyValue(e)||Cn(t).getComputedStyle(t,null).getPropertyValue(e)}function On(t){return function(){delete this[t]}}function Tn(t,e){return function(){this[t]=e}}function $n(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Pn(t){return t.trim().split(/^|\s+/)}function Dn(t){return t.classList||new Ln(t)}function Ln(t){this._node=t,this._names=Pn(t.getAttribute("class")||"")}function zn(t,e){for(var n=Dn(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Vn(t,e){for(var n=Dn(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Un(t){return function(){zn(this,t)}}function Rn(t){return function(){Vn(this,t)}}function Bn(t,e){return function(){(e.apply(this,arguments)?zn:Vn)(this,t)}}Ln.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Fn(){this.textContent=""}function qn(t){return function(){this.textContent=t}}function Yn(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Wn(){this.innerHTML=""}function Hn(t){return function(){this.innerHTML=t}}function Xn(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Gn(){this.nextSibling&&this.parentNode.appendChild(this)}function Zn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Jn(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return"http://www.w3.org/1999/xhtml"===n&&"http://www.w3.org/1999/xhtml"===e.documentElement.namespaceURI?e.createElement(t):e.createElementNS(n,t)}}function Kn(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var Qn=function(t){var e=bn(t);return(e.local?Kn:Jn)(e)};function tr(){return null}function er(){var t=this.parentNode;t&&t.removeChild(this)}function nr(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function rr(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ir(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function or(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function ar(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var a=0,u=i.length;a<u;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function ur(t,e,n){var r=Cn(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function cr(t,e){return function(){return ur(this,t,e)}}function sr(t,e){return function(){return ur(this,t,e.apply(this,arguments))}}var lr=[null];function fr(t,e){this._groups=t,this._parents=e}function hr(){return new fr([[document.documentElement]],lr)}fr.prototype=hr.prototype={constructor:fr,select:function(t){"function"!=typeof t&&(t=tn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,u=e[i],c=u.length,s=r[i]=new Array(c),l=0;l<c;++l)(o=u[l])&&(a=t.call(o,o.__data__,l,u))&&("__data__"in o&&(a.__data__=o.__data__),s[l]=a);return new fr(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return en(t.apply(this,arguments))}}(t):rn(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,u=e[o],c=u.length,s=0;s<c;++s)(a=u[s])&&(r.push(t.call(a,a.__data__,s,u)),i.push(a));return new fr(r,i)},selectChild:function(t){return this.select(null==t?cn:function(t){return function(){return un.call(this.children,t)}}("function"==typeof t?t:an(t)))},selectChildren:function(t){return this.selectAll(null==t?ln:function(t){return function(){return sn.call(this.children,t)}}("function"==typeof t?t:an(t)))},filter:function(t){"function"!=typeof t&&(t=on(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,c=r[i]=[],s=0;s<u;++s)(o=a[s])&&t.call(o,o.__data__,s,a)&&c.push(o);return new fr(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,gn);var n=e?vn:pn,r=this._parents,i=this._groups;"function"!=typeof t&&(t=dn(t));for(var o=i.length,a=new Array(o),u=new Array(o),c=new Array(o),s=0;s<o;++s){var l=r[s],f=i[s],h=f.length,d=_n(t.call(l,l&&l.__data__,s,r)),p=d.length,v=u[s]=new Array(p),g=a[s]=new Array(p),_=c[s]=new Array(h);n(l,f,v,g,_,d,e);for(var m,y,b=0,w=0;b<p;++b)if(m=v[b]){for(b>=w&&(w=b+1);!(y=g[w])&&++w<p;);m._next=y||null}}return(a=new fr(a,r))._enter=u,a._exit=c,a},enter:function(){return new fr(this._enter||this._groups.map(fn),this._parents)},exit:function(){return new fr(this._exit||this._groups.map(fn),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),u=new Array(i),c=0;c<a;++c)for(var s,l=n[c],f=r[c],h=l.length,d=u[c]=new Array(h),p=0;p<h;++p)(s=l[p]||f[p])&&(d[p]=s);for(;c<i;++c)u[c]=n[c];return new fr(u,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=mn);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,u=n[o],c=u.length,s=i[o]=new Array(c),l=0;l<c;++l)(a=u[l])&&(s[l]=a);s.sort(e)}return new fr(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=bn(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?xn:wn:"function"==typeof e?n.local?kn:An:n.local?Mn:En)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Nn:"function"==typeof e?jn:Sn)(t,e,null==n?"":n)):In(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?On:"function"==typeof e?$n:Tn)(t,e)):this.node()[t]},classed:function(t,e){var n=Pn(t+"");if(arguments.length<2){for(var r=Dn(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Bn:e?Un:Rn)(n,e))},text:function(t){return arguments.length?this.each(null==t?Fn:("function"==typeof t?Yn:qn)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Wn:("function"==typeof t?Xn:Hn)(t)):this.node().innerHTML},raise:function(){return this.each(Gn)},lower:function(){return this.each(Zn)},append:function(t){var e="function"==typeof t?t:Qn(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Qn(t),r=null==e?tr:"function"==typeof e?e:tn(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(er)},clone:function(t){return this.select(t?rr:nr)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=ir(t+""),a=o.length;if(!(arguments.length<2)){for(u=e?ar:or,r=0;r<a;++r)this.each(u(o[r],e,n));return this}var u=this.node().__on;if(u)for(var c,s=0,l=u.length;s<l;++s)for(r=0,c=u[s];r<a;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?sr:cr)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};var dr,pr,vr=hr,gr=0,_r=0,mr=0,yr=0,br=0,wr=0,xr="object"==typeof performance&&performance.now?performance:Date,Er="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Mr(){return br||(Er(Ar),br=xr.now()+wr)}function Ar(){br=0}function kr(){this._call=this._time=this._next=null}function Cr(t,e,n){var r=new kr;return r.restart(t,e,n),r}function Nr(){br=(yr=xr.now())+wr,gr=_r=0;try{!function(){Mr(),++gr;for(var t,e=dr;e;)(t=br-e._time)>=0&&e._call.call(null,t),e=e._next;--gr}()}finally{gr=0,function(){var t,e,n=dr,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:dr=e);pr=t,jr(r)}(),br=0}}function Sr(){var t=xr.now(),e=t-yr;e>1e3&&(wr-=e,yr=t)}function jr(t){gr||(_r&&(_r=clearTimeout(_r)),t-br>24?(t<1/0&&(_r=setTimeout(Nr,t-xr.now()-wr)),mr&&(mr=clearInterval(mr))):(mr||(yr=xr.now(),mr=setInterval(Sr,1e3)),gr=1,Er(Nr)))}kr.prototype=Cr.prototype={constructor:kr,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Mr():+n)+(null==e?0:+e),this._next||pr===this||(pr?pr._next=this:dr=this,pr=this),this._call=t,this._time=n,jr()},stop:function(){this._call&&(this._call=null,this._time=1/0,jr())}};var Ir=function(t,e,n){var r=new kr;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r},Or=B("start","end","cancel","interrupt"),Tr=[],$r=function(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(c){var s,l,f,h;if(1!==n.state)return u();for(s in i)if((h=i[s]).name===n.name){if(3===h.state)return Ir(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[s]):+s<e&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[s])}if(Ir((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(c))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(f=n.tween.length),s=0,l=-1;s<f;++s)(h=n.tween[s].value.call(t,t.__data__,n.index,n.group))&&(r[++l]=h);r.length=l+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(u),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Cr((function(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:Or,tween:Tr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function Pr(t,e){var n=Lr(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function Dr(t,e){var n=Lr(t,e);if(n.state>3)throw new Error("too late; already running");return n}function Lr(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var zr,Vr,Ur,Rr,Br=function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}},Fr=180/Math.PI,qr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Yr=function(t,e,n,r,i,o){var a,u,c;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,c/=u),t*r<e*n&&(t=-t,e=-e,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Fr,skewX:Math.atan(c)*Fr,scaleX:a,scaleY:u}};function Wr(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],c=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var c=a.push("translate(",null,e,null,n);u.push({i:c-4,x:He(t,i)},{i:c-2,x:He(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,u,c),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:He(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,u,c),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:He(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,u,c),function(t,e,n,r,o,a){if(t!==n||e!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:He(t,n)},{i:u-2,x:He(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,c),o=a=null,function(t){for(var e,n=-1,r=c.length;++n<r;)u[(e=c[n]).i]=e.x(t);return u.join("")}}}var Hr=Wr((function(t){return"none"===t?qr:(zr||(zr=document.createElement("DIV"),Vr=document.documentElement,Ur=document.defaultView),zr.style.transform=t,t=Ur.getComputedStyle(Vr.appendChild(zr),null).getPropertyValue("transform"),Vr.removeChild(zr),t=t.slice(7,-1).split(","),Yr(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),Xr=Wr((function(t){return null==t?qr:(Rr||(Rr=document.createElementNS("http://www.w3.org/2000/svg","g")),Rr.setAttribute("transform",t),(t=Rr.transform.baseVal.consolidate())?(t=t.matrix,Yr(t.a,t.b,t.c,t.d,t.e,t.f)):qr)}),", ",")",")");function Gr(t,e){var n,r;return function(){var i=Dr(this,t),o=i.tween;if(o!==n)for(var a=0,u=(r=n=o).length;a<u;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function Zr(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Dr(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:e,value:n},c=0,s=i.length;c<s;++c)if(i[c].name===e){i[c]=u;break}c===s&&i.push(u)}o.tween=i}}function Jr(t,e,n){var r=t._id;return t.each((function(){var t=Dr(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Lr(t,r).value[e]}}var Kr=function(t,e){var n;return("number"==typeof e?He:e instanceof xe?Ue:(n=xe(e))?(e=n,Ue):Je)(t,e)};function Qr(t){return function(){this.removeAttribute(t)}}function ti(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ei(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function ni(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function ri(t,e,n){var r,i,o;return function(){var a,u,c=n(this);if(null!=c)return(a=this.getAttribute(t))===(u=c+"")?null:a===r&&u===i?o:(i=u,o=e(r=a,c));this.removeAttribute(t)}}function ii(t,e,n){var r,i,o;return function(){var a,u,c=n(this);if(null!=c)return(a=this.getAttributeNS(t.space,t.local))===(u=c+"")?null:a===r&&u===i?o:(i=u,o=e(r=a,c));this.removeAttributeNS(t.space,t.local)}}function oi(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function ai(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function ui(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&ai(t,i)),n}return i._value=e,i}function ci(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&oi(t,i)),n}return i._value=e,i}function si(t,e){return function(){Pr(this,t).delay=+e.apply(this,arguments)}}function li(t,e){return e=+e,function(){Pr(this,t).delay=e}}function fi(t,e){return function(){Dr(this,t).duration=+e.apply(this,arguments)}}function hi(t,e){return e=+e,function(){Dr(this,t).duration=e}}function di(t,e){if("function"!=typeof e)throw new Error;return function(){Dr(this,t).ease=e}}function pi(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Pr:Dr;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(e,n),a.on=i}}var vi=vr.prototype.constructor;function gi(t){return function(){this.style.removeProperty(t)}}function _i(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function mi(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&_i(t,o,n)),r}return o._value=e,o}function yi(t){return function(e){this.textContent=t.call(this,e)}}function bi(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&yi(r)),e}return r._value=t,r}var wi=0;function xi(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Ei(){return++wi}var Mi=vr.prototype;function Ai(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}xi.prototype=function(t){return vr().transition(t)}.prototype={constructor:xi,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=tn(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,c,s=r[a],l=s.length,f=o[a]=new Array(l),h=0;h<l;++h)(u=s[h])&&(c=t.call(u,u.__data__,h,s))&&("__data__"in u&&(c.__data__=u.__data__),f[h]=c,$r(f[h],e,n,h,f,Lr(u,n)));return new xi(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=rn(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var c,s=r[u],l=s.length,f=0;f<l;++f)if(c=s[f]){for(var h,d=t.call(c,c.__data__,f,s),p=Lr(c,n),v=0,g=d.length;v<g;++v)(h=d[v])&&$r(h,e,n,v,d,p);o.push(d),a.push(c)}return new xi(o,a,e,n)},selectChild:Mi.selectChild,selectChildren:Mi.selectChildren,filter:function(t){"function"!=typeof t&&(t=on(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,c=r[i]=[],s=0;s<u;++s)(o=a[s])&&t.call(o,o.__data__,s,a)&&c.push(o);return new xi(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var c,s=e[u],l=n[u],f=s.length,h=a[u]=new Array(f),d=0;d<f;++d)(c=s[d]||l[d])&&(h[d]=c);for(;u<r;++u)a[u]=e[u];return new xi(a,this._parents,this._name,this._id)},selection:function(){return new vi(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Ei(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],c=u.length,s=0;s<c;++s)if(a=u[s]){var l=Lr(a,e);$r(a,t,n,s,u,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new xi(r,this._parents,t,n)},call:Mi.call,nodes:Mi.nodes,node:Mi.node,size:Mi.size,empty:Mi.empty,each:Mi.each,on:function(t,e){var n=this._id;return arguments.length<2?Lr(this.node(),n).on.on(t):this.each(pi(n,t,e))},attr:function(t,e){var n=bn(t),r="transform"===n?Xr:Kr;return this.attrTween(t,"function"==typeof e?(n.local?ii:ri)(n,r,Jr(this,"attr."+t,e)):null==e?(n.local?ti:Qr)(n):(n.local?ni:ei)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=bn(t);return this.tween(n,(r.local?ui:ci)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Hr:Kr;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=In(this,t),a=(this.style.removeProperty(t),In(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,gi(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=In(this,t),u=n(this),c=u+"";return null==u&&(this.style.removeProperty(t),c=u=In(this,t)),a===c?null:a===r&&c===i?o:(i=c,o=e(r=a,u))}}(t,r,Jr(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,u="end."+a;return function(){var c=Dr(this,t),s=c.on,l=null==c.value[a]?o||(o=gi(e)):void 0;s===n&&i===l||(r=(n=s).copy()).on(u,i=l),c.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=In(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,mi(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Jr(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,bi(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Lr(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?Gr:Zr)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?si:li)(e,t)):Lr(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?fi:hi)(e,t)):Lr(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(di(e,t)):Lr(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;Dr(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var u={value:a},c={value:function(){0==--i&&o()}};n.each((function(){var n=Dr(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(u),e._.interrupt.push(u),e._.end.push(c)),n.on=e})),0===i&&o()}))},[Symbol.iterator]:Mi[Symbol.iterator]};var ki={time:null,delay:0,duration:250,ease:Ai};function Ci(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}vr.prototype.interrupt=function(t){return this.each((function(){Br(this,t)}))},vr.prototype.transition=function(t){var e,n;t instanceof xi?(e=t._id,t=t._name):(e=Ei(),(n=ki).time=Mr(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],c=u.length,s=0;s<c;++s)(a=u[s])&&$r(a,t,e,s,u,n||Ci(a,e));return new xi(r,this._parents,t,e)};const{abs:Ni,max:Si,min:ji}=Math;function Ii(t){return[+t[0],+t[1]]}function Oi(t){return[Ii(t[0]),Ii(t[1])]}["w","e"].map(Ti),["n","s"].map(Ti),["n","w","e","s","nw","ne","sw","se"].map(Ti);function Ti(t){return{type:t}}function $i(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Pi(t){return(e,n)=>function(t,e){return fetch(t,e).then($i)}(e,n).then(e=>(new DOMParser).parseFromString(e,t))}Pi("application/xml"),Pi("text/html");var Di=Pi("image/svg+xml");class Li extends Map{constructor(t,e=Ri){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(zi(this,t))}has(t){return super.has(zi(this,t))}set(t,e){return super.set(Vi(this,t),e)}delete(t){return super.delete(Ui(this,t))}}Set;function zi({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Vi({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Ui({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Ri(t){return null!==t&&"object"==typeof t?t.valueOf():t}function Bi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}const Fi=Symbol("implicit");function qi(){var t=new Li,e=[],n=[],r=Fi;function i(i){let o=t.get(i);if(void 0===o){if(r!==Fi)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Li;for(const r of n)t.has(r)||t.set(r,e.push(r)-1);return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return qi(e,n).unknown(r)},Bi.apply(i,arguments),i}var Yi,Wi=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map((function(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n})),Hi=Be((Yi=Wi)[Yi.length-1]);function Xi(){}var Gi=function(t){return null==t?Xi:function(){return this.querySelector(t)}};function Zi(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function Ji(){return[]}var Ki=function(t){return null==t?Ji:function(){return this.querySelectorAll(t)}};var Qi=function(t){return function(){return this.matches(t)}};function to(t){return function(e){return e.matches(t)}}var eo=Array.prototype.find;function no(){return this.firstElementChild}var ro=Array.prototype.filter;function io(){return Array.from(this.children)}var oo=function(t){return new Array(t.length)};function ao(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ao.prototype={constructor:ao,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var uo=function(t){return function(){return t}};function co(t,e,n,r,i,o){for(var a,u=0,c=e.length,s=o.length;u<s;++u)(a=e[u])?(a.__data__=o[u],r[u]=a):n[u]=new ao(t,o[u]);for(;u<c;++u)(a=e[u])&&(i[u]=a)}function so(t,e,n,r,i,o,a){var u,c,s,l=new Map,f=e.length,h=o.length,d=new Array(f);for(u=0;u<f;++u)(c=e[u])&&(d[u]=s=a.call(c,c.__data__,u,e)+"",l.has(s)?i[u]=c:l.set(s,c));for(u=0;u<h;++u)s=a.call(t,o[u],u,o)+"",(c=l.get(s))?(r[u]=c,c.__data__=o[u],l.delete(s)):n[u]=new ao(t,o[u]);for(u=0;u<f;++u)(c=e[u])&&l.get(d[u])===c&&(i[u]=c)}function lo(t){return t.__data__}function fo(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function ho(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var po={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},vo=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),po.hasOwnProperty(e)?{space:po[e],local:t}:t};function go(t){return function(){this.removeAttribute(t)}}function _o(t){return function(){this.removeAttributeNS(t.space,t.local)}}function mo(t,e){return function(){this.setAttribute(t,e)}}function yo(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function bo(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function wo(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var xo=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function Eo(t){return function(){this.style.removeProperty(t)}}function Mo(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ao(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function ko(t,e){return t.style.getPropertyValue(e)||xo(t).getComputedStyle(t,null).getPropertyValue(e)}function Co(t){return function(){delete this[t]}}function No(t,e){return function(){this[t]=e}}function So(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function jo(t){return t.trim().split(/^|\s+/)}function Io(t){return t.classList||new Oo(t)}function Oo(t){this._node=t,this._names=jo(t.getAttribute("class")||"")}function To(t,e){for(var n=Io(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function $o(t,e){for(var n=Io(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Po(t){return function(){To(this,t)}}function Do(t){return function(){$o(this,t)}}function Lo(t,e){return function(){(e.apply(this,arguments)?To:$o)(this,t)}}Oo.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function zo(){this.textContent=""}function Vo(t){return function(){this.textContent=t}}function Uo(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Ro(){this.innerHTML=""}function Bo(t){return function(){this.innerHTML=t}}function Fo(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function qo(){this.nextSibling&&this.parentNode.appendChild(this)}function Yo(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Wo(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return"http://www.w3.org/1999/xhtml"===n&&"http://www.w3.org/1999/xhtml"===e.documentElement.namespaceURI?e.createElement(t):e.createElementNS(n,t)}}function Ho(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var Xo=function(t){var e=vo(t);return(e.local?Ho:Wo)(e)};function Go(){return null}function Zo(){var t=this.parentNode;t&&t.removeChild(this)}function Jo(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ko(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Qo(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function ta(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function ea(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var a=0,u=i.length;a<u;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function na(t,e,n){var r=xo(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function ra(t,e){return function(){return na(this,t,e)}}function ia(t,e){return function(){return na(this,t,e.apply(this,arguments))}}var oa=[null];function aa(t,e){this._groups=t,this._parents=e}function ua(){return new aa([[document.documentElement]],oa)}aa.prototype=ua.prototype={constructor:aa,select:function(t){"function"!=typeof t&&(t=Gi(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,u=e[i],c=u.length,s=r[i]=new Array(c),l=0;l<c;++l)(o=u[l])&&(a=t.call(o,o.__data__,l,u))&&("__data__"in o&&(a.__data__=o.__data__),s[l]=a);return new aa(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return Zi(t.apply(this,arguments))}}(t):Ki(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,u=e[o],c=u.length,s=0;s<c;++s)(a=u[s])&&(r.push(t.call(a,a.__data__,s,u)),i.push(a));return new aa(r,i)},selectChild:function(t){return this.select(null==t?no:function(t){return function(){return eo.call(this.children,t)}}("function"==typeof t?t:to(t)))},selectChildren:function(t){return this.selectAll(null==t?io:function(t){return function(){return ro.call(this.children,t)}}("function"==typeof t?t:to(t)))},filter:function(t){"function"!=typeof t&&(t=Qi(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,c=r[i]=[],s=0;s<u;++s)(o=a[s])&&t.call(o,o.__data__,s,a)&&c.push(o);return new aa(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,lo);var n=e?so:co,r=this._parents,i=this._groups;"function"!=typeof t&&(t=uo(t));for(var o=i.length,a=new Array(o),u=new Array(o),c=new Array(o),s=0;s<o;++s){var l=r[s],f=i[s],h=f.length,d=fo(t.call(l,l&&l.__data__,s,r)),p=d.length,v=u[s]=new Array(p),g=a[s]=new Array(p),_=c[s]=new Array(h);n(l,f,v,g,_,d,e);for(var m,y,b=0,w=0;b<p;++b)if(m=v[b]){for(b>=w&&(w=b+1);!(y=g[w])&&++w<p;);m._next=y||null}}return(a=new aa(a,r))._enter=u,a._exit=c,a},enter:function(){return new aa(this._enter||this._groups.map(oo),this._parents)},exit:function(){return new aa(this._exit||this._groups.map(oo),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),u=new Array(i),c=0;c<a;++c)for(var s,l=n[c],f=r[c],h=l.length,d=u[c]=new Array(h),p=0;p<h;++p)(s=l[p]||f[p])&&(d[p]=s);for(;c<i;++c)u[c]=n[c];return new aa(u,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=ho);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,u=n[o],c=u.length,s=i[o]=new Array(c),l=0;l<c;++l)(a=u[l])&&(s[l]=a);s.sort(e)}return new aa(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=vo(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?_o:go:"function"==typeof e?n.local?wo:bo:n.local?yo:mo)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Eo:"function"==typeof e?Ao:Mo)(t,e,null==n?"":n)):ko(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Co:"function"==typeof e?So:No)(t,e)):this.node()[t]},classed:function(t,e){var n=jo(t+"");if(arguments.length<2){for(var r=Io(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Lo:e?Po:Do)(n,e))},text:function(t){return arguments.length?this.each(null==t?zo:("function"==typeof t?Uo:Vo)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Ro:("function"==typeof t?Fo:Bo)(t)):this.node().innerHTML},raise:function(){return this.each(qo)},lower:function(){return this.each(Yo)},append:function(t){var e="function"==typeof t?t:Xo(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Xo(t),r=null==e?Go:"function"==typeof e?e:Gi(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Zo)},clone:function(t){return this.select(t?Ko:Jo)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=Qo(t+""),a=o.length;if(!(arguments.length<2)){for(u=e?ea:ta,r=0;r<a;++r)this.each(u(o[r],e,n));return this}var u=this.node().__on;if(u)for(var c,s=0,l=u.length;s<l;++s)for(r=0,c=u[s];r<a;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?ia:ra)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};var ca=ua,sa=function(t){return"string"==typeof t?new aa([[document.querySelector(t)]],[document.documentElement]):new aa([[t]],oa)},la=(Array.prototype.slice,function(t){return function(){return t}});function fa(t){this._context=t}fa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var ha=function(t){return new fa(t)};const da=Math.PI,pa=2*da,va=pa-1e-6;function ga(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class _a{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?ga:function(t){let e=Math.floor(t);if(!(e>=0))throw new Error("invalid digits: "+t);if(e>15)return ga;const n=10**e;return function(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,n,r){this._append`Q${+t},${+e},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(t,e,n,r,i,o){this._append`C${+t},${+e},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(t,e,n,r,i){if(t=+t,e=+e,n=+n,r=+r,(i=+i)<0)throw new Error("negative radius: "+i);let o=this._x1,a=this._y1,u=n-t,c=r-e,s=o-t,l=a-e,f=s*s+l*l;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(f>1e-6)if(Math.abs(l*u-c*s)>1e-6&&i){let h=n-o,d=r-a,p=u*u+c*c,v=h*h+d*d,g=Math.sqrt(p),_=Math.sqrt(f),m=i*Math.tan((da-Math.acos((p+f-v)/(2*g*_)))/2),y=m/_,b=m/g;Math.abs(y-1)>1e-6&&this._append`L${t+y*s},${e+y*l}`,this._append`A${i},${i},0,0,${+(l*h>s*d)},${this._x1=t+b*u},${this._y1=e+b*c}`}else this._append`L${this._x1=t},${this._y1=e}`;else;}arc(t,e,n,r,i,o){if(t=+t,e=+e,o=!!o,(n=+n)<0)throw new Error("negative radius: "+n);let a=n*Math.cos(r),u=n*Math.sin(r),c=t+a,s=e+u,l=1^o,f=o?r-i:i-r;null===this._x1?this._append`M${c},${s}`:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-s)>1e-6)&&this._append`L${c},${s}`,n&&(f<0&&(f=f%pa+pa),f>va?this._append`A${n},${n},0,1,${l},${t-a},${e-u}A${n},${n},0,1,${l},${this._x1=c},${this._y1=s}`:f>1e-6&&this._append`A${n},${n},0,${+(f>=da)},${l},${this._x1=t+n*Math.cos(i)},${this._y1=e+n*Math.sin(i)}`)}rect(t,e,n,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function ma(t){return t[0]}function ya(t){return t[1]}var ba=function(t,e){var n=la(!0),r=null,i=ha,o=null,a=function(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{const t=Math.floor(n);if(!(t>=0))throw new RangeError("invalid digits: "+n);e=t}return t},()=>new _a(e)}(u);function u(u){var c,s,l,f=(u=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(u)).length,h=!1;for(null==r&&(o=i(l=a())),c=0;c<=f;++c)!(c<f&&n(s=u[c],c,u))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(s,c,u),+e(s,c,u));if(l)return o=null,l+""||null}return t="function"==typeof t?t:void 0===t?ma:la(t),e="function"==typeof e?e:void 0===e?ya:la(e),u.x=function(e){return arguments.length?(t="function"==typeof e?e:la(+e),u):t},u.y=function(t){return arguments.length?(e="function"==typeof t?t:la(+t),u):e},u.defined=function(t){return arguments.length?(n="function"==typeof t?t:la(!!t),u):n},u.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),u):i},u.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),u):r},u},wa={value:()=>{}};function xa(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Ea(r)}function Ea(t){this._=t}function Ma(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function Aa(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function ka(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=wa,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}Ea.prototype=xa.prototype={constructor:Ea,on:function(t,e){var n,r=this._,i=Ma(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=ka(r[n],t.name,e);else if(null==e)for(n in r)r[n]=ka(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=Aa(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ea(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var Ca,Na,Sa=xa,ja=0,Ia=0,Oa=0,Ta=0,$a=0,Pa=0,Da="object"==typeof performance&&performance.now?performance:Date,La="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function za(){return $a||(La(Va),$a=Da.now()+Pa)}function Va(){$a=0}function Ua(){this._call=this._time=this._next=null}function Ra(t,e,n){var r=new Ua;return r.restart(t,e,n),r}function Ba(){$a=(Ta=Da.now())+Pa,ja=Ia=0;try{!function(){za(),++ja;for(var t,e=Ca;e;)(t=$a-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ja}()}finally{ja=0,function(){var t,e,n=Ca,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Ca=e);Na=t,qa(r)}(),$a=0}}function Fa(){var t=Da.now(),e=t-Ta;e>1e3&&(Pa-=e,Ta=t)}function qa(t){ja||(Ia&&(Ia=clearTimeout(Ia)),t-$a>24?(t<1/0&&(Ia=setTimeout(Ba,t-Da.now()-Pa)),Oa&&(Oa=clearInterval(Oa))):(Oa||(Ta=Da.now(),Oa=setInterval(Fa,1e3)),ja=1,La(Ba)))}Ua.prototype=Ra.prototype={constructor:Ua,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?za():+n)+(null==e?0:+e),this._next||Na===this||(Na?Na._next=this:Ca=this,Na=this),this._call=t,this._time=n,qa()},stop:function(){this._call&&(this._call=null,this._time=1/0,qa())}};var Ya=function(t,e,n){var r=new Ua;return e=null==e?0:+e,r.restart(n=>{r.stop(),t(n+e)},e,n),r},Wa=Sa("start","end","cancel","interrupt"),Ha=[],Xa=function(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(c){var s,l,f,h;if(1!==n.state)return u();for(s in i)if((h=i[s]).name===n.name){if(3===h.state)return Ya(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[s]):+s<e&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[s])}if(Ya((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(c))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(f=n.tween.length),s=0,l=-1;s<f;++s)(h=n.tween[s].value.call(t,t.__data__,n.index,n.group))&&(r[++l]=h);r.length=l+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(u),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Ra((function(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:Wa,tween:Ha,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function Ga(t,e){var n=Ja(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function Za(t,e){var n=Ja(t,e);if(n.state>3)throw new Error("too late; already running");return n}function Ja(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var Ka,Qa=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},tu=180/Math.PI,eu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},nu=function(t,e,n,r,i,o){var a,u,c;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,c/=u),t*r<e*n&&(t=-t,e=-e,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*tu,skewX:Math.atan(c)*tu,scaleX:a,scaleY:u}};function ru(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],c=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var c=a.push("translate(",null,e,null,n);u.push({i:c-4,x:Qa(t,i)},{i:c-2,x:Qa(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,u,c),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Qa(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,u,c),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Qa(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,u,c),function(t,e,n,r,o,a){if(t!==n||e!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:Qa(t,n)},{i:u-2,x:Qa(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,c),o=a=null,function(t){for(var e,n=-1,r=c.length;++n<r;)u[(e=c[n]).i]=e.x(t);return u.join("")}}}var iu=ru((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?eu:nu(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),ou=ru((function(t){return null==t?eu:(Ka||(Ka=document.createElementNS("http://www.w3.org/2000/svg","g")),Ka.setAttribute("transform",t),(t=Ka.transform.baseVal.consolidate())?(t=t.matrix,nu(t.a,t.b,t.c,t.d,t.e,t.f)):eu)}),", ",")",")");function au(t,e){var n,r;return function(){var i=Za(this,t),o=i.tween;if(o!==n)for(var a=0,u=(r=n=o).length;a<u;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function uu(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Za(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:e,value:n},c=0,s=i.length;c<s;++c)if(i[c].name===e){i[c]=u;break}c===s&&i.push(u)}o.tween=i}}function cu(t,e,n){var r=t._id;return t.each((function(){var t=Za(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Ja(t,r).value[e]}}var su=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function lu(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function fu(){}var hu="\\s*([+-]?\\d+)\\s*",du="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vu=/^#([0-9a-f]{3,8})$/,gu=new RegExp(`^rgb\\(${hu},${hu},${hu}\\)$`),_u=new RegExp(`^rgb\\(${pu},${pu},${pu}\\)$`),mu=new RegExp(`^rgba\\(${hu},${hu},${hu},${du}\\)$`),yu=new RegExp(`^rgba\\(${pu},${pu},${pu},${du}\\)$`),bu=new RegExp(`^hsl\\(${du},${pu},${pu}\\)$`),wu=new RegExp(`^hsla\\(${du},${pu},${pu},${du}\\)$`),xu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Eu(){return this.rgb().formatHex()}function Mu(){return this.rgb().formatRgb()}function Au(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=vu.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?ku(e):3===n?new ju(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Cu(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Cu(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=gu.exec(t))?new ju(e[1],e[2],e[3],1):(e=_u.exec(t))?new ju(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=mu.exec(t))?Cu(e[1],e[2],e[3],e[4]):(e=yu.exec(t))?Cu(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=bu.exec(t))?Du(e[1],e[2]/100,e[3]/100,1):(e=wu.exec(t))?Du(e[1],e[2]/100,e[3]/100,e[4]):xu.hasOwnProperty(t)?ku(xu[t]):"transparent"===t?new ju(NaN,NaN,NaN,0):null}function ku(t){return new ju(t>>16&255,t>>8&255,255&t,1)}function Cu(t,e,n,r){return r<=0&&(t=e=n=NaN),new ju(t,e,n,r)}function Nu(t){return t instanceof fu||(t=Au(t)),t?new ju((t=t.rgb()).r,t.g,t.b,t.opacity):new ju}function Su(t,e,n,r){return 1===arguments.length?Nu(t):new ju(t,e,n,null==r?1:r)}function ju(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Iu(){return`#${Pu(this.r)}${Pu(this.g)}${Pu(this.b)}`}function Ou(){const t=Tu(this.opacity);return`${1===t?"rgb(":"rgba("}${$u(this.r)}, ${$u(this.g)}, ${$u(this.b)}${1===t?")":`, ${t})`}`}function Tu(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function $u(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Pu(t){return((t=$u(t))<16?"0":"")+t.toString(16)}function Du(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new zu(t,e,n,r)}function Lu(t){if(t instanceof zu)return new zu(t.h,t.s,t.l,t.opacity);if(t instanceof fu||(t=Au(t)),!t)return new zu;if(t instanceof zu)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,c=(o+i)/2;return u?(a=e===o?(n-r)/u+6*(n<r):n===o?(r-e)/u+2:(e-n)/u+4,u/=c<.5?o+i:2-o-i,a*=60):u=c>0&&c<1?0:a,new zu(a,u,c,t.opacity)}function zu(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Vu(t){return(t=(t||0)%360)<0?t+360:t}function Uu(t){return Math.max(0,Math.min(1,t||0))}function Ru(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Bu(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}su(fu,Au,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Eu,formatHex:Eu,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Lu(this).formatHsl()},formatRgb:Mu,toString:Mu}),su(ju,Su,lu(fu,{brighter(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ju(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new ju(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ju($u(this.r),$u(this.g),$u(this.b),Tu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Iu,formatHex:Iu,formatHex8:function(){return`#${Pu(this.r)}${Pu(this.g)}${Pu(this.b)}${Pu(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ou,toString:Ou})),su(zu,(function(t,e,n,r){return 1===arguments.length?Lu(t):new zu(t,e,n,null==r?1:r)}),lu(fu,{brighter(t){return t=null==t?1/.7:Math.pow(1/.7,t),new zu(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new zu(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ju(Ru(t>=240?t-240:t+120,i,r),Ru(t,i,r),Ru(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new zu(Vu(this.h),Uu(this.s),Uu(this.l),Tu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Tu(this.opacity);return`${1===t?"hsl(":"hsla("}${Vu(this.h)}, ${100*Uu(this.s)}%, ${100*Uu(this.l)}%${1===t?")":`, ${t})`}`}}));var Fu=t=>()=>t;function qu(t,e){return function(n){return t+n*e}}function Yu(t){return 1==(t=+t)?Wu:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Fu(isNaN(e)?n:e)}}function Wu(t,e){var n=e-t;return n?qu(t,n):Fu(isNaN(t)?e:t)}var Hu=function t(e){var n=Yu(e);function r(t,e){var r=n((t=Su(t)).r,(e=Su(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Wu(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Xu(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),u=new Array(i);for(n=0;n<i;++n)r=Su(e[n]),o[n]=r.r||0,a[n]=r.g||0,u[n]=r.b||0;return o=t(o),a=t(a),u=t(u),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=u(t),r+""}}}Xu((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,u=r<e-1?t[r+2]:2*o-i;return Bu((n-r/e)*e,a,i,o,u)}})),Xu((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],u=t[(r+2)%e];return Bu((n-r/e)*e,i,o,a,u)}}));var Gu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zu=new RegExp(Gu.source,"g");var Ju=function(t,e){var n,r,i,o=Gu.lastIndex=Zu.lastIndex=0,a=-1,u=[],c=[];for(t+="",e+="";(n=Gu.exec(t))&&(r=Zu.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(n=n[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,c.push({i:a,x:Qa(n,r)})),o=Zu.lastIndex;return o<e.length&&(i=e.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?c[0]?function(t){return function(e){return t(e)+""}}(c[0].x):function(t){return function(){return t}}(e):(e=c.length,function(t){for(var n,r=0;r<e;++r)u[(n=c[r]).i]=n.x(t);return u.join("")})},Ku=function(t,e){var n;return("number"==typeof e?Qa:e instanceof Au?Hu:(n=Au(e))?(e=n,Hu):Ju)(t,e)};function Qu(t){return function(){this.removeAttribute(t)}}function tc(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ec(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function nc(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function rc(t,e,n){var r,i,o;return function(){var a,u,c=n(this);if(null!=c)return(a=this.getAttribute(t))===(u=c+"")?null:a===r&&u===i?o:(i=u,o=e(r=a,c));this.removeAttribute(t)}}function ic(t,e,n){var r,i,o;return function(){var a,u,c=n(this);if(null!=c)return(a=this.getAttributeNS(t.space,t.local))===(u=c+"")?null:a===r&&u===i?o:(i=u,o=e(r=a,c));this.removeAttributeNS(t.space,t.local)}}function oc(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function ac(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function uc(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&ac(t,i)),n}return i._value=e,i}function cc(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&oc(t,i)),n}return i._value=e,i}function sc(t,e){return function(){Ga(this,t).delay=+e.apply(this,arguments)}}function lc(t,e){return e=+e,function(){Ga(this,t).delay=e}}function fc(t,e){return function(){Za(this,t).duration=+e.apply(this,arguments)}}function hc(t,e){return e=+e,function(){Za(this,t).duration=e}}function dc(t,e){if("function"!=typeof e)throw new Error;return function(){Za(this,t).ease=e}}function pc(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Ga:Za;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(e,n),a.on=i}}var vc=ca.prototype.constructor;function gc(t){return function(){this.style.removeProperty(t)}}function _c(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function mc(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&_c(t,o,n)),r}return o._value=e,o}function yc(t){return function(e){this.textContent=t.call(this,e)}}function bc(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&yc(r)),e}return r._value=t,r}var wc=0;function xc(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Ec(){return++wc}var Mc=ca.prototype;xc.prototype=function(t){return ca().transition(t)}.prototype={constructor:xc,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Gi(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,c,s=r[a],l=s.length,f=o[a]=new Array(l),h=0;h<l;++h)(u=s[h])&&(c=t.call(u,u.__data__,h,s))&&("__data__"in u&&(c.__data__=u.__data__),f[h]=c,Xa(f[h],e,n,h,f,Ja(u,n)));return new xc(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Ki(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var c,s=r[u],l=s.length,f=0;f<l;++f)if(c=s[f]){for(var h,d=t.call(c,c.__data__,f,s),p=Ja(c,n),v=0,g=d.length;v<g;++v)(h=d[v])&&Xa(h,e,n,v,d,p);o.push(d),a.push(c)}return new xc(o,a,e,n)},selectChild:Mc.selectChild,selectChildren:Mc.selectChildren,filter:function(t){"function"!=typeof t&&(t=Qi(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,c=r[i]=[],s=0;s<u;++s)(o=a[s])&&t.call(o,o.__data__,s,a)&&c.push(o);return new xc(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var c,s=e[u],l=n[u],f=s.length,h=a[u]=new Array(f),d=0;d<f;++d)(c=s[d]||l[d])&&(h[d]=c);for(;u<r;++u)a[u]=e[u];return new xc(a,this._parents,this._name,this._id)},selection:function(){return new vc(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Ec(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],c=u.length,s=0;s<c;++s)if(a=u[s]){var l=Ja(a,e);Xa(a,t,n,s,u,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new xc(r,this._parents,t,n)},call:Mc.call,nodes:Mc.nodes,node:Mc.node,size:Mc.size,empty:Mc.empty,each:Mc.each,on:function(t,e){var n=this._id;return arguments.length<2?Ja(this.node(),n).on.on(t):this.each(pc(n,t,e))},attr:function(t,e){var n=vo(t),r="transform"===n?ou:Ku;return this.attrTween(t,"function"==typeof e?(n.local?ic:rc)(n,r,cu(this,"attr."+t,e)):null==e?(n.local?tc:Qu)(n):(n.local?nc:ec)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=vo(t);return this.tween(n,(r.local?uc:cc)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?iu:Ku;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=ko(this,t),a=(this.style.removeProperty(t),ko(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,gc(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=ko(this,t),u=n(this),c=u+"";return null==u&&(this.style.removeProperty(t),c=u=ko(this,t)),a===c?null:a===r&&c===i?o:(i=c,o=e(r=a,u))}}(t,r,cu(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,u="end."+a;return function(){var c=Za(this,t),s=c.on,l=null==c.value[a]?o||(o=gc(e)):void 0;s===n&&i===l||(r=(n=s).copy()).on(u,i=l),c.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=ko(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,mc(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(cu(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,bc(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Ja(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?au:uu)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?sc:lc)(e,t)):Ja(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?fc:hc)(e,t)):Ja(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(dc(e,t)):Ja(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;Za(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var u={value:a},c={value:function(){0==--i&&o()}};n.each((function(){var n=Za(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(u),e._.interrupt.push(u),e._.end.push(c)),n.on=e})),0===i&&o()}))},[Symbol.iterator]:Mc[Symbol.iterator]};var Ac={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function kc(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}ca.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)}))},ca.prototype.transition=function(t){var e,n;t instanceof xc?(e=t._id,t=t._name):(e=Ec(),(n=Ac).time=za(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],c=u.length,s=0;s<c;++s)(a=u[s])&&Xa(a,t,e,s,u,n||kc(a,e));return new xc(r,this._parents,t,e)};var Cc=Math.SQRT2;function Nc(t){return((t=Math.exp(t))+1/t)/2}var Sc=function(t,e){var n,r,i=t[0],o=t[1],a=t[2],u=e[0],c=e[1],s=e[2],l=u-i,f=c-o,h=l*l+f*f;if(h<1e-12)r=Math.log(s/a)/Cc,n=function(t){return[i+t*l,o+t*f,a*Math.exp(Cc*t*r)]};else{var d=Math.sqrt(h),p=(s*s-a*a+4*h)/(2*a*2*d),v=(s*s-a*a-4*h)/(2*s*2*d),g=Math.log(Math.sqrt(p*p+1)-p),_=Math.log(Math.sqrt(v*v+1)-v);r=(_-g)/Cc,n=function(t){var e,n=t*r,u=Nc(g),c=a/(2*d)*(u*(e=Cc*n+g,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(g));return[i+c*l,o+c*f,a*u/Nc(Cc*n+g)]}}return n.duration=1e3*r,n};function jc(){}var Ic=function(t){return null==t?jc:function(){return this.querySelector(t)}};function Oc(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function Tc(){return[]}var $c=function(t){return null==t?Tc:function(){return this.querySelectorAll(t)}};var Pc=function(t){return function(){return this.matches(t)}};function Dc(t){return function(e){return e.matches(t)}}var Lc=Array.prototype.find;function zc(){return this.firstElementChild}var Vc=Array.prototype.filter;function Uc(){return Array.from(this.children)}var Rc=function(t){return new Array(t.length)};function Bc(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Bc.prototype={constructor:Bc,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Fc=function(t){return function(){return t}};function qc(t,e,n,r,i,o){for(var a,u=0,c=e.length,s=o.length;u<s;++u)(a=e[u])?(a.__data__=o[u],r[u]=a):n[u]=new Bc(t,o[u]);for(;u<c;++u)(a=e[u])&&(i[u]=a)}function Yc(t,e,n,r,i,o,a){var u,c,s,l=new Map,f=e.length,h=o.length,d=new Array(f);for(u=0;u<f;++u)(c=e[u])&&(d[u]=s=a.call(c,c.__data__,u,e)+"",l.has(s)?i[u]=c:l.set(s,c));for(u=0;u<h;++u)s=a.call(t,o[u],u,o)+"",(c=l.get(s))?(r[u]=c,c.__data__=o[u],l.delete(s)):n[u]=new Bc(t,o[u]);for(u=0;u<f;++u)(c=e[u])&&l.get(d[u])===c&&(i[u]=c)}function Wc(t){return t.__data__}function Hc(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Xc(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var Gc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Zc=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Gc.hasOwnProperty(e)?{space:Gc[e],local:t}:t};function Jc(t){return function(){this.removeAttribute(t)}}function Kc(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Qc(t,e){return function(){this.setAttribute(t,e)}}function ts(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function es(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function ns(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var rs=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function is(t){return function(){this.style.removeProperty(t)}}function os(t,e,n){return function(){this.style.setProperty(t,e,n)}}function as(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function us(t,e){return t.style.getPropertyValue(e)||rs(t).getComputedStyle(t,null).getPropertyValue(e)}function cs(t){return function(){delete this[t]}}function ss(t,e){return function(){this[t]=e}}function ls(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function fs(t){return t.trim().split(/^|\s+/)}function hs(t){return t.classList||new ds(t)}function ds(t){this._node=t,this._names=fs(t.getAttribute("class")||"")}function ps(t,e){for(var n=hs(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function vs(t,e){for(var n=hs(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function gs(t){return function(){ps(this,t)}}function _s(t){return function(){vs(this,t)}}function ms(t,e){return function(){(e.apply(this,arguments)?ps:vs)(this,t)}}ds.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function ys(){this.textContent=""}function bs(t){return function(){this.textContent=t}}function ws(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function xs(){this.innerHTML=""}function Es(t){return function(){this.innerHTML=t}}function Ms(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function As(){this.nextSibling&&this.parentNode.appendChild(this)}function ks(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Cs(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return"http://www.w3.org/1999/xhtml"===n&&"http://www.w3.org/1999/xhtml"===e.documentElement.namespaceURI?e.createElement(t):e.createElementNS(n,t)}}function Ns(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var Ss=function(t){var e=Zc(t);return(e.local?Ns:Cs)(e)};function js(){return null}function Is(){var t=this.parentNode;t&&t.removeChild(this)}function Os(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ts(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function $s(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Ps(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function Ds(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var a=0,u=i.length;a<u;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function Ls(t,e,n){var r=rs(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function zs(t,e){return function(){return Ls(this,t,e)}}function Vs(t,e){return function(){return Ls(this,t,e.apply(this,arguments))}}var Us=[null];function Rs(t,e){this._groups=t,this._parents=e}function Bs(){return new Rs([[document.documentElement]],Us)}Rs.prototype=Bs.prototype={constructor:Rs,select:function(t){"function"!=typeof t&&(t=Ic(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,u=e[i],c=u.length,s=r[i]=new Array(c),l=0;l<c;++l)(o=u[l])&&(a=t.call(o,o.__data__,l,u))&&("__data__"in o&&(a.__data__=o.__data__),s[l]=a);return new Rs(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return Oc(t.apply(this,arguments))}}(t):$c(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,u=e[o],c=u.length,s=0;s<c;++s)(a=u[s])&&(r.push(t.call(a,a.__data__,s,u)),i.push(a));return new Rs(r,i)},selectChild:function(t){return this.select(null==t?zc:function(t){return function(){return Lc.call(this.children,t)}}("function"==typeof t?t:Dc(t)))},selectChildren:function(t){return this.selectAll(null==t?Uc:function(t){return function(){return Vc.call(this.children,t)}}("function"==typeof t?t:Dc(t)))},filter:function(t){"function"!=typeof t&&(t=Pc(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,c=r[i]=[],s=0;s<u;++s)(o=a[s])&&t.call(o,o.__data__,s,a)&&c.push(o);return new Rs(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,Wc);var n=e?Yc:qc,r=this._parents,i=this._groups;"function"!=typeof t&&(t=Fc(t));for(var o=i.length,a=new Array(o),u=new Array(o),c=new Array(o),s=0;s<o;++s){var l=r[s],f=i[s],h=f.length,d=Hc(t.call(l,l&&l.__data__,s,r)),p=d.length,v=u[s]=new Array(p),g=a[s]=new Array(p),_=c[s]=new Array(h);n(l,f,v,g,_,d,e);for(var m,y,b=0,w=0;b<p;++b)if(m=v[b]){for(b>=w&&(w=b+1);!(y=g[w])&&++w<p;);m._next=y||null}}return(a=new Rs(a,r))._enter=u,a._exit=c,a},enter:function(){return new Rs(this._enter||this._groups.map(Rc),this._parents)},exit:function(){return new Rs(this._exit||this._groups.map(Rc),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),u=new Array(i),c=0;c<a;++c)for(var s,l=n[c],f=r[c],h=l.length,d=u[c]=new Array(h),p=0;p<h;++p)(s=l[p]||f[p])&&(d[p]=s);for(;c<i;++c)u[c]=n[c];return new Rs(u,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Xc);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,u=n[o],c=u.length,s=i[o]=new Array(c),l=0;l<c;++l)(a=u[l])&&(s[l]=a);s.sort(e)}return new Rs(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=Zc(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Kc:Jc:"function"==typeof e?n.local?ns:es:n.local?ts:Qc)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?is:"function"==typeof e?as:os)(t,e,null==n?"":n)):us(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?cs:"function"==typeof e?ls:ss)(t,e)):this.node()[t]},classed:function(t,e){var n=fs(t+"");if(arguments.length<2){for(var r=hs(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?ms:e?gs:_s)(n,e))},text:function(t){return arguments.length?this.each(null==t?ys:("function"==typeof t?ws:bs)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?xs:("function"==typeof t?Ms:Es)(t)):this.node().innerHTML},raise:function(){return this.each(As)},lower:function(){return this.each(ks)},append:function(t){var e="function"==typeof t?t:Ss(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Ss(t),r=null==e?js:"function"==typeof e?e:Ic(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Is)},clone:function(t){return this.select(t?Ts:Os)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=$s(t+""),a=o.length;if(!(arguments.length<2)){for(u=e?Ds:Ps,r=0;r<a;++r)this.each(u(o[r],e,n));return this}var u=this.node().__on;if(u)for(var c,s=0,l=u.length;s<l;++s)for(r=0,c=u[s];r<a;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?Vs:zs)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};var Fs=Bs,qs=function(t){return"string"==typeof t?new Rs([[document.querySelector(t)]],[document.documentElement]):new Rs([[t]],Us)},Ys=function(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]},Ws=B("start","end","cancel","interrupt"),Hs=[],Xs=function(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(c){var s,l,f,h;if(1!==n.state)return u();for(s in i)if((h=i[s]).name===n.name){if(3===h.state)return Ir(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[s]):+s<e&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[s])}if(Ir((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(c))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(f=n.tween.length),s=0,l=-1;s<f;++s)(h=n.tween[s].value.call(t,t.__data__,n.index,n.group))&&(r[++l]=h);r.length=l+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(u),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Cr((function(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:Ws,tween:Hs,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function Gs(t,e){var n=Js(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function Zs(t,e){var n=Js(t,e);if(n.state>3)throw new Error("too late; already running");return n}function Js(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var Ks=function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}};function Qs(t,e){var n,r;return function(){var i=Zs(this,t),o=i.tween;if(o!==n)for(var a=0,u=(r=n=o).length;a<u;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function tl(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Zs(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:e,value:n},c=0,s=i.length;c<s;++c)if(i[c].name===e){i[c]=u;break}c===s&&i.push(u)}o.tween=i}}function el(t,e,n){var r=t._id;return t.each((function(){var t=Zs(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Js(t,r).value[e]}}var nl=function(t,e){var n;return("number"==typeof e?He:e instanceof xe?Ue:(n=xe(e))?(e=n,Ue):Je)(t,e)};function rl(t){return function(){this.removeAttribute(t)}}function il(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ol(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function al(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function ul(t,e,n){var r,i,o;return function(){var a,u,c=n(this);if(null!=c)return(a=this.getAttribute(t))===(u=c+"")?null:a===r&&u===i?o:(i=u,o=e(r=a,c));this.removeAttribute(t)}}function cl(t,e,n){var r,i,o;return function(){var a,u,c=n(this);if(null!=c)return(a=this.getAttributeNS(t.space,t.local))===(u=c+"")?null:a===r&&u===i?o:(i=u,o=e(r=a,c));this.removeAttributeNS(t.space,t.local)}}function sl(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function ll(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function fl(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&ll(t,i)),n}return i._value=e,i}function hl(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&sl(t,i)),n}return i._value=e,i}function dl(t,e){return function(){Gs(this,t).delay=+e.apply(this,arguments)}}function pl(t,e){return e=+e,function(){Gs(this,t).delay=e}}function vl(t,e){return function(){Zs(this,t).duration=+e.apply(this,arguments)}}function gl(t,e){return e=+e,function(){Zs(this,t).duration=e}}function _l(t,e){if("function"!=typeof e)throw new Error;return function(){Zs(this,t).ease=e}}function ml(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Gs:Zs;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(e,n),a.on=i}}var yl=Fs.prototype.constructor;function bl(t){return function(){this.style.removeProperty(t)}}function wl(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function xl(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&wl(t,o,n)),r}return o._value=e,o}function El(t){return function(e){this.textContent=t.call(this,e)}}function Ml(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&El(r)),e}return r._value=t,r}var Al=0;function kl(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Cl(){return++Al}var Nl=Fs.prototype;kl.prototype=function(t){return Fs().transition(t)}.prototype={constructor:kl,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Ic(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,c,s=r[a],l=s.length,f=o[a]=new Array(l),h=0;h<l;++h)(u=s[h])&&(c=t.call(u,u.__data__,h,s))&&("__data__"in u&&(c.__data__=u.__data__),f[h]=c,Xs(f[h],e,n,h,f,Js(u,n)));return new kl(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=$c(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var c,s=r[u],l=s.length,f=0;f<l;++f)if(c=s[f]){for(var h,d=t.call(c,c.__data__,f,s),p=Js(c,n),v=0,g=d.length;v<g;++v)(h=d[v])&&Xs(h,e,n,v,d,p);o.push(d),a.push(c)}return new kl(o,a,e,n)},selectChild:Nl.selectChild,selectChildren:Nl.selectChildren,filter:function(t){"function"!=typeof t&&(t=Pc(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,c=r[i]=[],s=0;s<u;++s)(o=a[s])&&t.call(o,o.__data__,s,a)&&c.push(o);return new kl(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var c,s=e[u],l=n[u],f=s.length,h=a[u]=new Array(f),d=0;d<f;++d)(c=s[d]||l[d])&&(h[d]=c);for(;u<r;++u)a[u]=e[u];return new kl(a,this._parents,this._name,this._id)},selection:function(){return new yl(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Cl(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],c=u.length,s=0;s<c;++s)if(a=u[s]){var l=Js(a,e);Xs(a,t,n,s,u,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new kl(r,this._parents,t,n)},call:Nl.call,nodes:Nl.nodes,node:Nl.node,size:Nl.size,empty:Nl.empty,each:Nl.each,on:function(t,e){var n=this._id;return arguments.length<2?Js(this.node(),n).on.on(t):this.each(ml(n,t,e))},attr:function(t,e){var n=Zc(t),r="transform"===n?Xr:nl;return this.attrTween(t,"function"==typeof e?(n.local?cl:ul)(n,r,el(this,"attr."+t,e)):null==e?(n.local?il:rl)(n):(n.local?al:ol)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Zc(t);return this.tween(n,(r.local?fl:hl)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Hr:nl;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=us(this,t),a=(this.style.removeProperty(t),us(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,bl(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=us(this,t),u=n(this),c=u+"";return null==u&&(this.style.removeProperty(t),c=u=us(this,t)),a===c?null:a===r&&c===i?o:(i=c,o=e(r=a,u))}}(t,r,el(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,u="end."+a;return function(){var c=Zs(this,t),s=c.on,l=null==c.value[a]?o||(o=bl(e)):void 0;s===n&&i===l||(r=(n=s).copy()).on(u,i=l),c.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=us(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,xl(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(el(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Ml(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Js(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?Qs:tl)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?dl:pl)(e,t)):Js(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?vl:gl)(e,t)):Js(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(_l(e,t)):Js(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;Zs(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var u={value:a},c={value:function(){0==--i&&o()}};n.each((function(){var n=Zs(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(u),e._.interrupt.push(u),e._.end.push(c)),n.on=e})),0===i&&o()}))},[Symbol.iterator]:Nl[Symbol.iterator]};var Sl={time:null,delay:0,duration:250,ease:Ai};function jl(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}Fs.prototype.interrupt=function(t){return this.each((function(){Ks(this,t)}))},Fs.prototype.transition=function(t){var e,n;t instanceof kl?(e=t._id,t=t._name):(e=Cl(),(n=Sl).time=Mr(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],c=u.length,s=0;s<c;++s)(a=u[s])&&Xs(a,t,e,s,u,n||jl(a,e));return new kl(r,this._parents,t,e)};var Il=t=>()=>t;function Ol(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Tl(t,e,n){this.k=t,this.x=e,this.y=n}Tl.prototype={constructor:Tl,scale:function(t){return 1===t?this:new Tl(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Tl(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var $l=new Tl(1,0,0);function Pl(t){t.stopImmediatePropagation()}Tl.prototype;var Dl=function(t){t.preventDefault(),t.stopImmediatePropagation()};function Ll(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function zl(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function Vl(){return this.__zoom||$l}function Ul(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Rl(){return navigator.maxTouchPoints||"ontouchstart"in this}function Bl(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}var Fl=Object.prototype.hasOwnProperty;var ql=function(t,e){return null!=t&&Fl.call(t,e)},Yl=Array.isArray,Wl=n(2),Hl=Wl.a.Symbol,Xl=Object.prototype,Gl=Xl.hasOwnProperty,Zl=Xl.toString,Jl=Hl?Hl.toStringTag:void 0;var Kl=function(t){var e=Gl.call(t,Jl),n=t[Jl];try{t[Jl]=void 0;var r=!0}catch(t){}var i=Zl.call(t);return r&&(e?t[Jl]=n:delete t[Jl]),i},Ql=Object.prototype.toString;var tf=function(t){return Ql.call(t)},ef=Hl?Hl.toStringTag:void 0;var nf=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":ef&&ef in Object(t)?Kl(t):tf(t)};var rf=function(t){return null!=t&&"object"==typeof t};var of=function(t){return"symbol"==typeof t||rf(t)&&"[object Symbol]"==nf(t)},af=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,uf=/^\w*$/;var cf=function(t,e){if(Yl(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!of(t))||(uf.test(t)||!af.test(t)||null!=e&&t in Object(e))};var sf=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};var lf,ff=function(t){if(!sf(t))return!1;var e=nf(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},hf=Wl.a["__core-js_shared__"],df=(lf=/[^.]+$/.exec(hf&&hf.keys&&hf.keys.IE_PROTO||""))?"Symbol(src)_1."+lf:"";var pf=function(t){return!!df&&df in t},vf=Function.prototype.toString;var gf=function(t){if(null!=t){try{return vf.call(t)}catch(t){}try{return t+""}catch(t){}}return""},_f=/^\[object .+?Constructor\]$/,mf=Function.prototype,yf=Object.prototype,bf=mf.toString,wf=yf.hasOwnProperty,xf=RegExp("^"+bf.call(wf).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Ef=function(t){return!(!sf(t)||pf(t))&&(ff(t)?xf:_f).test(gf(t))};var Mf=function(t,e){return null==t?void 0:t[e]};var Af=function(t,e){var n=Mf(t,e);return Ef(n)?n:void 0},kf=Af(Object,"create");var Cf=function(){this.__data__=kf?kf(null):{},this.size=0};var Nf=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Sf=Object.prototype.hasOwnProperty;var jf=function(t){var e=this.__data__;if(kf){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Sf.call(e,t)?e[t]:void 0},If=Object.prototype.hasOwnProperty;var Of=function(t){var e=this.__data__;return kf?void 0!==e[t]:If.call(e,t)};var Tf=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=kf&&void 0===e?"__lodash_hash_undefined__":e,this};function $f(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}$f.prototype.clear=Cf,$f.prototype.delete=Nf,$f.prototype.get=jf,$f.prototype.has=Of,$f.prototype.set=Tf;var Pf=$f;var Df=function(){this.__data__=[],this.size=0};var Lf=function(t,e){return t===e||t!=t&&e!=e};var zf=function(t,e){for(var n=t.length;n--;)if(Lf(t[n][0],e))return n;return-1},Vf=Array.prototype.splice;var Uf=function(t){var e=this.__data__,n=zf(e,t);return!(n<0)&&(n==e.length-1?e.pop():Vf.call(e,n,1),--this.size,!0)};var Rf=function(t){var e=this.__data__,n=zf(e,t);return n<0?void 0:e[n][1]};var Bf=function(t){return zf(this.__data__,t)>-1};var Ff=function(t,e){var n=this.__data__,r=zf(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function qf(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}qf.prototype.clear=Df,qf.prototype.delete=Uf,qf.prototype.get=Rf,qf.prototype.has=Bf,qf.prototype.set=Ff;var Yf=qf,Wf=Af(Wl.a,"Map");var Hf=function(){this.size=0,this.__data__={hash:new Pf,map:new(Wf||Yf),string:new Pf}};var Xf=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var Gf=function(t,e){var n=t.__data__;return Xf(e)?n["string"==typeof e?"string":"hash"]:n.map};var Zf=function(t){var e=Gf(this,t).delete(t);return this.size-=e?1:0,e};var Jf=function(t){return Gf(this,t).get(t)};var Kf=function(t){return Gf(this,t).has(t)};var Qf=function(t,e){var n=Gf(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function th(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}th.prototype.clear=Hf,th.prototype.delete=Zf,th.prototype.get=Jf,th.prototype.has=Kf,th.prototype.set=Qf;var eh=th;function nh(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(nh.Cache||eh),n}nh.Cache=eh;var rh=nh;var ih=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oh=/\\(\\)?/g,ah=function(t){var e=rh(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(ih,(function(t,n,r,i){e.push(r?i.replace(oh,"$1"):n||t)})),e}));var uh=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i},ch=Hl?Hl.prototype:void 0,sh=ch?ch.toString:void 0;var lh=function t(e){if("string"==typeof e)return e;if(Yl(e))return uh(e,t)+"";if(of(e))return sh?sh.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n};var fh=function(t){return null==t?"":lh(t)};var hh=function(t,e){return Yl(t)?t:cf(t,e)?[t]:ah(fh(t))};var dh=function(t){return rf(t)&&"[object Arguments]"==nf(t)},ph=Object.prototype,vh=ph.hasOwnProperty,gh=ph.propertyIsEnumerable,_h=dh(function(){return arguments}())?dh:function(t){return rf(t)&&vh.call(t,"callee")&&!gh.call(t,"callee")},mh=/^(?:0|[1-9]\d*)$/;var yh=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&mh.test(t))&&t>-1&&t%1==0&&t<e};var bh=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var wh=function(t){if("string"==typeof t||of(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e};var xh=function(t,e,n){for(var r=-1,i=(e=hh(e,t)).length,o=!1;++r<i;){var a=wh(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&bh(i)&&yh(a,i)&&(Yl(t)||_h(t))};var Eh=function(t,e){return null!=t&&xh(t,e,ql)};var Mh=function(t){return t};var Ah=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},kh=Math.max;var Ch=function(t,e,n){return e=kh(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=kh(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var u=Array(e+1);++i<e;)u[i]=r[i];return u[e]=n(a),Ah(t,this,u)}};var Nh=function(t){return function(){return t}},Sh=function(){try{var t=Af(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),jh=Sh?function(t,e){return Sh(t,"toString",{configurable:!0,enumerable:!1,value:Nh(e),writable:!0})}:Mh,Ih=Date.now;var Oh=function(t){var e=0,n=0;return function(){var r=Ih(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(jh);var Th=function(t,e){return Oh(Ch(t,e,Mh),t+"")};var $h=function(t){return null!=t&&bh(t.length)&&!ff(t)};var Ph=function(t,e,n){if(!sf(n))return!1;var r=typeof e;return!!("number"==r?$h(n)&&yh(e,n.length):"string"==r&&e in n)&&Lf(n[e],t)};var Dh=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},Lh=n(4),zh={};zh["[object Float32Array]"]=zh["[object Float64Array]"]=zh["[object Int8Array]"]=zh["[object Int16Array]"]=zh["[object Int32Array]"]=zh["[object Uint8Array]"]=zh["[object Uint8ClampedArray]"]=zh["[object Uint16Array]"]=zh["[object Uint32Array]"]=!0,zh["[object Arguments]"]=zh["[object Array]"]=zh["[object ArrayBuffer]"]=zh["[object Boolean]"]=zh["[object DataView]"]=zh["[object Date]"]=zh["[object Error]"]=zh["[object Function]"]=zh["[object Map]"]=zh["[object Number]"]=zh["[object Object]"]=zh["[object RegExp]"]=zh["[object Set]"]=zh["[object String]"]=zh["[object WeakMap]"]=!1;var Vh=function(t){return rf(t)&&bh(t.length)&&!!zh[nf(t)]};var Uh=function(t){return function(e){return t(e)}},Rh=n(7),Bh=Rh.a&&Rh.a.isTypedArray,Fh=Bh?Uh(Bh):Vh,qh=Object.prototype.hasOwnProperty;var Yh=function(t,e){var n=Yl(t),r=!n&&_h(t),i=!n&&!r&&Object(Lh.a)(t),o=!n&&!r&&!i&&Fh(t),a=n||r||i||o,u=a?Dh(t.length,String):[],c=u.length;for(var s in t)!e&&!qh.call(t,s)||a&&("length"==s||i&&("offset"==s||"parent"==s)||o&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||yh(s,c))||u.push(s);return u},Wh=Object.prototype;var Hh=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Wh)};var Xh=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e},Gh=Object.prototype.hasOwnProperty;var Zh=function(t){if(!sf(t))return Xh(t);var e=Hh(t),n=[];for(var r in t)("constructor"!=r||!e&&Gh.call(t,r))&&n.push(r);return n};var Jh=function(t){return $h(t)?Yh(t,!0):Zh(t)},Kh=Object.prototype,Qh=Kh.hasOwnProperty,td=Th((function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&Ph(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=Jh(o),u=-1,c=a.length;++u<c;){var s=a[u],l=t[s];(void 0===l||Lf(l,Kh[s])&&!Qh.call(t,s))&&(t[s]=o[s])}return t}));var ed=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t};var nd=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),u=a.length;u--;){var c=a[t?u:++i];if(!1===n(o[c],c,o))break}return e}}();var rd=function(t,e){return function(n){return t(e(n))}},id=rd(Object.keys,Object),od=Object.prototype.hasOwnProperty;var ad=function(t){if(!Hh(t))return id(t);var e=[];for(var n in Object(t))od.call(t,n)&&"constructor"!=n&&e.push(n);return e};var ud=function(t){return $h(t)?Yh(t):ad(t)};var cd=function(t,e){return t&&nd(t,e,ud)};var sd=function(t,e){return function(n,r){if(null==n)return n;if(!$h(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}(cd);var ld=function(t){return"function"==typeof t?t:Mh};var fd=function(t,e){return(Yl(t)?ed:sd)(t,ld(e))},hd=0;var dd=function(t){var e=++hd;return fh(t)+e};var pd=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t},vd=Hl?Hl.isConcatSpreadable:void 0;var gd=function(t){return Yl(t)||_h(t)||!!(vd&&t&&t[vd])};var _d=function t(e,n,r,i,o){var a=-1,u=e.length;for(r||(r=gd),o||(o=[]);++a<u;){var c=e[a];n>0&&r(c)?n>1?t(c,n-1,r,i,o):pd(o,c):i||(o[o.length]=c)}return o};var md=function(t){return(null==t?0:t.length)?_d(t,1):[]};var yd=function(){this.__data__=new Yf,this.size=0};var bd=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};var wd=function(t){return this.__data__.get(t)};var xd=function(t){return this.__data__.has(t)};var Ed=function(t,e){var n=this.__data__;if(n instanceof Yf){var r=n.__data__;if(!Wf||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new eh(r)}return n.set(t,e),this.size=n.size,this};function Md(t){var e=this.__data__=new Yf(t);this.size=e.size}Md.prototype.clear=yd,Md.prototype.delete=bd,Md.prototype.get=wd,Md.prototype.has=xd,Md.prototype.set=Ed;var Ad=Md;var kd=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};var Cd=function(t){return this.__data__.has(t)};function Nd(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new eh;++e<n;)this.add(t[e])}Nd.prototype.add=Nd.prototype.push=kd,Nd.prototype.has=Cd;var Sd=Nd;var jd=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1};var Id=function(t,e){return t.has(e)};var Od=function(t,e,n,r,i,o){var a=1&n,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var s=o.get(t),l=o.get(e);if(s&&l)return s==e&&l==t;var f=-1,h=!0,d=2&n?new Sd:void 0;for(o.set(t,e),o.set(e,t);++f<u;){var p=t[f],v=e[f];if(r)var g=a?r(v,p,f,e,t,o):r(p,v,f,t,e,o);if(void 0!==g){if(g)continue;h=!1;break}if(d){if(!jd(e,(function(t,e){if(!Id(d,e)&&(p===t||i(p,t,n,r,o)))return d.push(e)}))){h=!1;break}}else if(p!==v&&!i(p,v,n,r,o)){h=!1;break}}return o.delete(t),o.delete(e),h},Td=Wl.a.Uint8Array;var $d=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n};var Pd=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n},Dd=Hl?Hl.prototype:void 0,Ld=Dd?Dd.valueOf:void 0;var zd=function(t,e,n,r,i,o,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new Td(t),new Td(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Lf(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=$d;case"[object Set]":var c=1&r;if(u||(u=Pd),t.size!=e.size&&!c)return!1;var s=a.get(t);if(s)return s==e;r|=2,a.set(t,e);var l=Od(u(t),u(e),r,i,o,a);return a.delete(t),l;case"[object Symbol]":if(Ld)return Ld.call(t)==Ld.call(e)}return!1};var Vd=function(t,e,n){var r=e(t);return Yl(t)?r:pd(r,n(t))};var Ud=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o};var Rd=function(){return[]},Bd=Object.prototype.propertyIsEnumerable,Fd=Object.getOwnPropertySymbols,qd=Fd?function(t){return null==t?[]:(t=Object(t),Ud(Fd(t),(function(e){return Bd.call(t,e)})))}:Rd;var Yd=function(t){return Vd(t,ud,qd)},Wd=Object.prototype.hasOwnProperty;var Hd=function(t,e,n,r,i,o){var a=1&n,u=Yd(t),c=u.length;if(c!=Yd(e).length&&!a)return!1;for(var s=c;s--;){var l=u[s];if(!(a?l in e:Wd.call(e,l)))return!1}var f=o.get(t),h=o.get(e);if(f&&h)return f==e&&h==t;var d=!0;o.set(t,e),o.set(e,t);for(var p=a;++s<c;){var v=t[l=u[s]],g=e[l];if(r)var _=a?r(g,v,l,e,t,o):r(v,g,l,t,e,o);if(!(void 0===_?v===g||i(v,g,n,r,o):_)){d=!1;break}p||(p="constructor"==l)}if(d&&!p){var m=t.constructor,y=e.constructor;m==y||!("constructor"in t)||!("constructor"in e)||"function"==typeof m&&m instanceof m&&"function"==typeof y&&y instanceof y||(d=!1)}return o.delete(t),o.delete(e),d},Xd=Af(Wl.a,"DataView"),Gd=Af(Wl.a,"Promise"),Zd=Af(Wl.a,"Set"),Jd=Af(Wl.a,"WeakMap"),Kd=gf(Xd),Qd=gf(Wf),tp=gf(Gd),ep=gf(Zd),np=gf(Jd),rp=nf;(Xd&&"[object DataView]"!=rp(new Xd(new ArrayBuffer(1)))||Wf&&"[object Map]"!=rp(new Wf)||Gd&&"[object Promise]"!=rp(Gd.resolve())||Zd&&"[object Set]"!=rp(new Zd)||Jd&&"[object WeakMap]"!=rp(new Jd))&&(rp=function(t){var e=nf(t),n="[object Object]"==e?t.constructor:void 0,r=n?gf(n):"";if(r)switch(r){case Kd:return"[object DataView]";case Qd:return"[object Map]";case tp:return"[object Promise]";case ep:return"[object Set]";case np:return"[object WeakMap]"}return e});var ip=rp,op=Object.prototype.hasOwnProperty;var ap=function(t,e,n,r,i,o){var a=Yl(t),u=Yl(e),c=a?"[object Array]":ip(t),s=u?"[object Array]":ip(e),l="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),f="[object Object]"==(s="[object Arguments]"==s?"[object Object]":s),h=c==s;if(h&&Object(Lh.a)(t)){if(!Object(Lh.a)(e))return!1;a=!0,l=!1}if(h&&!l)return o||(o=new Ad),a||Fh(t)?Od(t,e,n,r,i,o):zd(t,e,c,n,r,i,o);if(!(1&n)){var d=l&&op.call(t,"__wrapped__"),p=f&&op.call(e,"__wrapped__");if(d||p){var v=d?t.value():t,g=p?e.value():e;return o||(o=new Ad),i(v,g,n,r,o)}}return!!h&&(o||(o=new Ad),Hd(t,e,n,r,i,o))};var up=function t(e,n,r,i,o){return e===n||(null==e||null==n||!rf(e)&&!rf(n)?e!=e&&n!=n:ap(e,n,r,i,t,o))};var cp=function(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=Object(t);i--;){var u=n[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<o;){var c=(u=n[i])[0],s=t[c],l=u[1];if(a&&u[2]){if(void 0===s&&!(c in t))return!1}else{var f=new Ad;if(r)var h=r(s,l,c,t,e,f);if(!(void 0===h?up(l,s,3,r,f):h))return!1}}return!0};var sp=function(t){return t==t&&!sf(t)};var lp=function(t){for(var e=ud(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,sp(i)]}return e};var fp=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}};var hp=function(t){var e=lp(t);return 1==e.length&&e[0][2]?fp(e[0][0],e[0][1]):function(n){return n===t||cp(n,t,e)}};var dp=function(t,e){for(var n=0,r=(e=hh(e,t)).length;null!=t&&n<r;)t=t[wh(e[n++])];return n&&n==r?t:void 0};var pp=function(t,e,n){var r=null==t?void 0:dp(t,e);return void 0===r?n:r};var vp=function(t,e){return null!=t&&e in Object(t)};var gp=function(t,e){return null!=t&&xh(t,e,vp)};var _p=function(t,e){return cf(t)&&sp(e)?fp(wh(t),e):function(n){var r=pp(n,t);return void 0===r&&r===e?gp(n,t):up(e,r,3)}};var mp=function(t){return function(e){return null==e?void 0:e[t]}};var yp=function(t){return function(e){return dp(e,t)}};var bp=function(t){return cf(t)?mp(wh(t)):yp(t)};var wp=function(t){return"function"==typeof t?t:null==t?Mh:"object"==typeof t?Yl(t)?_p(t[0],t[1]):hp(t):bp(t)};var xp=function(t,e){var n=-1,r=$h(t)?Array(t.length):[];return sd(t,(function(t,i,o){r[++n]=e(t,i,o)})),r};var Ep=function(t,e){return(Yl(t)?uh:xp)(t,wp(e,3))},Mp=Math.ceil,Ap=Math.max;var kp=function(t,e,n,r){for(var i=-1,o=Ap(Mp((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a},Cp=/\s/;var Np=function(t){for(var e=t.length;e--&&Cp.test(t.charAt(e)););return e},Sp=/^\s+/;var jp=function(t){return t?t.slice(0,Np(t)+1).replace(Sp,""):t},Ip=/^[-+]0x[0-9a-f]+$/i,Op=/^0b[01]+$/i,Tp=/^0o[0-7]+$/i,$p=parseInt;var Pp=function(t){if("number"==typeof t)return t;if(of(t))return NaN;if(sf(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=sf(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=jp(t);var n=Op.test(t);return n||Tp.test(t)?$p(t.slice(2),n?2:8):Ip.test(t)?NaN:+t};var Dp=function(t){return t?(t=Pp(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0};var Lp=function(t){return function(e,n,r){return r&&"number"!=typeof r&&Ph(e,n,r)&&(n=r=void 0),e=Dp(e),void 0===n?(n=e,e=0):n=Dp(n),r=void 0===r?e<n?1:-1:Dp(r),kp(e,n,r,t)}}();var zp=function(t,e){var n=[];return sd(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n};var Vp=function(t,e){return(Yl(t)?Ud:zp)(t,wp(e,3))},Up=Object.prototype.hasOwnProperty;var Rp=function(t){if(null==t)return!0;if($h(t)&&(Yl(t)||"string"==typeof t||"function"==typeof t.splice||Object(Lh.a)(t)||Fh(t)||_h(t)))return!t.length;var e=ip(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(Hh(t))return!ad(t).length;for(var n in t)if(Up.call(t,n))return!1;return!0};var Bp=function(t){return void 0===t};var Fp=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1};var qp=function(t){return t!=t};var Yp=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1};var Wp=function(t,e,n){return e==e?Yp(t,e,n):Fp(t,qp,n)};var Hp=function(t,e){return!!(null==t?0:t.length)&&Wp(t,e,0)>-1};var Xp=function(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1};var Gp=function(){},Zp=Zd&&1/Pd(new Zd([,-0]))[1]==1/0?function(t){return new Zd(t)}:Gp;var Jp=function(t,e,n){var r=-1,i=Hp,o=t.length,a=!0,u=[],c=u;if(n)a=!1,i=Xp;else if(o>=200){var s=e?null:Zp(t);if(s)return Pd(s);a=!1,i=Id,c=new Sd}else c=e?[]:u;t:for(;++r<o;){var l=t[r],f=e?e(l):l;if(l=n||0!==l?l:0,a&&f==f){for(var h=c.length;h--;)if(c[h]===f)continue t;e&&c.push(f),u.push(l)}else i(c,f,n)||(c!==u&&c.push(f),u.push(l))}return u};var Kp=function(t){return rf(t)&&$h(t)},Qp=Th((function(t){return Jp(_d(t,1,Kp,!0))}));var tv=function(t,e){return uh(e,(function(e){return t[e]}))};var ev=function(t){return null==t?[]:tv(t,ud(t))};var nv=function(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n};var rv=function(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n};var iv=function(t,e,n){var r=Yl(t)?nv:rv,i=arguments.length<3;return r(t,wp(e,4),n,i,sd)};class ov{constructor(t={}){this._isDirected=!Eh(t,"directed")||t.directed,this._isMultigraph=!!Eh(t,"multigraph")&&t.multigraph,this._isCompound=!!Eh(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=Nh(void 0),this._defaultEdgeLabelFn=Nh(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(t){return this._label=t,this}graph(){return this._label}setDefaultNodeLabel(t){return ff(t)||(t=Nh(t)),this._defaultNodeLabelFn=t,this}nodeCount(){return this._nodeCount}nodes(){return ud(this._nodes)}sources(){var t=this;return Vp(this.nodes(),(function(e){return Rp(t._in[e])}))}sinks(){var t=this;return Vp(this.nodes(),(function(e){return Rp(t._out[e])}))}setNodes(t,e){var n=arguments,r=this;return fd(t,(function(t){n.length>1?r.setNode(t,e):r.setNode(t)})),this}setNode(t,e){return Eh(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]="\0",this._children[t]={},this._children["\0"][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)}node(t){return this._nodes[t]}hasNode(t){return Eh(this._nodes,t)}removeNode(t){var e=this;if(Eh(this._nodes,t)){var n=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],fd(this.children(t),(function(t){e.setParent(t)})),delete this._children[t]),fd(ud(this._in[t]),n),delete this._in[t],delete this._preds[t],fd(ud(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this}setParent(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(Bp(e))e="\0";else{for(var n=e+="";!Bp(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this}_removeFromParentsChildList(t){delete this._children[this._parent[t]][t]}parent(t){if(this._isCompound){var e=this._parent[t];if("\0"!==e)return e}}children(t){if(Bp(t)&&(t="\0"),this._isCompound){var e=this._children[t];if(e)return ud(e)}else{if("\0"===t)return this.nodes();if(this.hasNode(t))return[]}}predecessors(t){var e=this._preds[t];if(e)return ud(e)}successors(t){var e=this._sucs[t];if(e)return ud(e)}neighbors(t){var e=this.predecessors(t);if(e)return Qp(e,this.successors(t))}isLeaf(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length}filterNodes(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var n=this;fd(this._nodes,(function(n,r){t(r)&&e.setNode(r,n)})),fd(this._edgeObjs,(function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,n.edge(t))}));var r={};return this._isCompound&&fd(e.nodes(),(function(t){e.setParent(t,function t(i){var o=n.parent(i);return void 0===o||e.hasNode(o)?(r[i]=o,o):o in r?r[o]:t(o)}(t))})),e}setDefaultEdgeLabel(t){return ff(t)||(t=Nh(t)),this._defaultEdgeLabelFn=t,this}edgeCount(){return this._edgeCount}edges(){return ev(this._edgeObjs)}setPath(t,e){var n=this,r=arguments;return iv(t,(function(t,i){return r.length>1?n.setEdge(t,i,e):n.setEdge(t,i),i})),this}setEdge(){var t,e,n,r,i=!1,o=arguments[0];"object"==typeof o&&null!==o&&"v"in o?(t=o.v,e=o.w,n=o.name,2===arguments.length&&(r=arguments[1],i=!0)):(t=o,e=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],i=!0)),t=""+t,e=""+e,Bp(n)||(n=""+n);var a=cv(this._isDirected,t,e,n);if(Eh(this._edgeLabels,a))return i&&(this._edgeLabels[a]=r),this;if(!Bp(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[a]=i?r:this._defaultEdgeLabelFn(t,e,n);var u=function(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var a=i;i=o,o=a}var u={v:i,w:o};r&&(u.name=r);return u}(this._isDirected,t,e,n);return t=u.v,e=u.w,Object.freeze(u),this._edgeObjs[a]=u,av(this._preds[e],t),av(this._sucs[t],e),this._in[e][a]=u,this._out[t][a]=u,this._edgeCount++,this}edge(t,e,n){var r=1===arguments.length?sv(this._isDirected,arguments[0]):cv(this._isDirected,t,e,n);return this._edgeLabels[r]}hasEdge(t,e,n){var r=1===arguments.length?sv(this._isDirected,arguments[0]):cv(this._isDirected,t,e,n);return Eh(this._edgeLabels,r)}removeEdge(t,e,n){var r=1===arguments.length?sv(this._isDirected,arguments[0]):cv(this._isDirected,t,e,n),i=this._edgeObjs[r];return i&&(t=i.v,e=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],uv(this._preds[e],t),uv(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this}inEdges(t,e){var n=this._in[t];if(n){var r=ev(n);return e?Vp(r,(function(t){return t.v===e})):r}}outEdges(t,e){var n=this._out[t];if(n){var r=ev(n);return e?Vp(r,(function(t){return t.w===e})):r}}nodeEdges(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))}}function av(t,e){t[e]?t[e]++:t[e]=1}function uv(t,e){--t[e]||delete t[e]}function cv(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var a=i;i=o,o=a}return i+""+o+""+(Bp(r)?"\0":r)}function sv(t,e){return cv(t,e.v,e.w,e.name)}ov.prototype._nodeCount=0,ov.prototype._edgeCount=0;const lv="2.1.9-pre";class fv{constructor(){var t={};t._next=t._prev=t,this._sentinel=t}dequeue(){var t=this._sentinel,e=t._prev;if(e!==t)return hv(e),e}enqueue(t){var e=this._sentinel;t._prev&&t._next&&hv(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e}toString(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,dv)),n=n._prev;return"["+t.join(", ")+"]"}}function hv(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function dv(t,e){if("_next"!==t&&"_prev"!==t)return e}var pv=Nh(1);function vv(t,e){if(t.nodeCount()<=1)return[];var n=function(t,e){var n=new ov,r=0,i=0;fd(t.nodes(),(function(t){n.setNode(t,{v:t,in:0,out:0})})),fd(t.edges(),(function(t){var o=n.edge(t.v,t.w)||0,a=e(t),u=o+a;n.setEdge(t.v,t.w,u),i=Math.max(i,n.node(t.v).out+=a),r=Math.max(r,n.node(t.w).in+=a)}));var o=Lp(i+r+3).map((function(){return new fv})),a=r+1;return fd(n.nodes(),(function(t){_v(o,a,n.node(t))})),{graph:n,buckets:o,zeroIdx:a}}(t,e||pv),r=function(t,e,n){var r,i=[],o=e[e.length-1],a=e[0];for(;t.nodeCount();){for(;r=a.dequeue();)gv(t,e,n,r);for(;r=o.dequeue();)gv(t,e,n,r);if(t.nodeCount())for(var u=e.length-2;u>0;--u)if(r=e[u].dequeue()){i=i.concat(gv(t,e,n,r,!0));break}}return i}(n.graph,n.buckets,n.zeroIdx);return md(Ep(r,(function(e){return t.outEdges(e.v,e.w)})))}function gv(t,e,n,r,i){var o=i?[]:void 0;return fd(t.inEdges(r.v),(function(r){var a=t.edge(r),u=t.node(r.v);i&&o.push({v:r.v,w:r.w}),u.out-=a,_v(e,n,u)})),fd(t.outEdges(r.v),(function(r){var i=t.edge(r),o=r.w,a=t.node(o);a.in-=i,_v(e,n,a)})),t.removeNode(r.v),o}function _v(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}function mv(t){var e="greedy"===t.graph().acyclicer?vv(t,function(t){return function(e){return t.edge(e).weight}}(t)):function(t){var e=[],n={},r={};function i(o){Eh(r,o)||(r[o]=!0,n[o]=!0,fd(t.outEdges(o),(function(t){Eh(n,t.w)?e.push(t):i(t.w)})),delete n[o])}return fd(t.nodes(),i),e}(t);fd(e,(function(e){var n=t.edge(e);t.removeEdge(e),n.forwardName=e.name,n.reversed=!0,t.setEdge(e.w,e.v,n,dd("rev"))}))}var yv=function(t,e,n){"__proto__"==e&&Sh?Sh(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n};var bv=function(t,e,n){(void 0!==n&&!Lf(t[e],n)||void 0===n&&!(e in t))&&yv(t,e,n)},wv=n(15);var xv=function(t){var e=new t.constructor(t.byteLength);return new Td(e).set(new Td(t)),e};var Ev=function(t,e){var n=e?xv(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)};var Mv=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},Av=Object.create,kv=function(){function t(){}return function(e){if(!sf(e))return{};if(Av)return Av(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Cv=rd(Object.getPrototypeOf,Object);var Nv=function(t){return"function"!=typeof t.constructor||Hh(t)?{}:kv(Cv(t))},Sv=Function.prototype,jv=Object.prototype,Iv=Sv.toString,Ov=jv.hasOwnProperty,Tv=Iv.call(Object);var $v=function(t){if(!rf(t)||"[object Object]"!=nf(t))return!1;var e=Cv(t);if(null===e)return!0;var n=Ov.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Iv.call(n)==Tv};var Pv=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]},Dv=Object.prototype.hasOwnProperty;var Lv=function(t,e,n){var r=t[e];Dv.call(t,e)&&Lf(r,n)&&(void 0!==n||e in t)||yv(t,e,n)};var zv=function(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var u=e[o],c=r?r(n[u],t[u],u,n,t):void 0;void 0===c&&(c=t[u]),i?yv(n,u,c):Lv(n,u,c)}return n};var Vv=function(t){return zv(t,Jh(t))};var Uv=function(t,e,n,r,i,o,a){var u=Pv(t,n),c=Pv(e,n),s=a.get(c);if(s)bv(t,n,s);else{var l=o?o(u,c,n+"",t,e,a):void 0,f=void 0===l;if(f){var h=Yl(c),d=!h&&Object(Lh.a)(c),p=!h&&!d&&Fh(c);l=c,h||d||p?Yl(u)?l=u:Kp(u)?l=Mv(u):d?(f=!1,l=Object(wv.a)(c,!0)):p?(f=!1,l=Ev(c,!0)):l=[]:$v(c)||_h(c)?(l=u,_h(u)?l=Vv(u):sf(u)&&!ff(u)||(l=Nv(c))):f=!1}f&&(a.set(c,l),i(l,c,r,o,a),a.delete(c)),bv(t,n,l)}};var Rv=function t(e,n,r,i,o){e!==n&&nd(n,(function(a,u){if(o||(o=new Ad),sf(a))Uv(e,n,u,r,t,i,o);else{var c=i?i(Pv(e,u),a,u+"",e,n,o):void 0;void 0===c&&(c=a),bv(e,u,c)}}),Jh)};var Bv=function(t){return Th((function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,a&&Ph(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var u=n[r];u&&t(e,u,r,o)}return e}))}((function(t,e,n){Rv(t,e,n)}));var Fv=function(t,e,n,r){if(!sf(t))return t;for(var i=-1,o=(e=hh(e,t)).length,a=o-1,u=t;null!=u&&++i<o;){var c=wh(e[i]),s=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(i!=a){var l=u[c];void 0===(s=r?r(l,c,u):void 0)&&(s=sf(l)?l:yh(e[i+1])?[]:{})}Lv(u,c,s),u=u[c]}return t};var qv=function(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],u=dp(t,a);n(u,a)&&Fv(o,hh(a,t),u)}return o};var Yv=function(t,e){return qv(t,e,(function(e,n){return gp(t,n)}))};var Wv=function(t){return Oh(Ch(t,void 0,md),t+"")}((function(t,e){return null==t?{}:Yv(t,e)}));var Hv=function(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(void 0===u?a==a&&!of(a):n(a,u)))var u=a,c=o}return c};var Xv=function(t,e){return t>e};var Gv=function(t){return t&&t.length?Hv(t,Mh,Xv):void 0};var Zv=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0};var Jv=function(t,e){var n={};return e=wp(e,3),cd(t,(function(t,r,i){yv(n,r,e(t,r,i))})),n};var Kv=function(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var u=r<o?e[r]:void 0;n(a,t[r],u)}return a};var Qv=function(t,e){return Kv(t||[],e||[],Lv)};var tg=function(t,e){return t<e};var eg=function(t){return t&&t.length?Hv(t,Mh,tg):void 0},ng=function(){return Wl.a.Date.now()};function rg(t,e,n,r){var i;do{i=dd(r)}while(t.hasNode(i));return n.dummy=e,t.setNode(i,n),i}function ig(t){var e=new ov({multigraph:t.isMultigraph()}).setGraph(t.graph());return fd(t.nodes(),(function(n){t.children(n).length||e.setNode(n,t.node(n))})),fd(t.edges(),(function(n){e.setEdge(n,t.edge(n))})),e}function og(t,e){var n,r,i=t.x,o=t.y,a=e.x-i,u=e.y-o,c=t.width/2,s=t.height/2;if(!a&&!u)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(u)*c>Math.abs(a)*s?(u<0&&(s=-s),n=s*a/u,r=s):(a<0&&(c=-c),n=c,r=c*u/a),{x:i+n,y:o+r}}function ag(t){var e=Ep(Lp(cg(t)+1),(function(){return[]}));return fd(t.nodes(),(function(n){var r=t.node(n),i=r.rank;Bp(i)||(e[i][r.order]=n)})),e}function ug(t,e,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),rg(t,"border",i,e)}function cg(t){return Gv(Ep(t.nodes(),(function(e){var n=t.node(e).rank;if(!Bp(n))return n})))}function sg(t,e){var n=ng();try{return e()}finally{console.log(t+" time: "+(ng()-n)+"ms")}}function lg(t,e){return e()}function fg(t,e,n,r,i,o){var a={width:0,height:0,rank:o,borderType:e},u=i[e][o-1],c=rg(t,"border",a,n);i[e][o]=c,t.setParent(c,r),u&&t.setEdge(u,c,{weight:1})}function hg(t){var e=t.graph().rankdir.toLowerCase();"bt"!==e&&"rl"!==e||function(t){fd(t.nodes(),(function(e){vg(t.node(e))})),fd(t.edges(),(function(e){var n=t.edge(e);fd(n.points,vg),Eh(n,"y")&&vg(n)}))}(t),"lr"!==e&&"rl"!==e||(!function(t){fd(t.nodes(),(function(e){gg(t.node(e))})),fd(t.edges(),(function(e){var n=t.edge(e);fd(n.points,gg),Eh(n,"x")&&gg(n)}))}(t),dg(t))}function dg(t){fd(t.nodes(),(function(e){pg(t.node(e))})),fd(t.edges(),(function(e){pg(t.edge(e))}))}function pg(t){var e=t.width;t.width=t.height,t.height=e}function vg(t){t.y=-t.y}function gg(t){var e=t.x;t.x=t.y,t.y=e}function _g(t){t.graph().dummyChains=[],fd(t.edges(),(function(e){!function(t,e){var n,r,i,o=e.v,a=t.node(o).rank,u=e.w,c=t.node(u).rank,s=e.name,l=t.edge(e),f=l.labelRank;if(c===a+1)return;for(t.removeEdge(e),i=0,++a;a<c;++i,++a)l.points=[],n=rg(t,"edge",r={width:0,height:0,edgeLabel:l,edgeObj:e,rank:a},"_d"),a===f&&(r.width=l.width,r.height=l.height,r.dummy="edge-label",r.labelpos=l.labelpos),t.setEdge(o,n,{weight:l.weight},s),0===i&&t.graph().dummyChains.push(n),o=n;t.setEdge(o,u,{weight:l.weight},s)}(t,e)}))}var mg=function(t,e){return t&&t.length?Hv(t,wp(e,2),tg):void 0};function yg(t){var e={};fd(t.sources(),(function n(r){var i=t.node(r);if(Eh(e,r))return i.rank;e[r]=!0;var o=eg(Ep(t.outEdges(r),(function(e){return n(e.w)-t.edge(e).minlen})));return o!==Number.POSITIVE_INFINITY&&null!=o||(o=0),i.rank=o}))}function bg(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}function wg(t){var e,n,r=new ov({directed:!1}),i=t.nodes()[0],o=t.nodeCount();for(r.setNode(i,{});xg(r,t)<o;)e=Eg(r,t),n=r.hasNode(e.v)?bg(t,e):-bg(t,e),Mg(r,t,n);return r}function xg(t,e){return fd(t.nodes(),(function n(r){fd(e.nodeEdges(r),(function(i){var o=i.v,a=r===o?i.w:o;t.hasNode(a)||bg(e,i)||(t.setNode(a,{}),t.setEdge(r,a,{}),n(a))}))})),t.nodeCount()}function Eg(t,e){return mg(e.edges(),(function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return bg(e,n)}))}function Mg(t,e,n){fd(t.nodes(),(function(t){e.node(t).rank+=n}))}var Ag=function(t){return function(e,n,r){var i=Object(e);if(!$h(e)){var o=wp(n,3);e=ud(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}};var kg=function(t){var e=Dp(t),n=e%1;return e==e?n?e-n:e:0},Cg=Math.max;var Ng=Ag((function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:kg(n);return i<0&&(i=Cg(r+i,0)),Fp(t,wp(e,3),i)}));Nh(1);Nh(1);var Sg=function(t){return"string"==typeof t||!Yl(t)&&rf(t)&&"[object String]"==nf(t)},jg=mp("length"),Ig=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Og=function(t){return Ig.test(t)},Tg="[\\ud800-\\udfff]",$g="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Pg="\\ud83c[\\udffb-\\udfff]",Dg="[^\\ud800-\\udfff]",Lg="(?:\\ud83c[\\udde6-\\uddff]){2}",zg="[\\ud800-\\udbff][\\udc00-\\udfff]",Vg="(?:"+$g+"|"+Pg+")"+"?",Ug="[\\ufe0e\\ufe0f]?"+Vg+("(?:\\u200d(?:"+[Dg,Lg,zg].join("|")+")[\\ufe0e\\ufe0f]?"+Vg+")*"),Rg="(?:"+[Dg+$g+"?",$g,Lg,zg,Tg].join("|")+")",Bg=RegExp(Pg+"(?="+Pg+")|"+Rg+Ug,"g");var Fg=function(t){for(var e=Bg.lastIndex=0;Bg.test(t);)++e;return e};var qg=function(t){return Og(t)?Fg(t):jg(t)};var Yg=function(t){if(null==t)return 0;if($h(t))return Sg(t)?qg(t):t.length;var e=ip(t);return"[object Map]"==e||"[object Set]"==e?t.size:ad(t).length};function Wg(t){var e={},n={},r=[];if(fd(t.sinks(),(function i(o){if(Eh(n,o))throw new Hg;Eh(e,o)||(n[o]=!0,e[o]=!0,fd(t.predecessors(o),i),delete n[o],r.push(o))})),Yg(e)!==t.nodeCount())throw new Hg;return r}function Hg(){}function Xg(t,e,n){Yl(e)||(e=[e]);var r=(t.isDirected()?t.successors:t.neighbors).bind(t),i=[],o={};return fd(e,(function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);!function t(e,n,r,i,o,a){Eh(i,n)||(i[n]=!0,r||a.push(n),fd(o(n),(function(n){t(e,n,r,i,o,a)})),r&&a.push(n))}(t,e,"post"===n,o,r,i)})),i}function Gg(t){yg(t=function(t){var e=(new ov).setGraph(t.graph());return fd(t.nodes(),(function(n){e.setNode(n,t.node(n))})),fd(t.edges(),(function(n){var r=e.edge(n.v,n.w)||{weight:0,minlen:1},i=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})})),e}(t));var e,n=wg(t);for(Kg(n),Zg(n,t);e=t_(n);)n_(n,t,e,e_(n,t,e))}function Zg(t,e){var n=function(t,e){return Xg(t,e,"post")}(t,t.nodes());n=n.slice(0,n.length-1),fd(n,(function(n){!function(t,e,n){var r=t.node(n).parent;t.edge(n,r).cutvalue=Jg(t,e,n)}(t,e,n)}))}function Jg(t,e,n){var r=t.node(n).parent,i=!0,o=e.edge(n,r),a=0;return o||(i=!1,o=e.edge(r,n)),a=o.weight,fd(e.nodeEdges(n),(function(o){var u,c,s=o.v===n,l=s?o.w:o.v;if(l!==r){var f=s===i,h=e.edge(o).weight;if(a+=f?h:-h,u=n,c=l,t.hasEdge(u,c)){var d=t.edge(n,l).cutvalue;a+=f?-d:d}}})),a}function Kg(t,e){arguments.length<2&&(e=t.nodes()[0]),Qg(t,{},1,e)}function Qg(t,e,n,r,i){var o=n,a=t.node(r);return e[r]=!0,fd(t.neighbors(r),(function(i){Eh(e,i)||(n=Qg(t,e,n,i,r))})),a.low=o,a.lim=n++,i?a.parent=i:delete a.parent,n}function t_(t){return Ng(t.edges(),(function(e){return t.edge(e).cutvalue<0}))}function e_(t,e,n){var r=n.v,i=n.w;e.hasEdge(r,i)||(r=n.w,i=n.v);var o=t.node(r),a=t.node(i),u=o,c=!1;o.lim>a.lim&&(u=a,c=!0);var s=Vp(e.edges(),(function(e){return c===r_(t,t.node(e.v),u)&&c!==r_(t,t.node(e.w),u)}));return mg(s,(function(t){return bg(e,t)}))}function n_(t,e,n,r){var i=n.v,o=n.w;t.removeEdge(i,o),t.setEdge(r.v,r.w,{}),Kg(t),Zg(t,e),function(t,e){var n=Ng(t.nodes(),(function(t){return!e.node(t).parent})),r=function(t,e){return Xg(t,e,"pre")}(t,n);r=r.slice(1),fd(r,(function(n){var r=t.node(n).parent,i=e.edge(n,r),o=!1;i||(i=e.edge(r,n),o=!0),e.node(n).rank=e.node(r).rank+(o?i.minlen:-i.minlen)}))}(t,e)}function r_(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}function i_(t){switch(t.graph().ranker){case"network-simplex":a_(t);break;case"tight-tree":!function(t){yg(t),wg(t)}(t);break;case"longest-path":o_(t);break;default:a_(t)}}Wg.CycleException=Hg,Hg.prototype=new Error,Gg.initLowLimValues=Kg,Gg.initCutValues=Zg,Gg.calcCutValue=Jg,Gg.leaveEdge=t_,Gg.enterEdge=e_,Gg.exchangeEdges=n_;var o_=yg;function a_(t){Gg(t)}function u_(t){var e=rg(t,"root",{},"_root"),n=function(t){var e={};return fd(t.children(),(function(n){!function n(r,i){var o=t.children(r);o&&o.length&&fd(o,(function(t){n(t,i+1)}));e[r]=i}(n,1)})),e}(t),r=Gv(ev(n))-1,i=2*r+1;t.graph().nestingRoot=e,fd(t.edges(),(function(e){t.edge(e).minlen*=i}));var o=function(t){return iv(t.edges(),(function(e,n){return e+t.edge(n).weight}),0)}(t)+1;fd(t.children(),(function(a){!function t(e,n,r,i,o,a,u){var c=e.children(u);if(!c.length)return void(u!==n&&e.setEdge(n,u,{weight:0,minlen:r}));var s=ug(e,"_bt"),l=ug(e,"_bb"),f=e.node(u);e.setParent(s,u),f.borderTop=s,e.setParent(l,u),f.borderBottom=l,fd(c,(function(c){t(e,n,r,i,o,a,c);var f=e.node(c),h=f.borderTop?f.borderTop:c,d=f.borderBottom?f.borderBottom:c,p=f.borderTop?i:2*i,v=h!==d?1:o-a[u]+1;e.setEdge(s,h,{weight:p,minlen:v,nestingEdge:!0}),e.setEdge(d,l,{weight:p,minlen:v,nestingEdge:!0})})),e.parent(u)||e.setEdge(n,s,{weight:0,minlen:o+a[u]})}(t,e,i,o,r,n,a)})),t.graph().nodeRankFactor=i}var c_=function(t,e){return t&&zv(e,ud(e),t)};var s_=function(t,e){return t&&zv(e,Jh(e),t)};var l_=function(t,e){return zv(t,qd(t),e)},f_=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)pd(e,qd(t)),t=Cv(t);return e}:Rd;var h_=function(t,e){return zv(t,f_(t),e)};var d_=function(t){return Vd(t,Jh,f_)},p_=Object.prototype.hasOwnProperty;var v_=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&p_.call(t,"index")&&(n.index=t.index,n.input=t.input),n};var g_=function(t,e){var n=e?xv(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},__=/\w*$/;var m_=function(t){var e=new t.constructor(t.source,__.exec(t));return e.lastIndex=t.lastIndex,e},y_=Hl?Hl.prototype:void 0,b_=y_?y_.valueOf:void 0;var w_=function(t){return b_?Object(b_.call(t)):{}};var x_=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return xv(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return g_(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Ev(t,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return m_(t);case"[object Set]":return new r;case"[object Symbol]":return w_(t)}};var E_=function(t){return rf(t)&&"[object Map]"==ip(t)},M_=Rh.a&&Rh.a.isMap,A_=M_?Uh(M_):E_;var k_=function(t){return rf(t)&&"[object Set]"==ip(t)},C_=Rh.a&&Rh.a.isSet,N_=C_?Uh(C_):k_,S_={};S_["[object Arguments]"]=S_["[object Array]"]=S_["[object ArrayBuffer]"]=S_["[object DataView]"]=S_["[object Boolean]"]=S_["[object Date]"]=S_["[object Float32Array]"]=S_["[object Float64Array]"]=S_["[object Int8Array]"]=S_["[object Int16Array]"]=S_["[object Int32Array]"]=S_["[object Map]"]=S_["[object Number]"]=S_["[object Object]"]=S_["[object RegExp]"]=S_["[object Set]"]=S_["[object String]"]=S_["[object Symbol]"]=S_["[object Uint8Array]"]=S_["[object Uint8ClampedArray]"]=S_["[object Uint16Array]"]=S_["[object Uint32Array]"]=!0,S_["[object Error]"]=S_["[object Function]"]=S_["[object WeakMap]"]=!1;var j_=function t(e,n,r,i,o,a){var u,c=1&n,s=2&n,l=4&n;if(r&&(u=o?r(e,i,o,a):r(e)),void 0!==u)return u;if(!sf(e))return e;var f=Yl(e);if(f){if(u=v_(e),!c)return Mv(e,u)}else{var h=ip(e),d="[object Function]"==h||"[object GeneratorFunction]"==h;if(Object(Lh.a)(e))return Object(wv.a)(e,c);if("[object Object]"==h||"[object Arguments]"==h||d&&!o){if(u=s||d?{}:Nv(e),!c)return s?h_(e,s_(u,e)):l_(e,c_(u,e))}else{if(!S_[h])return o?e:{};u=x_(e,h,c)}}a||(a=new Ad);var p=a.get(e);if(p)return p;a.set(e,u),N_(e)?e.forEach((function(i){u.add(t(i,n,r,i,e,a))})):A_(e)&&e.forEach((function(i,o){u.set(o,t(i,n,r,o,e,a))}));var v=f?void 0:(l?s?d_:Yd:s?Jh:ud)(e);return ed(v||e,(function(i,o){v&&(i=e[o=i]),Lv(u,o,t(i,n,r,o,e,a))})),u};var I_=function(t){return j_(t,5)};function O_(t,e,n){var r=function(t){var e;for(;t.hasNode(e=dd("_root")););return e}(t),i=new ov({compound:!0}).setGraph({root:r}).setDefaultNodeLabel((function(e){return t.node(e)}));return fd(t.nodes(),(function(o){var a=t.node(o),u=t.parent(o);(a.rank===e||a.minRank<=e&&e<=a.maxRank)&&(i.setNode(o),i.setParent(o,u||r),fd(t[n](o),(function(e){var n=e.v===o?e.w:e.v,r=i.edge(n,o),a=Bp(r)?0:r.weight;i.setEdge(n,o,{weight:t.edge(e).weight+a})})),Eh(a,"minRank")&&i.setNode(o,{borderLeft:a.borderLeft[e],borderRight:a.borderRight[e]}))})),i}var T_=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t};var $_=function(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t==t,o=of(t),a=void 0!==e,u=null===e,c=e==e,s=of(e);if(!u&&!s&&!o&&t>e||o&&a&&c&&!u&&!s||r&&a&&c||!n&&c||!i)return 1;if(!r&&!o&&!s&&t<e||s&&n&&i&&!r&&!o||u&&n&&i||!a&&i||!c)return-1}return 0};var P_=function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,u=n.length;++r<a;){var c=$_(i[r],o[r]);if(c)return r>=u?c:c*("desc"==n[r]?-1:1)}return t.index-e.index};var D_=function(t,e,n){e=e.length?uh(e,(function(t){return Yl(t)?function(e){return dp(e,1===t.length?t[0]:t)}:t})):[Mh];var r=-1;e=uh(e,Uh(wp));var i=xp(t,(function(t,n,i){return{criteria:uh(e,(function(e){return e(t)})),index:++r,value:t}}));return T_(i,(function(t,e){return P_(t,e,n)}))},L_=Th((function(t,e){if(null==t)return[];var n=e.length;return n>1&&Ph(t,e[0],e[1])?e=[]:n>2&&Ph(e[0],e[1],e[2])&&(e=[e[0]]),D_(t,_d(e,1),[])}));function z_(t,e){for(var n=0,r=1;r<e.length;++r)n+=V_(t,e[r-1],e[r]);return n}function V_(t,e,n){for(var r=Qv(n,Ep(n,(function(t,e){return e}))),i=md(Ep(e,(function(e){return L_(Ep(t.outEdges(e),(function(e){return{pos:r[e.w],weight:t.edge(e).weight}})),"pos")}))),o=1;o<n.length;)o<<=1;var a=2*o-1;o-=1;var u=Ep(new Array(a),(function(){return 0})),c=0;return fd(i.forEach((function(t){var e=t.pos+o;u[e]+=t.weight;for(var n=0;e>0;)e%2&&(n+=u[e+1]),u[e=e-1>>1]+=t.weight;c+=t.weight*n}))),c}function U_(t,e){var n={};return fd(t,(function(t,e){var r=n[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};Bp(t.barycenter)||(r.barycenter=t.barycenter,r.weight=t.weight)})),fd(e.edges(),(function(t){var e=n[t.v],r=n[t.w];Bp(e)||Bp(r)||(r.indegree++,e.out.push(n[t.w]))})),function(t){var e=[];function n(t){return function(e){e.merged||(Bp(e.barycenter)||Bp(t.barycenter)||e.barycenter>=t.barycenter)&&function(t,e){var n=0,r=0;t.weight&&(n+=t.barycenter*t.weight,r+=t.weight);e.weight&&(n+=e.barycenter*e.weight,r+=e.weight);t.vs=e.vs.concat(t.vs),t.barycenter=n/r,t.weight=r,t.i=Math.min(e.i,t.i),e.merged=!0}(t,e)}}function r(e){return function(n){n.in.push(e),0==--n.indegree&&t.push(n)}}for(;t.length;){var i=t.pop();e.push(i),fd(i.in.reverse(),n(i)),fd(i.out,r(i))}return Ep(Vp(e,(function(t){return!t.merged})),(function(t){return Wv(t,["vs","i","barycenter","weight"])}))}(Vp(n,(function(t){return!t.indegree})))}function R_(t,e){var n,r=function(t,e){var n={lhs:[],rhs:[]};return fd(t,(function(t){e(t)?n.lhs.push(t):n.rhs.push(t)})),n}(t,(function(t){return Eh(t,"barycenter")})),i=r.lhs,o=L_(r.rhs,(function(t){return-t.i})),a=[],u=0,c=0,s=0;i.sort((n=!!e,function(t,e){return t.barycenter<e.barycenter?-1:t.barycenter>e.barycenter?1:n?e.i-t.i:t.i-e.i})),s=B_(a,o,s),fd(i,(function(t){s+=t.vs.length,a.push(t.vs),u+=t.barycenter*t.weight,c+=t.weight,s=B_(a,o,s)}));var l={vs:md(a)};return c&&(l.barycenter=u/c,l.weight=c),l}function B_(t,e,n){for(var r;e.length&&(r=Zv(e)).i<=n;)e.pop(),t.push(r.vs),n++;return n}function F_(t,e,n,r){var i=t.children(e),o=t.node(e),a=o?o.borderLeft:void 0,u=o?o.borderRight:void 0,c={};a&&(i=Vp(i,(function(t){return t!==a&&t!==u})));var s=function(t,e){return Ep(e,(function(e){var n=t.inEdges(e);if(n.length){var r=iv(n,(function(e,n){var r=t.edge(n),i=t.node(n.v);return{sum:e.sum+r.weight*i.order,weight:e.weight+r.weight}}),{sum:0,weight:0});return{v:e,barycenter:r.sum/r.weight,weight:r.weight}}return{v:e}}))}(t,i);fd(s,(function(e){if(t.children(e.v).length){var i=F_(t,e.v,n,r);c[e.v]=i,Eh(i,"barycenter")&&(a=i,Bp((o=e).barycenter)?(o.barycenter=a.barycenter,o.weight=a.weight):(o.barycenter=(o.barycenter*o.weight+a.barycenter*a.weight)/(o.weight+a.weight),o.weight+=a.weight))}var o,a}));var l=U_(s,n);!function(t,e){fd(t,(function(t){t.vs=md(t.vs.map((function(t){return e[t]?e[t].vs:t})))}))}(l,c);var f=R_(l,r);if(a&&(f.vs=md([a,f.vs,u]),t.predecessors(a).length)){var h=t.node(t.predecessors(a)[0]),d=t.node(t.predecessors(u)[0]);Eh(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+h.order+d.order)/(f.weight+2),f.weight+=2}return f}function q_(t){var e=cg(t),n=Y_(t,Lp(1,e+1),"inEdges"),r=Y_(t,Lp(e-1,-1,-1),"outEdges"),i=function(t){var e={},n=Vp(t.nodes(),(function(e){return!t.children(e).length})),r=Gv(Ep(n,(function(e){return t.node(e).rank}))),i=Ep(Lp(r+1),(function(){return[]})),o=L_(n,(function(e){return t.node(e).rank}));return fd(o,(function n(r){if(!Eh(e,r)){e[r]=!0;var o=t.node(r);i[o.rank].push(r),fd(t.successors(r),n)}})),i}(t);H_(t,i);for(var o,a=Number.POSITIVE_INFINITY,u=0,c=0;c<4;++u,++c){W_(u%2?n:r,u%4>=2);var s=z_(t,i=ag(t));s<a&&(c=0,o=I_(i),a=s)}H_(t,o)}function Y_(t,e,n){return Ep(e,(function(e){return O_(t,e,n)}))}function W_(t,e){var n=new ov;fd(t,(function(t){var r=t.graph().root,i=F_(t,r,n,e);fd(i.vs,(function(e,n){t.node(e).order=n})),function(t,e,n){var r,i={};fd(n,(function(n){for(var o,a,u=t.parent(n);u;){if((o=t.parent(u))?(a=i[o],i[o]=u):(a=r,r=u),a&&a!==u)return void e.setEdge(a,u);u=o}}))}(t,n,i.vs)}))}function H_(t,e){fd(e,(function(e){fd(e,(function(e,n){t.node(e).order=n}))}))}function X_(t){var e=function(t){var e={},n=0;function r(i){var o=n;fd(t.children(i),r),e[i]={low:o,lim:n++}}return fd(t.children(),r),e}(t);fd(t.graph().dummyChains,(function(n){for(var r=t.node(n),i=r.edgeObj,o=function(t,e,n,r){var i,o,a=[],u=[],c=Math.min(e[n].low,e[r].low),s=Math.max(e[n].lim,e[r].lim);i=n;do{i=t.parent(i),a.push(i)}while(i&&(e[i].low>c||s>e[i].lim));o=i,i=r;for(;(i=t.parent(i))!==o;)u.push(i);return{path:a.concat(u.reverse()),lca:o}}(t,e,i.v,i.w),a=o.path,u=o.lca,c=0,s=a[c],l=!0;n!==i.w;){if(r=t.node(n),l){for(;(s=a[c])!==u&&t.node(s).maxRank<r.rank;)c++;s===u&&(l=!1)}if(!l){for(;c<a.length-1&&t.node(s=a[c+1]).minRank<=r.rank;)c++;s=a[c]}t.setParent(n,s),n=t.successors(n)[0]}}))}var G_=function(t,e){return t&&cd(t,ld(e))};var Z_=function(t,e){return null==t?t:nd(t,ld(e),Jh)};function J_(t,e){var n={};return iv(e,(function(e,r){var i=0,o=0,a=e.length,u=Zv(r);return fd(r,(function(e,c){var s=function(t,e){if(t.node(e).dummy)return Ng(t.predecessors(e),(function(e){return t.node(e).dummy}))}(t,e),l=s?t.node(s).order:a;(s||e===u)&&(fd(r.slice(o,c+1),(function(e){fd(t.predecessors(e),(function(r){var o=t.node(r),a=o.order;!(a<i||l<a)||o.dummy&&t.node(e).dummy||K_(n,r,e)}))})),o=c+1,i=l)})),r})),n}function K_(t,e,n){if(e>n){var r=e;e=n,n=r}var i=t[e];i||(t[e]=i={}),i[n]=!0}function Q_(t,e,n){if(e>n){var r=e;e=n,n=r}return Eh(t[e],n)}function tm(t,e,n,r,i){var o={},a=function(t,e,n,r){var i=new ov,o=t.graph(),a=function(t,e,n){return function(r,i,o){var a,u=r.node(i),c=r.node(o),s=0;if(s+=u.width/2,Eh(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":a=-u.width/2;break;case"r":a=u.width/2}if(a&&(s+=n?a:-a),a=0,s+=(u.dummy?e:t)/2,s+=(c.dummy?e:t)/2,s+=c.width/2,Eh(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":a=c.width/2;break;case"r":a=-c.width/2}return a&&(s+=n?a:-a),a=0,s}}(o.nodesep,o.edgesep,r);return fd(e,(function(e){var r;fd(e,(function(e){var o=n[e];if(i.setNode(o),r){var u=n[r],c=i.edge(u,o);i.setEdge(u,o,Math.max(a(t,e,r),c||0))}r=e}))})),i}(t,e,n,i),u=i?"borderLeft":"borderRight";function c(t,e){for(var n=a.nodes(),r=n.pop(),i={};r;)i[r]?t(r):(i[r]=!0,n.push(r),n=n.concat(e(r))),r=n.pop()}return c((function(t){o[t]=a.inEdges(t).reduce((function(t,e){return Math.max(t,o[e.v]+a.edge(e))}),0)}),a.predecessors.bind(a)),c((function(e){var n=a.outEdges(e).reduce((function(t,e){return Math.min(t,o[e.w]-a.edge(e))}),Number.POSITIVE_INFINITY),r=t.node(e);n!==Number.POSITIVE_INFINITY&&r.borderType!==u&&(o[e]=Math.max(o[e],n))}),a.successors.bind(a)),fd(r,(function(t){o[t]=o[n[t]]})),o}function em(t){var e,n=ag(t),r=Bv(J_(t,n),function(t,e){var n={};function r(e,r,i,o,a){var u;fd(Lp(r,i),(function(r){u=e[r],t.node(u).dummy&&fd(t.predecessors(u),(function(e){var r=t.node(e);r.dummy&&(r.order<o||r.order>a)&&K_(n,e,u)}))}))}return iv(e,(function(e,n){var i,o=-1,a=0;return fd(n,(function(u,c){if("border"===t.node(u).dummy){var s=t.predecessors(u);s.length&&(i=t.node(s[0]).order,r(n,a,c,o,i),a=c,o=i)}r(n,a,n.length,i,e.length)})),n})),n}(t,n)),i={};fd(["u","d"],(function(o){e="u"===o?n:ev(n).reverse(),fd(["l","r"],(function(n){"r"===n&&(e=Ep(e,(function(t){return ev(t).reverse()})));var a=("u"===o?t.predecessors:t.successors).bind(t),u=function(t,e,n,r){var i={},o={},a={};return fd(e,(function(t){fd(t,(function(t,e){i[t]=t,o[t]=t,a[t]=e}))})),fd(e,(function(t){var e=-1;fd(t,(function(t){var u=r(t);if(u.length)for(var c=((u=L_(u,(function(t){return a[t]}))).length-1)/2,s=Math.floor(c),l=Math.ceil(c);s<=l;++s){var f=u[s];o[t]===t&&e<a[f]&&!Q_(n,t,f)&&(o[f]=t,o[t]=i[t]=i[f],e=a[f])}}))})),{root:i,align:o}}(0,e,r,a),c=tm(t,e,u.root,u.align,"r"===n);"r"===n&&(c=Jv(c,(function(t){return-t}))),i[o+n]=c}))}));var o=function(t,e){return mg(ev(e),(function(e){var n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return Z_(e,(function(e,i){var o=function(t,e){return t.node(e).width}(t,i)/2;n=Math.max(e+o,n),r=Math.min(e-o,r)})),n-r}))}(t,i);return function(t,e){var n=ev(e),r=eg(n),i=Gv(n);fd(["u","d"],(function(n){fd(["l","r"],(function(o){var a,u=n+o,c=t[u];if(c!==e){var s=ev(c);(a="l"===o?r-eg(s):i-Gv(s))&&(t[u]=Jv(c,(function(t){return t+a})))}}))}))}(i,o),function(t,e){return Jv(t.ul,(function(n,r){if(e)return t[e.toLowerCase()][r];var i=L_(Ep(t,r));return(i[1]+i[2])/2}))}(i,t.graph().align)}function nm(t){(function(t){var e=ag(t),n=t.graph().ranksep,r=0;fd(e,(function(e){var i=Gv(Ep(e,(function(e){return t.node(e).height})));fd(e,(function(e){t.node(e).y=r+i/2})),r+=i+n}))})(t=ig(t)),G_(em(t),(function(e,n){t.node(n).x=e}))}function rm(t,e){var n=e&&e.debugTiming?sg:lg;n("layout",(function(){var e=n("  buildLayoutGraph",(function(){return function(t){var e=new ov({multigraph:!0,compound:!0}),n=dm(t.graph());return e.setGraph(Bv({},om,hm(n,im),Wv(n,am))),fd(t.nodes(),(function(n){var r=dm(t.node(n));e.setNode(n,td(hm(r,um),cm)),e.setParent(n,t.parent(n))})),fd(t.edges(),(function(n){var r=dm(t.edge(n));e.setEdge(n,Bv({},lm,hm(r,sm),Wv(r,fm)))})),e}(t)}));n("  runLayout",(function(){!function(t,e){e("    makeSpaceForEdgeLabels",(function(){!function(t){var e=t.graph();e.ranksep/=2,fd(t.edges(),(function(n){var r=t.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)}))}(t)})),e("    removeSelfEdges",(function(){!function(t){fd(t.edges(),(function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdge(e)}}))}(t)})),e("    acyclic",(function(){mv(t)})),e("    nestingGraph.run",(function(){u_(t)})),e("    rank",(function(){i_(ig(t))})),e("    injectEdgeLabelProxies",(function(){!function(t){fd(t.edges(),(function(e){var n=t.edge(e);if(n.width&&n.height){var r=t.node(e.v),i={rank:(t.node(e.w).rank-r.rank)/2+r.rank,e:e};rg(t,"edge-proxy",i,"_ep")}}))}(t)})),e("    removeEmptyRanks",(function(){!function(t){var e=eg(Ep(t.nodes(),(function(e){return t.node(e).rank}))),n=[];fd(t.nodes(),(function(r){var i=t.node(r).rank-e;n[i]||(n[i]=[]),n[i].push(r)}));var r=0,i=t.graph().nodeRankFactor;fd(n,(function(e,n){Bp(e)&&n%i!=0?--r:r&&fd(e,(function(e){t.node(e).rank+=r}))}))}(t)})),e("    nestingGraph.cleanup",(function(){!function(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,fd(t.edges(),(function(e){t.edge(e).nestingEdge&&t.removeEdge(e)}))}(t)})),e("    normalizeRanks",(function(){!function(t){var e=eg(Ep(t.nodes(),(function(e){return t.node(e).rank})));fd(t.nodes(),(function(n){var r=t.node(n);Eh(r,"rank")&&(r.rank-=e)}))}(t)})),e("    assignRankMinMax",(function(){!function(t){var e=0;fd(t.nodes(),(function(n){var r=t.node(n);r.borderTop&&(r.minRank=t.node(r.borderTop).rank,r.maxRank=t.node(r.borderBottom).rank,e=Gv(e,r.maxRank))})),t.graph().maxRank=e}(t)})),e("    removeEdgeLabelProxies",(function(){!function(t){fd(t.nodes(),(function(e){var n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))}))}(t)})),e("    normalize.run",(function(){_g(t)})),e("    parentDummyChains",(function(){X_(t)})),e("    addBorderSegments",(function(){!function(t){fd(t.children(),(function e(n){var r=t.children(n),i=t.node(n);if(r.length&&fd(r,e),Eh(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,a=i.maxRank+1;o<a;++o)fg(t,"borderLeft","_bl",n,i,o),fg(t,"borderRight","_br",n,i,o)}}))}(t)})),e("    order",(function(){q_(t)})),e("    insertSelfEdges",(function(){!function(t){var e=ag(t);fd(e,(function(e){var n=0;fd(e,(function(e,r){var i=t.node(e);i.order=r+n,fd(i.selfEdges,(function(e){rg(t,"selfedge",{width:e.label.width,height:e.label.height,rank:i.rank,order:r+ ++n,e:e.e,label:e.label},"_se")})),delete i.selfEdges}))}))}(t)})),e("    adjustCoordinateSystem",(function(){!function(t){var e=t.graph().rankdir.toLowerCase();"lr"!==e&&"rl"!==e||dg(t)}(t)})),e("    position",(function(){nm(t)})),e("    positionSelfEdges",(function(){!function(t){fd(t.nodes(),(function(e){var n=t.node(e);if("selfedge"===n.dummy){var r=t.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,u=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:i+2*a/3,y:o-u},{x:i+5*a/6,y:o-u},{x:i+a,y:o},{x:i+5*a/6,y:o+u},{x:i+2*a/3,y:o+u}],n.label.x=n.x,n.label.y=n.y}}))}(t)})),e("    removeBorderNodes",(function(){!function(t){fd(t.nodes(),(function(e){if(t.children(e).length){var n=t.node(e),r=t.node(n.borderTop),i=t.node(n.borderBottom),o=t.node(Zv(n.borderLeft)),a=t.node(Zv(n.borderRight));n.width=Math.abs(a.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}})),fd(t.nodes(),(function(e){"border"===t.node(e).dummy&&t.removeNode(e)}))}(t)})),e("    normalize.undo",(function(){!function(t){fd(t.graph().dummyChains,(function(e){var n,r=t.node(e),i=r.edgeLabel;for(t.setEdge(r.edgeObj,i);r.dummy;)n=t.successors(e)[0],t.removeNode(e),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),e=n,r=t.node(e)}))}(t)})),e("    fixupEdgeLabelCoords",(function(){!function(t){fd(t.edges(),(function(e){var n=t.edge(e);if(Eh(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))}(t)})),e("    undoCoordinateSystem",(function(){hg(t)})),e("    translateGraph",(function(){!function(t){var e=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=t.graph(),a=o.marginx||0,u=o.marginy||0;function c(t){var o=t.x,a=t.y,u=t.width,c=t.height;e=Math.min(e,o-u/2),n=Math.max(n,o+u/2),r=Math.min(r,a-c/2),i=Math.max(i,a+c/2)}fd(t.nodes(),(function(e){c(t.node(e))})),fd(t.edges(),(function(e){var n=t.edge(e);Eh(n,"x")&&c(n)})),e-=a,r-=u,fd(t.nodes(),(function(n){var i=t.node(n);i.x-=e,i.y-=r})),fd(t.edges(),(function(n){var i=t.edge(n);fd(i.points,(function(t){t.x-=e,t.y-=r})),Eh(i,"x")&&(i.x-=e),Eh(i,"y")&&(i.y-=r)})),o.width=n-e+a,o.height=i-r+u}(t)})),e("    assignNodeIntersects",(function(){!function(t){fd(t.edges(),(function(e){var n,r,i=t.edge(e),o=t.node(e.v),a=t.node(e.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=a,r=o),i.points.unshift(og(o,n)),i.points.push(og(a,r))}))}(t)})),e("    reversePoints",(function(){!function(t){fd(t.edges(),(function(e){var n=t.edge(e);n.reversed&&n.points.reverse()}))}(t)})),e("    acyclic.undo",(function(){!function(t){fd(t.edges(),(function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}}))}(t)}))}(e,n)})),n("  updateInputGraph",(function(){!function(t,e){fd(t.nodes(),(function(n){var r=t.node(n),i=e.node(n);r&&(r.x=i.x,r.y=i.y,e.children(n).length&&(r.width=i.width,r.height=i.height))})),fd(t.edges(),(function(n){var r=t.edge(n),i=e.edge(n);r.points=i.points,Eh(i,"x")&&(r.x=i.x,r.y=i.y)})),t.graph().width=e.graph().width,t.graph().height=e.graph().height}(t,e)}))}))}var im=["nodesep","edgesep","ranksep","marginx","marginy"],om={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},am=["acyclicer","ranker","rankdir","align"],um=["width","height"],cm={width:0,height:0},sm=["minlen","weight","width","height","labeloffset"],lm={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},fm=["labelpos"];function hm(t,e){return Jv(Wv(t,e),Number)}function dm(t){var e={};return fd(t,(function(t,n){e[n.toLowerCase()]=t})),e}function pm(t,e){return!!t.children(e).length}function vm(t){return _m(t.v)+":"+_m(t.w)+":"+_m(t.name)}var gm=/:/g;function _m(t){return t?String(t).replace(gm,"\\:"):""}function mm(t,e){e&&t.attr("style",e)}function ym(t,e,n){e&&t.attr("class",e).attr("class",n+" "+t.attr("class"))}function bm(t,e){var n=e.graph();if($v(n)){var r=n.transition;if(ff(r))return r(t)}return t}var wm={normal:function(t,e,n,r){var i=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");mm(i,n[r+"Style"]),n[r+"Class"]&&i.attr("class",n[r+"Class"])},vee:function(t,e,n,r){var i=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");mm(i,n[r+"Style"]),n[r+"Class"]&&i.attr("class",n[r+"Class"])},undirected:function(t,e,n,r){var i=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");mm(i,n[r+"Style"]),n[r+"Class"]&&i.attr("class",n[r+"Class"])}};function xm(t){wm=t}function Em(t,e,n){var r=e.label,i=t.append("g");"svg"===e.labelType?function(t,e){var n=t;n.node().appendChild(e.label),mm(n,e.labelStyle)}(i,e):"string"!=typeof r||"html"===e.labelType?function(t,e){var n=t.append("foreignObject").attr("width","100000"),r=n.append("xhtml:div");r.attr("xmlns","http://www.w3.org/1999/xhtml");var i=e.label;switch(typeof i){case"function":r.insert(i);break;case"object":r.insert((function(){return i}));break;default:r.html(i)}mm(r,e.labelStyle),r.style("display","inline-block"),r.style("white-space","nowrap");var o=r.node().getBoundingClientRect();n.attr("width",o.width).attr("height",o.height)}(i,e):function(t,e){for(var n=t.append("text"),r=function(t){for(var e,n="",r=!1,i=0;i<t.length;++i)if(e=t[i],r){switch(e){case"n":n+="\n";break;default:n+=e}r=!1}else"\\"===e?r=!0:n+=e;return n}(e.label).split("\n"),i=0;i<r.length;i++)n.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(r[i]);mm(n,e.labelStyle)}(i,e);var o,a=i.node().getBBox();switch(n){case"top":o=-e.height/2;break;case"bottom":o=e.height/2-a.height;break;default:o=-a.height/2}return i.attr("transform","translate("+-a.width/2+","+o+")"),i}var Mm=function(t,e){var n=e.nodes().filter((function(t){return pm(e,t)})),r=t.selectAll("g.cluster").data(n,(function(t){return t}));bm(r.exit(),e).style("opacity",0).remove();var i=r.enter().append("g").attr("class","cluster").attr("id",(function(t){return e.node(t).id})).style("opacity",0).each((function(t){var n=e.node(t),r=sa(this);sa(this).append("rect"),Em(r.append("g").attr("class","label"),n,n.clusterLabelPos)}));return(r=bm(r=r.merge(i),e).style("opacity",1)).selectAll("rect").each((function(t){var n=e.node(t);mm(sa(this),n.style)})),r};function Am(t){Mm=t}let km=function(t,e){var n=t.selectAll("g.edgeLabel").data(e.edges(),(function(t){return vm(t)})).classed("update",!0);return n.exit().remove(),n.enter().append("g").classed("edgeLabel",!0).style("opacity",0),(n=t.selectAll("g.edgeLabel")).each((function(t){var n=sa(this);n.select(".label").remove();var r=e.edge(t),i=Em(n,e.edge(t),0).classed("label",!0),o=i.node().getBBox();r.labelId&&i.attr("id",r.labelId),Eh(r,"width")||(r.width=o.width),Eh(r,"height")||(r.height=o.height)})),bm(n.exit?n.exit():n.selectAll(null),e).style("opacity",0).remove(),n};function Cm(t){km=t}function Nm(t,e){return t.intersect(e)}var Sm=function(t,e,n){var r=t.selectAll("g.edgePath").data(e.edges(),(function(t){return vm(t)})).classed("update",!0),i=function(t,e){var n=t.enter().append("g").attr("class","edgePath").style("opacity",0);return n.append("path").attr("class","path").attr("d",(function(t){var n=e.edge(t),r=e.node(t.v).elem;return Im(n,Lp(n.points.length).map((function(){return e=(t=r).getBBox(),{x:(n=t.ownerSVGElement.getScreenCTM().inverse().multiply(t.getScreenCTM()).translate(e.width/2,e.height/2)).e,y:n.f};var t,e,n})))})),n.append("defs"),n}(r,e);!function(t,e){bm(t.exit(),e).style("opacity",0).remove()}(r,e);var o=void 0!==r.merge?r.merge(i):r;return bm(o,e).style("opacity",1),o.each((function(t){var n=sa(this),r=e.edge(t);r.elem=this,r.id&&n.attr("id",r.id),ym(n,r.class,(n.classed("update")?"update ":"")+"edgePath")})),o.selectAll("path.path").each((function(t){var n=e.edge(t);n.arrowheadId=dd("arrowhead");var r=sa(this).attr("marker-end",(function(){return"url("+(t=location.href,e=n.arrowheadId,t.split("#")[0]+"#"+e+")");var t,e})).style("fill","none");bm(r,e).attr("d",(function(t){return function(t,e){var n=t.edge(e),r=t.node(e.v),i=t.node(e.w),o=n.points.slice(1,n.points.length-1);return o.unshift(Nm(r,o[0])),o.push(Nm(i,o[o.length-1])),Im(n,o)}(e,t)})),mm(r,n.style)})),o.selectAll("defs *").remove(),o.selectAll("defs").each((function(t){var r=e.edge(t);(0,n[r.arrowhead])(sa(this),r.arrowheadId,r,"arrowhead")})),o};function jm(t){Sm=t}function Im(t,e){var n=(ba||Di.line)().x((function(t){return t.x})).y((function(t){return t.y}));return(n.curve||n.interpolate)(t.curve),n(e)}var Om=function(t,e,n){var r=e.nodes().filter((function(t){return!pm(e,t)})),i=t.selectAll("g.node").data(r,(function(t){return t})).classed("update",!0);return i.exit().remove(),i.enter().append("g").attr("class","node").style("opacity",0),(i=t.selectAll("g.node")).each((function(t){var r=e.node(t),i=sa(this);ym(i,r.class,(i.classed("update")?"update ":"")+"node"),i.select("g.label").remove();var o=i.append("g").attr("class","label"),a=Em(o,r),u=n[r.shape],c=Wv(a.node().getBBox(),"width","height");r.elem=this,r.id&&i.attr("id",r.id),r.labelId&&o.attr("id",r.labelId),Eh(r,"width")&&(c.width=r.width),Eh(r,"height")&&(c.height=r.height),c.width+=r.paddingLeft+r.paddingRight,c.height+=r.paddingTop+r.paddingBottom,o.attr("transform","translate("+(r.paddingLeft-r.paddingRight)/2+","+(r.paddingTop-r.paddingBottom)/2+")");var s=sa(this);s.select(".label-container").remove();var l=u(s,c,r).classed("label-container",!0);mm(l,r.style);var f=l.node().getBBox();r.width=f.width,r.height=f.height})),bm(i.exit?i.exit():i.selectAll(null),e).style("opacity",0).remove(),i};function Tm(t){Om=t}function $m(t,e,n,r){var i=t.x,o=t.y,a=i-r.x,u=o-r.y,c=Math.sqrt(e*e*u*u+n*n*a*a),s=Math.abs(e*n*a/c);r.x<i&&(s=-s);var l=Math.abs(e*n*u/c);return r.y<o&&(l=-l),{x:i+s,y:o+l}}function Pm(t,e,n,r){var i,o,a,u,c,s,l,f,h,d,p,v,g;if(i=e.y-t.y,a=t.x-e.x,c=e.x*t.y-t.x*e.y,h=i*n.x+a*n.y+c,d=i*r.x+a*r.y+c,!(0!==h&&0!==d&&Dm(h,d)||(o=r.y-n.y,u=n.x-r.x,s=r.x*n.y-n.x*r.y,l=o*t.x+u*t.y+s,f=o*e.x+u*e.y+s,0!==l&&0!==f&&Dm(l,f)||0==(p=i*u-o*a))))return v=Math.abs(p/2),{x:(g=a*s-u*c)<0?(g-v)/p:(g+v)/p,y:(g=o*c-i*s)<0?(g-v)/p:(g+v)/p}}function Dm(t,e){return t*e>0}var Lm={rect:function(t,e,n){var r=t.insert("rect",":first-child").attr("rx",n.rx).attr("ry",n.ry).attr("x",-e.width/2).attr("y",-e.height/2).attr("width",e.width).attr("height",e.height);return n.intersect=function(t){return function(t,e){var n,r,i=t.x,o=t.y,a=e.x-i,u=e.y-o,c=t.width/2,s=t.height/2;return Math.abs(u)*c>Math.abs(a)*s?(u<0&&(s=-s),n=0===u?0:s*a/u,r=s):(a<0&&(c=-c),n=c,r=0===a?0:c*u/a),{x:i+n,y:o+r}}(n,t)},r},ellipse:function(t,e,n){var r=e.width/2,i=e.height/2,o=t.insert("ellipse",":first-child").attr("x",-e.width/2).attr("y",-e.height/2).attr("rx",r).attr("ry",i);return n.intersect=function(t){return $m(n,r,i,t)},o},circle:function(t,e,n){var r=Math.max(e.width,e.height)/2,i=t.insert("circle",":first-child").attr("x",-e.width/2).attr("y",-e.height/2).attr("r",r);return n.intersect=function(t){return function(t,e,n){return $m(t,e,e,n)}(n,r,t)},i},diamond:function(t,e,n){var r=e.width*Math.SQRT2/2,i=e.height*Math.SQRT2/2,o=[{x:0,y:-i},{x:-r,y:0},{x:0,y:i},{x:r,y:0}],a=t.insert("polygon",":first-child").attr("points",o.map((function(t){return t.x+","+t.y})).join(" "));return n.intersect=function(t){return function(t,e,n){var r=t.x,i=t.y,o=[],a=Number.POSITIVE_INFINITY,u=Number.POSITIVE_INFINITY;e.forEach((function(t){a=Math.min(a,t.x),u=Math.min(u,t.y)}));for(var c=r-t.width/2-a,s=i-t.height/2-u,l=0;l<e.length;l++){var f=e[l],h=e[l<e.length-1?l+1:0],d=Pm(t,n,{x:c+f.x,y:s+f.y},{x:c+h.x,y:s+h.y});d&&o.push(d)}return o.length?(o.length>1&&o.sort((function(t,e){var r=t.x-n.x,i=t.y-n.y,o=Math.sqrt(r*r+i*i),a=e.x-n.x,u=e.y-n.y,c=Math.sqrt(a*a+u*u);return o<c?-1:o===c?0:1})),o[0]):(console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",t),t)}(n,o,t)},a}};function zm(t){Lm=t}function Vm(){var t=function(t,e){!function(t){t.nodes().forEach((function(e){var n=t.node(e);Eh(n,"label")||t.children(e).length||(n.label=e),Eh(n,"paddingX")&&td(n,{paddingLeft:n.paddingX,paddingRight:n.paddingX}),Eh(n,"paddingY")&&td(n,{paddingTop:n.paddingY,paddingBottom:n.paddingY}),Eh(n,"padding")&&td(n,{paddingLeft:n.padding,paddingRight:n.padding,paddingTop:n.padding,paddingBottom:n.padding}),td(n,Um),fd(["paddingLeft","paddingRight","paddingTop","paddingBottom"],(function(t){n[t]=Number(n[t])})),Eh(n,"width")&&(n._prevWidth=n.width),Eh(n,"height")&&(n._prevHeight=n.height)})),t.edges().forEach((function(e){var n=t.edge(e);Eh(n,"label")||(n.label=""),td(n,Rm)}))}(e);var n=Bm(t,"output"),r=Bm(n,"clusters"),i=Bm(n,"edgePaths"),o=km(Bm(n,"edgeLabels"),e),a=Om(Bm(n,"nodes"),e,Lm);rm(e),function(t,e){function n(t){var n=e.node(t);return"translate("+n.x+","+n.y+")"}t.filter((function(){return!sa(this).classed("update")})).attr("transform",n),bm(t,e).style("opacity",1).attr("transform",n)}(a,e),function(t,e){function n(t){var n=e.edge(t);return Eh(n,"x")?"translate("+n.x+","+n.y+")":""}t.filter((function(){return!sa(this).classed("update")})).attr("transform",n),bm(t,e).style("opacity",1).attr("transform",n)}(o,e),Sm(i,e,wm),function(t,e){var n=t.filter((function(){return!sa(this).classed("update")}));function r(t){var n=e.node(t);return"translate("+n.x+","+n.y+")"}n.attr("transform",r),bm(t,e).style("opacity",1).attr("transform",r),bm(n.selectAll("rect"),e).attr("width",(function(t){return e.node(t).width})).attr("height",(function(t){return e.node(t).height})).attr("x",(function(t){return-e.node(t).width/2})).attr("y",(function(t){return-e.node(t).height/2}))}(Mm(r,e),e),function(t){fd(t.nodes(),(function(e){var n=t.node(e);Eh(n,"_prevWidth")?n.width=n._prevWidth:delete n.width,Eh(n,"_prevHeight")?n.height=n._prevHeight:delete n.height,delete n._prevWidth,delete n._prevHeight}))}(e)};return t.createNodes=function(e){return arguments.length?(Tm(e),t):Om},t.createClusters=function(e){return arguments.length?(Am(e),t):Mm},t.createEdgeLabels=function(e){return arguments.length?(Cm(e),t):km},t.createEdgePaths=function(e){return arguments.length?(jm(e),t):Sm},t.shapes=function(e){return arguments.length?(zm(e),t):Lm},t.arrows=function(e){return arguments.length?(xm(e),t):wm},t}var Um={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},Rm={arrowhead:"normal",curve:ha};function Bm(t,e){var n=t.select("g."+e);return n.empty()&&(n=t.append("g").attr("class",e)),n}var Fm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},qm=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Fm.hasOwnProperty(e)?{space:Fm[e],local:t}:t};function Ym(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return"http://www.w3.org/1999/xhtml"===n&&"http://www.w3.org/1999/xhtml"===e.documentElement.namespaceURI?e.createElement(t):e.createElementNS(n,t)}}function Wm(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var Hm=function(t){var e=qm(t);return(e.local?Wm:Ym)(e)},Xm=0;function Gm(){this._="@"+(++Xm).toString(36)}Gm.prototype=function(){return new Gm}.prototype={constructor:Gm,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Zm=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var Jm=document.documentElement;if(!Jm.matches){var Km=Jm.webkitMatchesSelector||Jm.msMatchesSelector||Jm.mozMatchesSelector||Jm.oMatchesSelector;Zm=function(t){return function(){return Km.call(this,t)}}}}var Qm=Zm,ty={},ey=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(ty={mouseenter:"mouseover",mouseleave:"mouseout"}));function ny(t,e,n){return t=ry(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function ry(t,e,n){return function(r){var i=ey;ey=r;try{t.call(this,this.__data__,e,n)}finally{ey=i}}}function iy(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function oy(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function ay(t,e,n){var r=ty.hasOwnProperty(t.type)?ny:ry;return function(i,o,a){var u,c=this.__on,s=r(e,o,a);if(c)for(var l=0,f=c.length;l<f;++l)if((u=c[l]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=s,u.capture=n),void(u.value=e);this.addEventListener(t.type,s,n),u={type:t.type,name:t.name,value:e,listener:s,capture:n},c?c.push(u):this.__on=[u]}}function uy(){}var cy=function(t){return null==t?uy:function(){return this.querySelector(t)}};function sy(){return[]}var ly=function(t){return new Array(t.length)};function fy(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}fy.prototype={constructor:fy,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function hy(t,e,n,r,i,o){for(var a,u=0,c=e.length,s=o.length;u<s;++u)(a=e[u])?(a.__data__=o[u],r[u]=a):n[u]=new fy(t,o[u]);for(;u<c;++u)(a=e[u])&&(i[u]=a)}function dy(t,e,n,r,i,o,a){var u,c,s,l={},f=e.length,h=o.length,d=new Array(f);for(u=0;u<f;++u)(c=e[u])&&(d[u]=s="$"+a.call(c,c.__data__,u,e),s in l?i[u]=c:l[s]=c);for(u=0;u<h;++u)(c=l[s="$"+a.call(t,o[u],u,o)])?(r[u]=c,c.__data__=o[u],l[s]=null):n[u]=new fy(t,o[u]);for(u=0;u<f;++u)(c=e[u])&&l[d[u]]===c&&(i[u]=c)}function py(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function vy(t){return function(){this.removeAttribute(t)}}function gy(t){return function(){this.removeAttributeNS(t.space,t.local)}}function _y(t,e){return function(){this.setAttribute(t,e)}}function my(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function yy(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function by(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var wy=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function xy(t){return function(){this.style.removeProperty(t)}}function Ey(t,e,n){return function(){this.style.setProperty(t,e,n)}}function My(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Ay(t){return function(){delete this[t]}}function ky(t,e){return function(){this[t]=e}}function Cy(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Ny(t){return t.trim().split(/^|\s+/)}function Sy(t){return t.classList||new jy(t)}function jy(t){this._node=t,this._names=Ny(t.getAttribute("class")||"")}function Iy(t,e){for(var n=Sy(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Oy(t,e){for(var n=Sy(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Ty(t){return function(){Iy(this,t)}}function $y(t){return function(){Oy(this,t)}}function Py(t,e){return function(){(e.apply(this,arguments)?Iy:Oy)(this,t)}}jy.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Dy(){this.textContent=""}function Ly(t){return function(){this.textContent=t}}function zy(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Vy(){this.innerHTML=""}function Uy(t){return function(){this.innerHTML=t}}function Ry(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function By(){this.nextSibling&&this.parentNode.appendChild(this)}function Fy(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function qy(){return null}function Yy(){var t=this.parentNode;t&&t.removeChild(this)}function Wy(t,e,n){var r=wy(t),i=r.CustomEvent;i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Hy(t,e){return function(){return Wy(this,t,e)}}function Xy(t,e){return function(){return Wy(this,t,e.apply(this,arguments))}}var Gy=[null];function Zy(t,e){this._groups=t,this._parents=e}function Jy(){return new Zy([[document.documentElement]],Gy)}Zy.prototype=Jy.prototype={constructor:Zy,select:function(t){"function"!=typeof t&&(t=cy(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,u=e[i],c=u.length,s=r[i]=new Array(c),l=0;l<c;++l)(o=u[l])&&(a=t.call(o,o.__data__,l,u))&&("__data__"in o&&(a.__data__=o.__data__),s[l]=a);return new Zy(r,this._parents)},selectAll:function(t){var e;"function"!=typeof t&&(t=null==(e=t)?sy:function(){return this.querySelectorAll(e)});for(var n=this._groups,r=n.length,i=[],o=[],a=0;a<r;++a)for(var u,c=n[a],s=c.length,l=0;l<s;++l)(u=c[l])&&(i.push(t.call(u,u.__data__,l,c)),o.push(u));return new Zy(i,o)},filter:function(t){"function"!=typeof t&&(t=Qm(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,c=r[i]=[],s=0;s<u;++s)(o=a[s])&&t.call(o,o.__data__,s,a)&&c.push(o);return new Zy(r,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),l=-1,this.each((function(t){p[++l]=t})),p;var n,r=e?dy:hy,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,u=new Array(a),c=new Array(a),s=new Array(a),l=0;l<a;++l){var f=i[l],h=o[l],d=h.length,p=t.call(f,f&&f.__data__,l,i),v=p.length,g=c[l]=new Array(v),_=u[l]=new Array(v);r(f,h,g,_,s[l]=new Array(d),p,e);for(var m,y,b=0,w=0;b<v;++b)if(m=g[b]){for(b>=w&&(w=b+1);!(y=_[w])&&++w<v;);m._next=y||null}}return(u=new Zy(u,i))._enter=c,u._exit=s,u},enter:function(){return new Zy(this._enter||this._groups.map(ly),this._parents)},exit:function(){return new Zy(this._exit||this._groups.map(ly),this._parents)},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var c,s=e[u],l=n[u],f=s.length,h=a[u]=new Array(f),d=0;d<f;++d)(c=s[d]||l[d])&&(h[d]=c);for(;u<r;++u)a[u]=e[u];return new Zy(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=py);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,u=n[o],c=u.length,s=i[o]=new Array(c),l=0;l<c;++l)(a=u[l])&&(s[l]=a);s.sort(e)}return new Zy(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=qm(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?gy:vy:"function"==typeof e?n.local?by:yy:n.local?my:_y)(n,e))},style:function(t,e,n){var r;return arguments.length>1?this.each((null==e?xy:"function"==typeof e?My:Ey)(t,e,null==n?"":n)):wy(r=this.node()).getComputedStyle(r,null).getPropertyValue(t)},property:function(t,e){return arguments.length>1?this.each((null==e?Ay:"function"==typeof e?Cy:ky)(t,e)):this.node()[t]},classed:function(t,e){var n=Ny(t+"");if(arguments.length<2){for(var r=Sy(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Py:e?Ty:$y)(n,e))},text:function(t){return arguments.length?this.each(null==t?Dy:("function"==typeof t?zy:Ly)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Vy:("function"==typeof t?Ry:Uy)(t)):this.node().innerHTML},raise:function(){return this.each(By)},lower:function(){return this.each(Fy)},append:function(t){var e="function"==typeof t?t:Hm(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Hm(t),r=null==e?qy:"function"==typeof e?e:cy(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Yy)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=iy(t+""),a=o.length;if(!(arguments.length<2)){for(u=e?ay:oy,null==n&&(n=!1),r=0;r<a;++r)this.each(u(o[r],e,n));return this}var u=this.node().__on;if(u)for(var c,s=0,l=u.length;s<l;++s)for(r=0,c=u[s];r<a;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?Xy:Hy)(t,e))}};var Ky,Qy=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},tb=function(t){return(t=Qy(Math.abs(t)))?t[1]:NaN},eb=function(t,e){var n=Qy(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},nb={"":function(t,e){t:for(var n,r=(t=t.toPrecision(e)).length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=n=i;break;case"0":0===o&&(o=i),n=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t},"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return eb(100*t,e)},r:eb,s:function(t,e){var n=Qy(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Ky=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Qy(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},rb=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i,ib=function(t){return new ob(t)};function ob(t){if(!(e=rb.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",r=e[2]||">",i=e[3]||"-",o=e[4]||"",a=!!e[5],u=e[6]&&+e[6],c=!!e[7],s=e[8]&&+e[8].slice(1),l=e[9]||"";"n"===l?(c=!0,l="g"):nb[l]||(l=""),(a||"0"===n&&"="===r)&&(a=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=o,this.zero=a,this.width=u,this.comma=c,this.precision=s,this.type=l}ob.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var ab=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ub(t){return t}var cb,sb,lb,fb=function(t){var e,n,r=t.grouping&&t.thousands?(e=t.grouping,n=t.thousands,function(t,r){for(var i=t.length,o=[],a=0,u=e[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),o.push(t.substring(i-=u,i+u)),!((c+=u+1)>r));)u=e[a=(a+1)%e.length];return o.reverse().join(n)}):ub,i=t.currency,o=t.decimal;function a(t){var e=(t=ib(t)).fill,n=t.align,a=t.sign,u=t.symbol,c=t.zero,s=t.width,l=t.comma,f=t.precision,h=t.type,d="$"===u?i[0]:"#"===u&&/[boxX]/.test(h)?"0"+h.toLowerCase():"",p="$"===u?i[1]:/[%p]/.test(h)?"%":"",v=nb[h],g=!h||/[defgprs%]/.test(h);function _(t){var i,u,_,m=d,y=p;if("c"===h)y=v(t)+y,t="";else{var b=((t=+t)<0||1/t<0)&&(t*=-1,!0);if(t=v(t,f),b)for(i=-1,u=t.length,b=!1;++i<u;)if(48<(_=t.charCodeAt(i))&&_<58||"x"===h&&96<_&&_<103||"X"===h&&64<_&&_<71){b=!0;break}if(m=(b?"("===a?a:"-":"-"===a||"("===a?"":a)+m,y=y+("s"===h?ab[8+Ky/3]:"")+(b&&"("===a?")":""),g)for(i=-1,u=t.length;++i<u;)if(48>(_=t.charCodeAt(i))||_>57){y=(46===_?o+t.slice(i+1):t.slice(i))+y,t=t.slice(0,i);break}}l&&!c&&(t=r(t,1/0));var w=m.length+t.length+y.length,x=w<s?new Array(s-w+1).join(e):"";switch(l&&c&&(t=r(x+t,x.length?s-y.length:1/0),x=""),n){case"<":return m+t+y+x;case"=":return m+x+t+y;case"^":return x.slice(0,w=x.length>>1)+m+t+y+x.slice(w)}return x+m+t+y}return f=null==f?h?6:12:/[gprs]/.test(h)?Math.max(1,Math.min(21,f)):Math.max(0,Math.min(20,f)),_.toString=function(){return t+""},_}return{format:a,formatPrefix:function(t,e){var n=a(((t=ib(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(tb(e)/3))),i=Math.pow(10,-r),o=ab[8+r/3];return function(t){return n(i*t)+o}}}};cb=fb({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),sb=cb.format,lb=cb.formatPrefix;var hb=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},db=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return hb(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}};var pb=db(hb),vb=pb.right,gb=(pb.left,vb),_b=Array.prototype,mb=(_b.slice,_b.map,function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}),yb=Math.sqrt(50),bb=Math.sqrt(10),wb=Math.sqrt(2),xb=function(t,e,n){var r=Eb(t,e,n);return mb(Math.ceil(t/r)*r,Math.floor(e/r)*r+r/2,r)};function Eb(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=yb?i*=10:o>=bb?i*=5:o>=wb&&(i*=2),e<t?-i:i}var Mb=function(t,e){var n,r=0,i=t.length,o=-1;if(null==e)for(;++o<i;)(n=+t[o])&&(r+=n);else for(;++o<i;)(n=+e(t[o],o,t))&&(r+=n);return r};function Ab(){}function kb(t,e){var n=new Ab;if(t instanceof Ab)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}Ab.prototype=kb.prototype={constructor:Ab,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var Cb=kb;function Nb(){}var Sb=Cb.prototype;function jb(t,e){var n=new Nb;if(t instanceof Nb)t.each((function(t){n.add(t)}));else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}Nb.prototype=jb.prototype={constructor:Nb,has:Sb.has,add:function(t){return this["$"+(t+="")]=t,this},remove:Sb.remove,clear:Sb.clear,values:Sb.keys,size:Sb.size,empty:Sb.empty,each:Sb.each};var Ib=Array.prototype,Ob=Ib.map,Tb=Ib.slice;var $b=function(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}},Pb=function(t){return function(){return t}},Db=function(t){return+t},Lb=[0,1];function zb(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Pb(e)}function Vb(t,e,n,r){var i=t[0],o=t[1],a=e[0],u=e[1];return o<i?(i=n(o,i),a=r(u,a)):(i=n(i,o),a=r(a,u)),function(t){return a(i(t))}}function Ub(t,e,n,r){var i=Math.min(t.length,e.length)-1,o=new Array(i),a=new Array(i),u=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<i;)o[u]=n(t[u],t[u+1]),a[u]=r(e[u],e[u+1]);return function(e){var n=gb(t,e,1,i)-1;return a[n](o[n](e))}}function Rb(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function Bb(t,e){var n,r,i,o=Lb,a=Lb,u=Ke,c=!1;function s(){return n=Math.min(o.length,a.length)>2?Ub:Vb,r=i=null,l}function l(e){return(r||(r=n(o,a,c?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:r(t)}}}(t):t,u)))(+e)}return l.invert=function(t){return(i||(i=n(a,o,zb,c?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:r(t)}}}(e):e)))(+t)},l.domain=function(t){return arguments.length?(o=Ob.call(t,Db),s()):o.slice()},l.range=function(t){return arguments.length?(a=Tb.call(t),s()):a.slice()},l.rangeRound=function(t){return a=Tb.call(t),u=$b,s()},l.clamp=function(t){return arguments.length?(c=!!t,s()):c},l.interpolate=function(t){return arguments.length?(u=t,s()):u},s()}var Fb=function(t,e,n){var r,i=t[0],o=t[t.length-1],a=Eb(i,o,null==e?10:e);switch((n=ib(null==n?",f":n)).type){case"s":var u=Math.max(Math.abs(i),Math.abs(o));return null!=n.precision||isNaN(r=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(tb(e)/3)))-tb(Math.abs(t)))}(a,u))||(n.precision=r),lb(n,u);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,tb(e)-tb(t))+1}(a,Math.max(Math.abs(i),Math.abs(o))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=function(t){return Math.max(0,-tb(Math.abs(t)))}(a))||(n.precision=r-2*("%"===n.type))}return sb(n)};function qb(t){var e=t.domain;return t.ticks=function(t){var n=e();return xb(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){return Fb(e(),t,n)},t.nice=function(n){var r=e(),i=r.length-1,o=null==n?10:n,a=r[0],u=r[i],c=Eb(a,u,o);return c&&(c=Eb(Math.floor(a/c)*c,Math.ceil(u/c)*c,o),r[0]=Math.floor(a/c)*c,r[i]=Math.ceil(u/c)*c,e(r)),t},t}function Yb(){var t=Bb(zb,He);return t.copy=function(){return Rb(t,Yb())},qb(t)}var Wb=new Date,Hb=new Date;function Xb(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,u=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return u;do{u.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return u},i.filter=function(n){return Xb((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return Wb.setTime(+e),Hb.setTime(+r),t(Wb),t(Hb),Math.floor(n(Wb,Hb))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var Gb=Xb((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Gb.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Xb((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var Zb=Gb,Jb=(Gb.range,Xb((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})));Jb.range;function Kb(t){return Xb((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var Qb=Kb(0),tw=Kb(1),ew=Kb(2),nw=Kb(3),rw=Kb(4),iw=Kb(5),ow=Kb(6),aw=(Qb.range,tw.range,ew.range,nw.range,rw.range,iw.range,ow.range,Xb((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1}))),uw=aw,cw=(aw.range,Xb((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()}))),sw=(cw.range,Xb((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getMinutes()}))),lw=(sw.range,Xb((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()}))),fw=(lw.range,Xb((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t})));fw.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Xb((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):fw:null};fw.range;function hw(t){return Xb((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/6048e5}))}var dw=hw(0),pw=hw(1),vw=hw(2),gw=hw(3),_w=hw(4),mw=hw(5),yw=hw(6),bw=(dw.range,pw.range,vw.range,gw.range,_w.range,mw.range,yw.range,Xb((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1}))),ww=bw,xw=(bw.range,Xb((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));xw.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Xb((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var Ew=xw;xw.range;function Mw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Aw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function kw(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var Cw,Nw={"-":"",_:" ",0:"0"},Sw=/^\s*\d+/,jw=/^%/,Iw=/[\\^$*+?|[\]().{}]/g;function Ow(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Tw(t){return t.replace(Iw,"\\$&")}function $w(t){return new RegExp("^(?:"+t.map(Tw).join("|")+")","i")}function Pw(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function Dw(t,e,n){var r=Sw.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Lw(t,e,n){var r=Sw.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function zw(t,e,n){var r=Sw.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Vw(t,e,n){var r=Sw.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Uw(t,e,n){var r=Sw.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Rw(t,e,n){var r=Sw.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Bw(t,e,n){var r=Sw.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Fw(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function qw(t,e,n){var r=Sw.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function Yw(t,e,n){var r=Sw.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Ww(t,e,n){var r=Sw.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Hw(t,e,n){var r=Sw.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Xw(t,e,n){var r=Sw.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Gw(t,e,n){var r=Sw.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Zw(t,e,n){var r=Sw.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Jw(t,e,n){var r=Sw.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Kw(t,e,n){var r=Sw.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Qw(t,e,n){var r=jw.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function tx(t,e,n){var r=Sw.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function ex(t,e,n){var r=Sw.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function nx(t,e){return Ow(t.getDate(),e,2)}function rx(t,e){return Ow(t.getHours(),e,2)}function ix(t,e){return Ow(t.getHours()%12||12,e,2)}function ox(t,e){return Ow(1+uw.count(Zb(t),t),e,3)}function ax(t,e){return Ow(t.getMilliseconds(),e,3)}function ux(t,e){return ax(t,e)+"000"}function cx(t,e){return Ow(t.getMonth()+1,e,2)}function sx(t,e){return Ow(t.getMinutes(),e,2)}function lx(t,e){return Ow(t.getSeconds(),e,2)}function fx(t){var e=t.getDay();return 0===e?7:e}function hx(t,e){return Ow(Qb.count(Zb(t)-1,t),e,2)}function dx(t){var e=t.getDay();return e>=4||0===e?rw(t):rw.ceil(t)}function px(t,e){return t=dx(t),Ow(rw.count(Zb(t),t)+(4===Zb(t).getDay()),e,2)}function vx(t){return t.getDay()}function gx(t,e){return Ow(tw.count(Zb(t)-1,t),e,2)}function _x(t,e){return Ow(t.getFullYear()%100,e,2)}function mx(t,e){return Ow((t=dx(t)).getFullYear()%100,e,2)}function yx(t,e){return Ow(t.getFullYear()%1e4,e,4)}function bx(t,e){var n=t.getDay();return Ow((t=n>=4||0===n?rw(t):rw.ceil(t)).getFullYear()%1e4,e,4)}function wx(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ow(e/60|0,"0",2)+Ow(e%60,"0",2)}function xx(t,e){return Ow(t.getUTCDate(),e,2)}function Ex(t,e){return Ow(t.getUTCHours(),e,2)}function Mx(t,e){return Ow(t.getUTCHours()%12||12,e,2)}function Ax(t,e){return Ow(1+ww.count(Ew(t),t),e,3)}function kx(t,e){return Ow(t.getUTCMilliseconds(),e,3)}function Cx(t,e){return kx(t,e)+"000"}function Nx(t,e){return Ow(t.getUTCMonth()+1,e,2)}function Sx(t,e){return Ow(t.getUTCMinutes(),e,2)}function jx(t,e){return Ow(t.getUTCSeconds(),e,2)}function Ix(t){var e=t.getUTCDay();return 0===e?7:e}function Ox(t,e){return Ow(dw.count(Ew(t)-1,t),e,2)}function Tx(t){var e=t.getUTCDay();return e>=4||0===e?_w(t):_w.ceil(t)}function $x(t,e){return t=Tx(t),Ow(_w.count(Ew(t),t)+(4===Ew(t).getUTCDay()),e,2)}function Px(t){return t.getUTCDay()}function Dx(t,e){return Ow(pw.count(Ew(t)-1,t),e,2)}function Lx(t,e){return Ow(t.getUTCFullYear()%100,e,2)}function zx(t,e){return Ow((t=Tx(t)).getUTCFullYear()%100,e,2)}function Vx(t,e){return Ow(t.getUTCFullYear()%1e4,e,4)}function Ux(t,e){var n=t.getUTCDay();return Ow((t=n>=4||0===n?_w(t):_w.ceil(t)).getUTCFullYear()%1e4,e,4)}function Rx(){return"+0000"}function Bx(){return"%"}function Fx(t){return+t}function qx(t){return Math.floor(+t/1e3)}!function(t){Cw=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,c=t.shortMonths,s=$w(i),l=Pw(i),f=$w(o),h=Pw(o),d=$w(a),p=Pw(a),v=$w(u),g=Pw(u),_=$w(c),m=Pw(c),y={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:nx,e:nx,f:ux,g:mx,G:bx,H:rx,I:ix,j:ox,L:ax,m:cx,M:sx,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Fx,s:qx,S:lx,u:fx,U:hx,V:px,w:vx,W:gx,x:null,X:null,y:_x,Y:yx,Z:wx,"%":Bx},b={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:xx,e:xx,f:Cx,g:zx,G:Ux,H:Ex,I:Mx,j:Ax,L:kx,m:Nx,M:Sx,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Fx,s:qx,S:jx,u:Ix,U:Ox,V:$x,w:Px,W:Dx,x:null,X:null,y:Lx,Y:Vx,Z:Rx,"%":Bx},w={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=_.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=g[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return M(t,e,n,r)},d:Ww,e:Ww,f:Kw,g:Bw,G:Rw,H:Xw,I:Xw,j:Hw,L:Jw,m:Yw,M:Gw,p:function(t,e,n){var r=s.exec(e.slice(n));return r?(t.p=l[r[0].toLowerCase()],n+r[0].length):-1},q:qw,Q:tx,s:ex,S:Zw,u:Lw,U:zw,V:Vw,w:Dw,W:Uw,x:function(t,e,r){return M(t,n,e,r)},X:function(t,e,n){return M(t,r,e,n)},y:Bw,Y:Rw,Z:Fw,"%":Qw};function x(t,e){return function(n){var r,i,o,a=[],u=-1,c=0,s=t.length;for(n instanceof Date||(n=new Date(+n));++u<s;)37===t.charCodeAt(u)&&(a.push(t.slice(c,u)),null!=(i=Nw[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),c=u+1);return a.push(t.slice(c,u)),a.join("")}}function E(t,e){return function(n){var r,i,o=kw(1900,void 0,1);if(M(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Aw(kw(o.y,0,1))).getUTCDay(),r=i>4||0===i?pw.ceil(r):pw(r),r=ww.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Mw(kw(o.y,0,1))).getDay(),r=i>4||0===i?tw.ceil(r):tw(r),r=uw.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Aw(kw(o.y,0,1)).getUTCDay():Mw(kw(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Aw(o)):Mw(o)}}function M(t,e,n,r){for(var i,o,a=0,u=e.length,c=n.length;a<u;){if(r>=c)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=w[i in Nw?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return y.x=x(n,y),y.X=x(r,y),y.c=x(e,y),b.x=x(n,b),b.X=x(r,b),b.c=x(e,b),{format:function(t){var e=x(t+="",y);return e.toString=function(){return t},e},parse:function(t){var e=E(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=E(t+="",!0);return e.toString=function(){return t},e}}}(t),Cw.format,Cw.parse,Cw.utcFormat,Cw.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Yx=Xb((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),Wx=(Yx.range,Xb((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getUTCHours()}))),Hx=(Wx.range,Xb((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getUTCMinutes()}))),Xx=(Hx.range,function(t){return t.match(/.{6}/g).map((function(t){return"#"+t}))}),Gx=(Xx("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Xx("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),Xx("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),Xx("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),Math.PI/180),Zx=180/Math.PI,Jx=-.14861,Kx=1.78277,Qx=-.29227,tE=-.90649,eE=1.97294*tE,nE=1.97294*Kx,rE=Kx*Qx-tE*Jx;function iE(t){if(t instanceof aE)return new aE(t.h,t.s,t.l,t.opacity);t instanceof Ce||(t=Ae(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(rE*r+eE*e-nE*n)/(rE+eE-nE),o=r-i,a=(1.97294*(n-i)-Qx*o)/tE,u=Math.sqrt(a*a+o*o)/(1.97294*i*(1-i)),c=u?Math.atan2(a,o)*Zx-120:NaN;return new aE(c<0?c+360:c,u,i,t.opacity)}function oE(t,e,n,r){return 1===arguments.length?iE(t):new aE(t,e,n,null==r?1:r)}function aE(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function uE(t){return function e(n){function r(e,r){var i=t((e=oE(e)).h,(r=oE(r)).h),o=Ve(e.s,r.s),a=Ve(e.l,r.l),u=Ve(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=u(t),e+""}}return n=+n,r.gamma=e,r}(1)}ae(aE,oE,ue(ce,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new aE(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new aE(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Gx,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Ce(255*(e+n*(Jx*r+Kx*i)),255*(e+n*(Qx*r+tE*i)),255*(e+n*(1.97294*r)),this.opacity)}}));uE((function(t,e){var n=e-t;return n?Le(t,n>180||n<-180?n-360*Math.round(n/360):n):De(isNaN(t)?e:t)}));var cE=uE(Ve);cE(oE(300,.5,0),oE(-240,.5,1)),cE(oE(-100,.75,.35),oE(80,1.5,.8)),cE(oE(260,.75,.35),oE(80,1.5,.8)),oE();function sE(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}sE(Xx("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),sE(Xx("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),sE(Xx("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),sE(Xx("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));var lE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fE=function(t){return t},hE=function(t){for(var e=[],n=0,r=t.length;n<r;n++)e[n]=t[r-n-1];return e},dE=function(t,e){t.each((function(){for(var t,n,r="string"==typeof(n=this)?new Zy([[document.querySelector(n)]],[document.documentElement]):new Zy([[n]],Gy),i=r.text().split(/\s+/).reverse(),o=[],a=(r.attr("y"),parseFloat(r.attr("dy"))||0),u=r.text(null).append("tspan").attr("x",0).attr("dy",a+"em");t=i.pop();)o.push(t),u.text(o.join(" ")),u.node().getComputedTextLength()>e&&o.length>1&&(o.pop(),u.text(o.join(" ")),o=[t],u=r.append("tspan").attr("x",0).attr("dy",1.2+a+"em").text(t))}))},pE={d3_drawShapes:function(t,e,n,r,i,o){"rect"===t?e.attr("height",n).attr("width",r):"circle"===t?e.attr("r",i):"line"===t?e.attr("x1",0).attr("x2",r).attr("y1",0).attr("y2",0):"path"===t&&e.attr("d",o)},d3_addText:function(t,e,n,r,i){e.append("text").attr("class",r+"label");var o=t.selectAll("g."+r+"cell text."+r+"label").data(n).text(fE);return i&&t.selectAll("g."+r+"cell text."+r+"label").call(dE,i),o},d3_calcType:function(t,e,n,r,i,o){var a=t.invertExtent?function(t,e,n){var r=t.range().map((function(r){var i=t.invertExtent(r);return e(i[0])+" "+n+" "+e(i[1])}));return{data:t.range(),labels:r,feature:fE}}(t,i,o):t.ticks?function(t,e,n){var r=[];if(e.length>1)r=e;else for(var i=t.domain(),o=(i[i.length-1]-i[0])/(e-1),a=0;a<e;a++)r.push(i[0]+a*o);var u=r.map(n);return{data:r,labels:u,feature:function(e){return t(e)}}}(t,n,i):function(t){return{data:t.domain(),labels:t.domain(),feature:function(e){return t(e)}}}(t),u=t.range&&t.range()||t.domain();return a.labels=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1],n=arguments[2],r=arguments[3],i=arguments[4];if("object"===(void 0===e?"undefined":lE(e))){if(0===e.length)return t;for(var o=e.length;o<t.length;o++)e.push(t[o]);return e}if("function"==typeof e){for(var a=[],u=t.length,c=0;c<u;c++)a.push(e({i:c,genLength:u,generatedLabels:t,domain:n,range:r,labelDelimiter:i}));return a}return t}(a.labels,r,t.domain(),u,o),e&&(a.labels=hE(a.labels),a.data=hE(a.data)),a},d3_filterCells:function(t,e){var n=t.data.map((function(e,n){return{data:e,label:t.labels[n]}})).filter(e),r=n.map((function(t){return t.data})),i=n.map((function(t){return t.label}));return t.data=t.data.filter((function(t){return-1!==r.indexOf(t)})),t.labels=t.labels.filter((function(t){return-1!==i.indexOf(t)})),t},d3_placement:function(t,e,n,r,i,o){e.attr("transform",n),r.attr("transform",i),"horizontal"===t&&r.style("text-anchor",o)},d3_addEvents:function(t,e){t.on("mouseover.legend",(function(t){!function(t,e,n){t.call("cellover",n,e)}(e,t,this)})).on("mouseout.legend",(function(t){!function(t,e,n){t.call("cellout",n,e)}(e,t,this)})).on("click.legend",(function(t){!function(t,e,n){t.call("cellclick",n,e)}(e,t,this)}))},d3_title:function(t,e,n,r){if(""!==e){t.selectAll("text."+n+"legendTitle").data([e]).enter().append("text").attr("class",n+"legendTitle"),t.selectAll("text."+n+"legendTitle").text(e),r&&t.selectAll("text."+n+"legendTitle").call(dE,r);var i=t.select("."+n+"legendCells"),o=t.select("."+n+"legendTitle").nodes().map((function(t){return t.getBBox().height}))[0],a=-i.nodes().map((function(t){return t.getBBox().x}))[0];i.attr("transform","translate("+a+","+o+")")}},d3_defaultLocale:{format:sb,formatPrefix:lb},d3_defaultFormatSpecifier:".01f",d3_defaultDelimiter:"to"};function vE(){var t=Yb(),e="rect",n=15,r=15,i=10,o=2,a=[5],u=void 0,c=[],s="",l=!1,f="",h=pE.d3_defaultLocale,d=pE.d3_defaultFormatSpecifier,p=10,v="middle",g=pE.d3_defaultDelimiter,_=void 0,m="vertical",y=!1,b=void 0,w=void 0,x=B("cellover","cellout","cellclick");function E(E){var M=pE.d3_calcType(t,y,a,c,h.format(d),g);E.selectAll("g").data([t]).enter().append("g").attr("class",s+"legendCells"),u&&pE.d3_filterCells(M,u);var A=E.select("."+s+"legendCells").selectAll("."+s+"cell").data(M.data),k=A.enter().append("g").attr("class",s+"cell");k.append(e).attr("class",s+"swatch");var C=E.selectAll("g."+s+"cell "+e+"."+s+"swatch").data(M.data);pE.d3_addEvents(k,x),A.exit().transition().style("opacity",0).remove(),C.exit().transition().style("opacity",0).remove(),C=C.merge(C),pE.d3_drawShapes(e,C,r,n,i,b);var N=pE.d3_addText(E,k,M.labels,s,_);A=k.merge(A);var S=N.nodes().map((function(t){return t.getBBox()})),j=C.nodes().map((function(t){return t.getBBox()}));l?C.attr("class",(function(t){return s+"swatch "+M.feature(t)})):"line"==e?C.style("stroke",M.feature):C.style("fill",M.feature);var I,O=void 0,T=void 0,$="start"==v?0:"middle"==v?.5:1;"vertical"===m?(I=S.map((function(t,e){return Math.max(t.height,j[e].height)})),O=function(t,e){return"translate(0, "+(Mb(I.slice(0,e))+e*o)+")"},T=function(t,e){return"translate( "+(j[e].width+j[e].x+p)+", "+(j[e].y+j[e].height/2+5)+")"}):"horizontal"===m&&(O=function(t,e){return"translate("+e*(j[e].width+o)+",0)"},T=function(t,e){return"translate("+(j[e].width*$+j[e].x)+",\n          "+(j[e].height+j[e].y+p+8)+")"}),pE.d3_placement(m,A,O,N,T,v),pE.d3_title(E,f,s,w),A.transition().style("opacity",1)}return E.scale=function(e){return arguments.length?(t=e,E):t},E.cells=function(t){return arguments.length?((t.length>1||t>=2)&&(a=t),E):a},E.cellFilter=function(t){return arguments.length?(u=t,E):u},E.shape=function(t,n){return arguments.length?(("rect"==t||"circle"==t||"line"==t||"path"==t&&"string"==typeof n)&&(e=t,b=n),E):e},E.shapeWidth=function(t){return arguments.length?(n=+t,E):n},E.shapeHeight=function(t){return arguments.length?(r=+t,E):r},E.shapeRadius=function(t){return arguments.length?(i=+t,E):i},E.shapePadding=function(t){return arguments.length?(o=+t,E):o},E.labels=function(t){return arguments.length?(c=t,E):c},E.labelAlign=function(t){return arguments.length?("start"!=t&&"end"!=t&&"middle"!=t||(v=t),E):v},E.locale=function(t){return arguments.length?(h=fb(t),E):h},E.labelFormat=function(t){return arguments.length?(d=ib(t),E):E.locale().format(d)},E.labelOffset=function(t){return arguments.length?(p=+t,E):p},E.labelDelimiter=function(t){return arguments.length?(g=t,E):g},E.labelWrap=function(t){return arguments.length?(_=t,E):_},E.useClass=function(t){return arguments.length?(!0!==t&&!1!==t||(l=t),E):l},E.orient=function(t){return arguments.length?("horizontal"!=(t=t.toLowerCase())&&"vertical"!=t||(m=t),E):m},E.ascending=function(t){return arguments.length?(y=!!t,E):y},E.classPrefix=function(t){return arguments.length?(s=t,E):s},E.title=function(t){return arguments.length?(f=t,E):f},E.titleWidth=function(t){return arguments.length?(w=t,E):w},E.textWrap=function(t){return arguments.length?(textWrap=t,E):textWrap},E.on=function(){var t=x.on.apply(x,arguments);return t===x?E:t},E}let gE=0;const _E=["Start Vertex","Blocked Vertex","Fake Vertex"],mE=["var(--start-vertex-color)","var(--blocked-vertex-color)","var(--fake-vertex-color)"];function yE(t,e){const n={id:t.id,label:t.name,class:"node-label"};return t.sharedState&&(n.sharedState=t.sharedState),t.properties&&t.properties.blocked&&(n.class+=" node-blocked",n.blocked=!0),t.properties&&t.properties.description&&(n.description=t.properties.description),t.properties&&(n.properties=Object(c.omit)(t.properties,["blocked","description"])),e.includes(t.id)&&(n.class+=" node-start"),"fake_vertex"===t.name&&(n.class+=" node-fake"),n}function bE(t){const e={id:t.id,labelId:"label_"+t.id,targetVertexId:t.targetVertexId,label:t.name};return t.properties&&t.properties.description&&(e.description=t.properties.description),t.sourceVertexId&&(e.sourceVertexId=t.sourceVertexId),t.guard&&(e.guard=t.guard),t.actions&&(e.actions=t.actions),t.properties&&(e.properties=Object(c.omit)(t.properties,["description"])),e}function wE(t,e,n){const r={id:"fake_vertex"+gE,name:"fake_vertex",description:"Fake vertex created for starting edge."};t.setNode(r.id,yE(r,n)),t.setEdge(r.id,e.targetVertexId,bE(e),e.id)}function xE(t,e){gE=0;const n=new r.Graph({multigraph:!0}).setGraph(e||{}),i=t.reduce((t,e)=>t.concat(e.vertices),[]),o=t.reduce((t,e)=>t.concat(e.edges),[]),a=t.map(t=>t.startElementId),u=i.reduce((t,e)=>(e.sharedState&&(t[e.sharedState]?t[e.sharedState].push(e.id):t[e.sharedState]=[e.id]),t),{}),c=Object.keys(u),s={};i.forEach((function(t){n.setNode(t.id,yE(t,a)),t.properties&&t.properties.color&&(s[t.id]=t.properties.color)})),o.forEach((function(t){t.sourceVertexId?n.setEdge(t.sourceVertexId,t.targetVertexId,bE(t),t.id):wE(n,t,a)}));const l=qi().domain(c).range(function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}(t=>Hi(.4*t+.3),Math.max(c.length,2)));return n.nodes().forEach((function(t){const e=n.node(t);e.rx=e.ry=1,c.forEach(n=>{u[n].includes(t)&&(e.style="fill: "+l(n))}),s[t]&&(e.style="fill: "+s[t]+"!important")})),{graph:n,legendDomain:[..._E,...c.map(t=>"Shared State: "+t)],legendRange:[...mE,...c.map(t=>l(t))]}}function EE(t){let e="";return t&&(e+=`<div>Description: <span>${t}</span></div>`),e}function ME(t){let e="";return t&&!Object(c.isEmpty)(t)&&(e+="<div>Properties:",Object.keys(t).forEach(n=>{e+=`<div>${n}: <span>${t[n]}</span></div>`}),e+="</div>"),e}function AE(t,e){const n=t.node(e);let r=`<div>Id: <span>${n.id}</span> ${n.blocked?"<span>[BLOCKED]</span>":""}</div>`;return r+=EE(n.description),n.sharedState&&(r+=`<div> Shared State: <span>${n.sharedState}</span></div>`),r+=ME(n.properties),r}function kE(t,e){const n=t.edge(e.v,e.w,e.name);let r=`<div>Id: <span>${n.id}</span></div>`;return r+=EE(n.description),n.sourceVertexId&&(r+=`<div>Source Vertex Id: <span>${n.sourceVertexId}</span></div>`),r+=`<div>Target Vertex Id: <span>${n.targetVertexId}</span></div>`,n.guard&&(r+=`<div>Guard: <span class='mv-tooltip-code'>${n.guard}</span></div>`),r+=function(t){let e="";return t&&!Object(c.isEmpty)(t)&&(e+="<div>Actions:",t.forEach(t=>{e+=`<div><span class='mv-tooltip-code'>${t}</span></div>`}),e+="</div>"),e}(n.actions),r+=ME(n.properties),r}function CE(t,e,n,r,i){const o=12,a=12;t.selectAll(n).on("mouseover.tooltip",(t,n)=>{e.transition().style("display","block").style("opacity",1),e.html(r(i,n)).style("left",t.pageX+o+"px").style("top",t.pageY+a+"px").style("cursor","pointer")}).on("mouseout.tooltip",t=>{e.transition().style("display","none").style("opacity",0).style("cursor","auto")})}function NE(t,e,n){n.style("display","none").style("opacity",0),CE(t,n,".node",AE,e),CE(t,n,".edgePath, .edgeLabel",kE,e)}function SE(t,e,n){const r=sa("#"+t);r.selectAll("svg").remove();const i=r.append("svg").style("height",25*(e.length+1)+"px").style("width","100%");i.append("g").attr("class","legendQuant").attr("transform","translate(20,20)");const o=qi().domain(e).range(n),a=vE().title("Graph Legend").scale(o);i.select(".legendQuant").call(a)}class jE{constructor(){this.onSelectNode=void 0,this.onCreateNode=void 0,this.onUpdateEdge=void 0,this.onCreateEdge=void 0,this.onSelectEdge=void 0,this.onSelectModel=void 0}updateEdge(t,e,n){this.onUpdateEdge&&this.onUpdateEdge(t,e,n)}createEdge(t,e){this.onCreateEdge&&this.onCreateEdge(t,e)}selectEdge(t){this.onSelectEdge&&this.onSelectEdge(t)}selectNode(t){this.onSelectNode&&this.onSelectNode(t)}createNode(){this.onCreateNode&&this.onCreateNode()}selectModel(){this.onSelectModel&&this.onSelectModel()}}function IE(t,e){const n=new jE,r=function(t,e,n){return{path:t.select("path.dynamicPath"),stx:0,sty:0,endx:0,endy:0,active:!1,painted:!1,startNodeId:null,endNodeId:null,edgeId:null,getSvgLocation(t,e){const r=n.node().createSVGPoint();return r.x=t,r.y=e,r.matrixTransform(n.node().getScreenCTM().inverse())},activate:function(t,n){this.edgeId=n;const r=sa(e.node(t).elem).node().getBoundingClientRect(),i=this.getSvgLocation(r.x+r.width/2,r.y+r.height/2);this.endx=this.stx=i.x,this.endy=this.sty=i.y,this.startNodeId=t,this.active=!0},paint:function(t){this.active&&(this.painted||this.edgeId||(this.endNodeId=this.startNodeId),this.endx=t[0],this.endy=t[1],this.path.attr("class","path dynamicPath").attr("d",`M${this.stx},${this.sty}L${this.endx},${this.endy}`),this.painted=!0)},hide:function(){this.path.attr("class","path dynamicPath hidden"),this.active=!1,this.painted=!1,this.startNodeId=null,this.endNodeId=null,this.edgeId=null}}}(t.select("g#interaction"),e,t);return t.on("mousemove.interaction",(function(t){const e=function(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}(t);r.paint(e)})).on("mouseup.interaction",(function(){r.active&&(r.startNodeId&&r.endNodeId&&(r.edgeId?n.updateEdge(r.edgeId,r.startNodeId,r.endNodeId):n.createEdge(r.startNodeId,r.endNodeId)),r.painted||(r.edgeId?n.selectEdge(r.edgeId):n.selectNode(r.startNodeId)),r.hide())})).on("mousedown.interaction",()=>{n.selectModel()}),t.selectAll("g.node .label").attr("pointer-events","none"),t.selectAll("g.node").on("mousedown.interaction",(t,e)=>{t.stopPropagation(),r.activate(e)}).on("mouseout.interaction",(function(){r.active&&(r.endNodeId=null)})).on("mouseover.interaction",(function(t,e){r.active&&(r.endNodeId=e)})),t.selectAll(".edgePath, .edgeLabel").on("mousedown.interaction",(t,e)=>{t.stopPropagation(),r.activate(e.v,e.name)}),OE(t,e),t.on("dblclick.zoom",()=>{n.createNode()}),n}function OE(t,e){const n=t.select("g#graph"),r=function(){var t,e,n,r=Ll,i=zl,o=Bl,a=Ul,u=Rl,c=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,f=Sc,h=B("start","zoom","end"),d=0,p=10;function v(t){t.property("__zoom",Vl).on("wheel.zoom",x,{passive:!1}).on("mousedown.zoom",E).on("dblclick.zoom",M).filter(u).on("touchstart.zoom",A).on("touchmove.zoom",k).on("touchend.zoom touchcancel.zoom",C).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(t,e){return(e=Math.max(c[0],Math.min(c[1],e)))===t.k?t:new Tl(e,t.x,t.y)}function _(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new Tl(t.k,r,i)}function m(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function y(t,e,n,r){t.on("start.zoom",(function(){b(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){b(this,arguments).event(r).end()})).tween("zoom",(function(){var t=this,o=arguments,a=b(t,o).event(r),u=i.apply(t,o),c=null==n?m(u):"function"==typeof n?n.apply(t,o):n,s=Math.max(u[1][0]-u[0][0],u[1][1]-u[0][1]),l=t.__zoom,h="function"==typeof e?e.apply(t,o):e,d=f(l.invert(c).concat(s/l.k),h.invert(c).concat(s/h.k));return function(t){if(1===t)t=h;else{var e=d(t),n=s/e[2];t=new Tl(n,c[0]-e[0]*n,c[1]-e[1]*n)}a.zoom(null,t)}}))}function b(t,e,n){return!n&&t.__zooming||new w(t,e)}function w(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=i.apply(t,e),this.taps=0}function x(t,...e){if(r.apply(this,arguments)){var n=b(this,e).event(t),i=this.__zoom,u=Math.max(c[0],Math.min(c[1],i.k*Math.pow(2,a.apply(this,arguments)))),l=Ys(t);if(n.wheel)n.mouse[0][0]===l[0]&&n.mouse[0][1]===l[1]||(n.mouse[1]=i.invert(n.mouse[0]=l)),clearTimeout(n.wheel);else{if(i.k===u)return;n.mouse=[l,i.invert(l)],Ks(this),n.start()}Dl(t),n.wheel=setTimeout(f,150),n.zoom("mouse",o(_(g(i,u),n.mouse[0],n.mouse[1]),n.extent,s))}function f(){n.wheel=null,n.end()}}function E(t,...e){if(!n&&r.apply(this,arguments)){var i=t.currentTarget,a=b(this,e,!0).event(t),u=qs(t.view).on("mousemove.zoom",h,!0).on("mouseup.zoom",p,!0),c=Ys(t,i),l=t.clientX,f=t.clientY;ie(t.view),Pl(t),a.mouse=[c,this.__zoom.invert(c)],Ks(this),a.start()}function h(t){if(Dl(t),!a.moved){var e=t.clientX-l,n=t.clientY-f;a.moved=e*e+n*n>d}a.event(t).zoom("mouse",o(_(a.that.__zoom,a.mouse[0]=Ys(t,i),a.mouse[1]),a.extent,s))}function p(t){u.on("mousemove.zoom mouseup.zoom",null),oe(t.view,a.moved),Dl(t),a.event(t).end()}}function M(t,...e){if(r.apply(this,arguments)){var n=this.__zoom,a=Ys(t.changedTouches?t.changedTouches[0]:t,this),u=n.invert(a),c=n.k*(t.shiftKey?.5:2),f=o(_(g(n,c),a,u),i.apply(this,e),s);Dl(t),l>0?qs(this).transition().duration(l).call(y,f,a,t):qs(this).call(v.transform,f,a,t)}}function A(n,...i){if(r.apply(this,arguments)){var o,a,u,c,s=n.touches,l=s.length,f=b(this,i,n.changedTouches.length===l).event(n);for(Pl(n),a=0;a<l;++a)u=s[a],c=[c=Ys(u,this),this.__zoom.invert(c),u.identifier],f.touch0?f.touch1||f.touch0[2]===c[2]||(f.touch1=c,f.taps=0):(f.touch0=c,o=!0,f.taps=1+!!t);t&&(t=clearTimeout(t)),o&&(f.taps<2&&(e=c[0],t=setTimeout((function(){t=null}),500)),Ks(this),f.start())}}function k(t,...e){if(this.__zooming){var n,r,i,a,u=b(this,e).event(t),c=t.changedTouches,l=c.length;for(Dl(t),n=0;n<l;++n)r=c[n],i=Ys(r,this),u.touch0&&u.touch0[2]===r.identifier?u.touch0[0]=i:u.touch1&&u.touch1[2]===r.identifier&&(u.touch1[0]=i);if(r=u.that.__zoom,u.touch1){var f=u.touch0[0],h=u.touch0[1],d=u.touch1[0],p=u.touch1[1],v=(v=d[0]-f[0])*v+(v=d[1]-f[1])*v,m=(m=p[0]-h[0])*m+(m=p[1]-h[1])*m;r=g(r,Math.sqrt(v/m)),i=[(f[0]+d[0])/2,(f[1]+d[1])/2],a=[(h[0]+p[0])/2,(h[1]+p[1])/2]}else{if(!u.touch0)return;i=u.touch0[0],a=u.touch0[1]}u.zoom("touch",o(_(r,i,a),u.extent,s))}}function C(t,...r){if(this.__zooming){var i,o,a=b(this,r).event(t),u=t.changedTouches,c=u.length;for(Pl(t),n&&clearTimeout(n),n=setTimeout((function(){n=null}),500),i=0;i<c;++i)o=u[i],a.touch0&&a.touch0[2]===o.identifier?delete a.touch0:a.touch1&&a.touch1[2]===o.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(o=Ys(o,this),Math.hypot(e[0]-o[0],e[1]-o[1])<p)){var s=qs(this).on("dblclick.zoom");s&&s.apply(this,arguments)}}}return v.transform=function(t,e,n,r){var i=t.selection?t.selection():t;i.property("__zoom",Vl),t!==i?y(t,e,n,r):i.interrupt().each((function(){b(this,arguments).event(r).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},v.scaleBy=function(t,e,n,r){v.scaleTo(t,(function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n}),n,r)},v.scaleTo=function(t,e,n,r){v.transform(t,(function(){var t=i.apply(this,arguments),r=this.__zoom,a=null==n?m(t):"function"==typeof n?n.apply(this,arguments):n,u=r.invert(a),c="function"==typeof e?e.apply(this,arguments):e;return o(_(g(r,c),a,u),t,s)}),n,r)},v.translateBy=function(t,e,n,r){v.transform(t,(function(){return o(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),s)}),null,r)},v.translateTo=function(t,e,n,r,a){v.transform(t,(function(){var t=i.apply(this,arguments),a=this.__zoom,u=null==r?m(t):"function"==typeof r?r.apply(this,arguments):r;return o($l.translate(u[0],u[1]).scale(a.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,s)}),r,a)},w.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=qs(this.that).datum();h.call(t,this.that,new Ol(t,{sourceEvent:this.sourceEvent,target:v,type:t,transform:this.that.__zoom,dispatch:h}),e)}},v.wheelDelta=function(t){return arguments.length?(a="function"==typeof t?t:Il(+t),v):a},v.filter=function(t){return arguments.length?(r="function"==typeof t?t:Il(!!t),v):r},v.touchable=function(t){return arguments.length?(u="function"==typeof t?t:Il(!!t),v):u},v.extent=function(t){return arguments.length?(i="function"==typeof t?t:Il([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),v):i},v.scaleExtent=function(t){return arguments.length?(c[0]=+t[0],c[1]=+t[1],v):[c[0],c[1]]},v.translateExtent=function(t){return arguments.length?(s[0][0]=+t[0][0],s[1][0]=+t[1][0],s[0][1]=+t[0][1],s[1][1]=+t[1][1],v):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},v.constrain=function(t){return arguments.length?(o=t,v):o},v.duration=function(t){return arguments.length?(l=+t,v):l},v.interpolate=function(t){return arguments.length?(f=t,v):f},v.on=function(){var t=h.on.apply(h,arguments);return t===h?v:t},v.clickDistance=function(t){return arguments.length?(d=(t=+t)*t,v):Math.sqrt(d)},v.tapDistance=function(t){return arguments.length?(p=+t,v):p},v}().scaleExtent([.1,7]).on("zoom",(function(t){n.attr("transform",t.transform)}));t.call(r),n.attr("transform")||t.call(r.transform,$l.translate((t.attr("width")-e.graph().width)/2,20))}var TE=E({name:"EditorComponent",components:{EdgeForm:j,VertexForm:O,ModelForm:$},undoredo:null,data:function(){return{svg:null,displayDeleteModelPopUp:!1,editableModels:null,editableEdgeIndex:-1,editableVertexIndex:-1,editableModelIndex:-1,newEdge:!1,newVertex:!1,preventModelsChangedOnce:!0}},props:{models:{type:Object,required:!0},legendContainer:{type:String},graphLayoutOptions:{type:Object}},created:function(){window.addEventListener("keydown",this.keyPressHandler,!1)},destroyed:function(){window.removeEventListener("keydown",this.keyPressHandler)},mounted:function(){this.editableModels=JSON.parse(JSON.stringify(this.models)),this.undoredo=new P(this.editableModels),this.editableModels.models.length>0&&(this.editableModelIndex=0)},computed:{allModelNames(){return this.editableModels.models.map(t=>t.name)},allEdgesIds(){return this.editableModels.models.reduce((t,e)=>(t.push(...e.edges.map(t=>t.id)),t),[])},allVerticesIds(){return this.editableModels.models.reduce((t,e)=>(t.push(...e.vertices.map(t=>t.id)),t),[])},edges(){return this.editModel?this.editModel.edges:null},vertices(){return this.editModel?this.editModel.vertices:null},editModel(){return this.editableModelIndex>=0?this.editableModels.models[this.editableModelIndex]:null},editModelMeta(){return this.editableVertexIndex<0&&this.editableEdgeIndex<0}},watch:{models:{handler:function(){JSON.stringify(this.models)!==JSON.stringify(this.editableModels)&&(this.preventModelsChangedOnce=!0,this.editableModels=JSON.parse(JSON.stringify(this.models)),this.editableModelIndex>this.editableModels.models.length-1&&(this.editableModelIndex=0))},deep:!0},editableModelIndex:function(){this.editableVertexIndex=-1,this.editableEdgeIndex=-1,this.paintGraph(),this.personalizeGraph()},graphLayoutOptions:function(){this.editableVertexIndex=-1,this.editableEdgeIndex=-1,this.paintGraph()},editableModels:{handler:function(t){this.preventModelsChangedOnce?this.preventModelsChangedOnce=!1:this.$emit("change",JSON.parse(JSON.stringify(t))),this.paintGraph(),this.personalizeGraph(),this.undoredo.push(this.editableModels)},deep:!0},editableVertexIndex:function(t){this.personalizeGraph()},editableEdgeIndex:function(t){this.personalizeGraph()}},methods:{keyPressHandler(t){const e=t.target.tagName.toUpperCase();if("INPUT"===e||"SELECT"===e||"TEXTAREA"===e)return;const n=t.shiftKey,r=t.metaKey||t.ctrlKey,i=t.keyCode||t.which;if(46===i||8===i)return t.preventDefault(),this.editableEdgeIndex>=0&&this.removeEdge(this.edges[this.editableEdgeIndex].id),void(this.editableVertexIndex>=0&&this.removeVertex(this.vertices[this.editableVertexIndex].id));n&&r&&89===i?(t.preventDefault(),this.undo()):n&&r&&90===i?(t.preventDefault(),this.redo()):r&&90===i?(t.preventDefault(),this.undo()):r&&89===i&&(t.preventDefault(),this.redo())},undo(){const t=this.edges.length,e=this.vertices.length;this.editableModels=this.undoredo.undo().current(),this.edges.length!==t&&(this.editableEdgeIndex=-1),this.vertices.length!==e&&(this.editableVertexIndex=-1)},redo(){const t=this.edges.length,e=this.vertices.length;this.editableModels=this.undoredo.redo().current(),this.edges.length!==t&&(this.editableEdgeIndex=-1),this.vertices.length!==e&&(this.editableVertexIndex=-1)},paintGraph(){const t=[this.editableModels.models[this.editableModelIndex]],{graph:e,legendDomain:n,legendRange:r}=xE(t,this.graphLayoutOptions);this.svg=this.renderGraph(e),this.renderInteraction(e),this.legendContainer&&SE(this.legendContainer,n,r)},personalizeGraph(){this.svg.selectAll(".node").classed("edit",!1),this.editableVertexIndex>=0&&this.svg.select("#"+this.vertices[this.editableVertexIndex].id).classed("edit",!0),this.svg.selectAll(".edgePath").classed("edit",!1),this.svg.selectAll(".edgeLabels .label").classed("edit",!1),this.editableEdgeIndex>=0&&(this.svg.select("#"+this.edges[this.editableEdgeIndex].id).classed("edit",!0),this.svg.select("#label_"+this.edges[this.editableEdgeIndex].id).classed("edit",!0))},selectVertex(t){const e=this.getVertex(t);this.editableVertexIndex=this.vertices.indexOf(e),this.editableEdgeIndex=-1,this.newVertex=!1},selectEdge(t){const e=this.getEdge(t);this.editableEdgeIndex=this.edges.indexOf(e),this.editableVertexIndex=-1,this.newEdge=!1},removeVertex(t){this.editableVertexIndex=-1,this.editModel.edges=this.edges.filter(e=>e.sourceVertexId!==t&&e.targetVertexId!==t),this.editModel.vertices=this.vertices.filter(e=>e.id!==t)},removeEdge(t){this.editableEdgeIndex=-1,this.editModel.edges=this.edges.filter(e=>e.id!==t)},removeModel(t){this.editableModels.models.splice(t,1),0===this.editableModels.models.length?this.createModel():this.editableModelIndex===this.editableModels.models.length&&this.editableModelIndex--,this.hideDeleteModelPopUp()},createModel(){let t=0;for(;this.allModelNames.includes("NewModel"+t);)t+=1;let e=0;for(;this.allVerticesIds.includes("v"+e);)e+=1;this.editableModels.models.push({name:"NewModel"+t,generator:"random(edge_coverage(100) && vertex_coverage(100))",startElementId:"v"+e,vertices:[{id:"v"+e,name:"v"+e}],edges:[]}),this.editableModelIndex=this.editableModels.models.length-1},createVertex(){let t=0;for(;this.allVerticesIds.includes("v"+t);)t+=1;const e={id:"v"+t,name:"v"+t};this.vertices.push(e),this.selectVertex(e.id),this.newVertex=!0},createEdge(t,e){let n=0;for(;this.allEdgesIds.includes("e"+n);)n+=1;const r={id:"e"+n,name:"e"+n,sourceVertexId:t,targetVertexId:e};this.edges.push(r),this.selectEdge(r.id),this.newEdge=!0},getEdge(t){return this.edges.find(e=>e.id===t)},getVertex(t){return this.vertices.find(e=>e.id===t)},renderInteraction(t){const e=this,n=IE(this.svg,t);n.onUpdateEdge=(t,n,r)=>{const i=e.getEdge(t);i.sourceVertexId=n,i.targetVertexId=r,e.selectEdge(t)},n.onCreateEdge=(t,n)=>{e.createEdge(t,n)},n.onSelectEdge=t=>{e.selectEdge(t)},n.onSelectNode=t=>{e.selectVertex(t)},n.onCreateNode=()=>{e.createVertex()},n.onSelectModel=()=>{this.editableVertexIndex=-1,this.editableEdgeIndex=-1}},renderGraph(t){const e=this.$refs.container,n=sa(e).select("div.mv-tooltip"),r=sa(e).select("div.mv-editor"),i=sa(e).select("svg.mv-visualizer"),o=e.offsetWidth-r.node().offsetWidth-1,a=e.offsetHeight;i.attr("width",o).attr("height",a),t.graph().transition=function(t){return t.transition().duration(200)};return(new Vm)(i.select("g#graph"),t),NE(i,t,n),i},showDeleteModelPopUp(){this.displayDeleteModelPopUp=!0},hideDeleteModelPopUp(){this.displayDeleteModelPopUp=!1}}},a,[],!1,null,null,null).exports,$E=function(){var t=this._self._c;return t("div",{ref:"container",staticClass:"mv mv-viewmode"},[t("svg",{staticClass:"mv-visualizer"},[t("g",{attrs:{id:"graph"}})]),this._v(" "),t("div",{staticClass:"mv-tooltip"})])};$E._withStripped=!0;var PE=E({name:"VisualizerComponent",data:function(){return{svg:null}},props:{models:{type:Object,required:!0},legendContainer:{type:String},graphLayoutOptions:{type:Object}},mounted:function(){this.paintGraph()},watch:{models:function(){this.paintGraph()},graphLayoutOptions:function(){this.paintGraph()}},methods:{paintGraph(){const{graph:t,legendDomain:e,legendRange:n}=xE(this.models.models,this.graphLayoutOptions);this.svg=this.renderGraph(this.$refs.container,t),this.legendContainer&&SE(this.legendContainer,e,n)},renderGraph(t,e){const n=sa(t).select("svg.mv-visualizer"),r=sa(t).select("div.mv-tooltip"),i=n.select("g#graph"),o=t.offsetWidth,a=t.offsetHeight;n.attr("width",o).attr("height",a);return(new Vm)(i,e),OE(n,e),NE(n,e,r),n}}},$E,[],!1,null,null,null).exports;n(175);class DE{constructor(t){if(!t)throw Error("options parameter is required");let e=t.container;if(!e)throw Error("options.container is not set. The container for rendering the model is required");("string"==typeof e||e instanceof String)&&(e=document.getElementById(e)),this.onModelsChange=t.onModelsChange;const n=this,r={models:t.models||h,editMode:t.editMode,legendContainer:t.legendContainer,graphLayoutOptions:t.graphLayoutOptions};DE.validate(r.models),this.vm=new o.a({components:{EditorComponent:TE,VisualizerComponent:PE},data:r,template:'\n  <EditorComponent\n    ref=\'editor\'\n    v-if="editMode"\n    v-on:change="modelsChanged"\n    :models=\'models\'\n    :legend-container="legendContainer"\n    :graph-layout-options="graphLayoutOptions" />\n  <VisualizerComponent ref=\'visualizer\' v-else :models=\'models\' :legend-container="legendContainer" :graph-layout-options="graphLayoutOptions"/>\n        ',methods:{modelsChanged:function(t){r.models=t,n.onModelsChange&&n.onModelsChange(t)}}}),this.vm.$mount(e)}static validate(t){b(t)}repaint(){this.vm.editMode?this.vm.$refs.editor.paintGraph():this.vm.$refs.visualizer.paintGraph()}setModels(t){try{DE.validate(t)}catch(t){if(!(t instanceof l))throw t}this.vm.models=t}getModels(){return JSON.parse(JSON.stringify(this.vm.models))}setEditMode(t){this.vm.editMode=t}setOnModelsChange(t){this.onModelsChange=t}setGraphLayoutOptions(t){this.vm.graphLayoutOptions=t}}},2:function(t,e,n){"use strict";var r=n(14),i="object"==typeof self&&self&&self.Object===Object&&self,o=r.a||i||Function("return this")();e.a=o},23:function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},4:function(t,e,n){"use strict";(function(t){var r=n(2),i=n(67),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,u=a&&a.exports===o?r.a.Buffer:void 0,c=(u?u.isBuffer:void 0)||i.a;e.a=c}).call(this,n(23)(t))},65:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},66:function(t,e){t.exports=Vue},67:function(t,e,n){"use strict";e.a=function(){return!1}},7:function(t,e,n){"use strict";(function(t){var r=n(14),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.a.process,u=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();e.a=u}).call(this,n(23)(t))}}).default;